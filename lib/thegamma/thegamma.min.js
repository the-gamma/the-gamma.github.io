!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("monaco")):"function"==typeof define&&define.amd?define(["exports","monaco"],t):t(e.main=e.main||{},e.na)}(this,function(exports,monaco$1){"use strict";function unwrapExports(e){return e&&e.__esModule?e.default:e}function createCommonjsModule(e,t){return t={exports:{}},e(t,t.exports),t.exports}function setType(e,t){fableGlobal.types.set(e,t)}function _defineProperty$1(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck$3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Option(e){return new GenericNonDeclaredType("Option",[e])}function FArray(e){return new GenericNonDeclaredType("Array",[e])}function Tuple(e){return new GenericNonDeclaredType("Tuple",e)}function GenericParam(e){return new NonDeclaredType("GenericParam",e)}function Interface(e){return new NonDeclaredType("Interface",e)}function makeGeneric(e,t){return function(e){function n(){return _classCallCheck$3(this,n),_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return _inherits(n,e),_createClass$3(n,[{key:_Symbol.generics,value:function(){return t}}]),n}(e)}function isGeneric(e){return"function"==typeof e&&!!e.prototype[_Symbol.generics]}function getDefinition(e){return"function"==typeof e&&e.prototype[_Symbol.generics]?Object.getPrototypeOf(e.prototype).constructor:e}function hasInterface(e,t){if("function"==typeof e[_Symbol.reflection]){var n=e[_Symbol.reflection]().interfaces;return Array.isArray(n)&&n.indexOf(t)>-1}return!1}function getRestParams(e,t){for(var n=e.length,i=Array(n>t?n-t:0),r=t;r<n;r++)i[r-t]=e[r];return i}function toString$2(e){return null!=e&&"function"==typeof e.ToString?e.ToString():String(e)}function equals(e,t){if(e===t)return!0;if(null==e)return null==t;if(null==t)return!1;if(isGeneric(e)&&isGeneric(t))return getDefinition(e)===getDefinition(t)&&equalsRecords(e.prototype[_Symbol.generics](),t.prototype[_Symbol.generics]());if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;if("function"==typeof e.Equals)return e.Equals(t);if(Array.isArray(e)){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!equals(e[n],t[n]))return!1;return!0}if(ArrayBuffer.isView(e)){if(e.byteLength!==t.byteLength)return!1;for(var i=new DataView(e.buffer),r=new DataView(t.buffer),o=0;o<e.byteLength;o++)if(i.getUint8(o)!==r.getUint8(o))return!1;return!0}return e instanceof Date&&e.getTime()==t.getTime()}function compare(e,t){if(e===t)return 0;if(null==e)return null==t?0:-1;if(null==t)return-1;if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return-1;if(hasInterface(e,"System.IComparable"))return e.CompareTo(t);if(Array.isArray(e)){if(e.length!=t.length)return e.length<t.length?-1:1;for(var n=0,i=0;n<e.length;n++)if(0!==(i=compare(e[n],t[n])))return i;return 0}if(ArrayBuffer.isView(e)){if(e.byteLength!=t.byteLength)return e.byteLength<t.byteLength?-1:1;for(var r=new DataView(e.buffer),o=new DataView(t.buffer),s=0,a=0,l=0;s<e.byteLength;s++){if(a=r.getUint8(s),l=o.getUint8(s),a<l)return-1;if(a>l)return 1}return 0}return e instanceof Date?compare(e.getTime(),t.getTime()):e<t?-1:1}function equalsRecords(e,t){if(e===t)return!0;for(var n=Object.getOwnPropertyNames(e),i=0;i<n.length;i++)if(!equals(e[n[i]],t[n[i]]))return!1;return!0}function compareRecords(e,t){if(e===t)return 0;for(var n=Object.getOwnPropertyNames(e),i=0;i<n.length;i++){var r=compare(e[n[i]],t[n[i]]);if(0!==r)return r}return 0}function equalsUnions(e,t){if(e===t)return!0;if(e.Case!==t.Case)return!1;for(var n=0;n<e.Fields.length;n++)if(!equals(e.Fields[n],t.Fields[n]))return!1;return!0}function compareUnions(e,t){if(e===t)return 0;var n=compare(e.Case,t.Case);if(0!==n)return n;for(var i=0;i<e.Fields.length;i++)if(n=compare(e.Fields[i],t.Fields[i]),0!==n)return n;return 0}function createDisposable(e){return _defineProperty$1({Dispose:e},_Symbol.reflection,function(){return{interfaces:["System.IDisposable"]}})}function createObj(e){var t={},n=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=o.value;t[a[0]]=a[1]}}catch(e){i=!0,r=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw r}}return t}function _classCallCheck$2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ofArray(e,t){for(var n=t||new List$2,i=e.length-1;i>=0;i--)n=new List$2(e[i],n);return n}function addRangeInPlace(e,t){for(var n=e[Symbol.iterator](),i=n.next();!i.done;)t.push(i.value),i=n.next()}function _defineProperty$2(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function __failIfNone(e){if(null==e)throw new Error("Seq did not contain any matching element");return e}function toList(e){return foldBack$1(function(e,t){return new List$2(e,t)},e,new List$2)}function ofArray$1(e){return delay(function(){return unfold(function(t){return t<e.length?[e[t],t+1]:null},0)})}function append$1(e,t){return delay(function(){var n=!1,i=e[Symbol.iterator](),r=[i,null];return unfold(function(){var e=void 0;if(!n){if(e=r[0].next(),!e.done)return[e.value,r];n=!0,r=[null,t[Symbol.iterator]()]}return e=r[1].next(),e.done?null:[e.value,r]},r)})}function concat$1(e){return delay(function(){var t=e[Symbol.iterator](),n=null;return unfold(function(e){for(var i=!1;!i;)if(null==e){var r=t.next();r.done?i=!0:e=r.value[Symbol.iterator]()}else{var o=e.next();o.done?e=null:(n=o.value,i=!0)}return null!=e&&null!=n?[n,e]:null},null)})}function collect$1(e,t){return concat$1(map$5(e,t))}function choose$1(e,t){var n=function t(n){var i=n.next();if(!i.done){var r=e(i.value);return null!=r?[r,n]:t(n)}};return delay(function(){return unfold(function(e){return n(e)},t[Symbol.iterator]())})}function compareWith(e,t,n){var i=tryFind(function(e){return 0!=e},map2(function(t,n){return e(t,n)},t,n));return null!=i?i:count(t)-count(n)}function delay(e){return _defineProperty$2({},Symbol.iterator,function(){return e()[Symbol.iterator]()})}function empty(){return unfold(function(){})}function exists$1(e,t){function n(t){var i=t.next();return!i.done&&(e(i.value)||n(t))}return n(t[Symbol.iterator]())}function filter$2(e,t){function n(t){for(var n=t.next();!n.done;){if(e(n.value))return[n.value,t];n=t.next()}}return delay(function(){return unfold(n,t[Symbol.iterator]())})}function fold$1(e,t,n){if(Array.isArray(n)||ArrayBuffer.isView(n))return n.reduce(e,t);for(var i=void 0,r=0,o=n[Symbol.iterator]();i=o.next(),!i.done;r++)t=e(t,i.value,r);return t}function foldBack$1(e,t,n){for(var i=Array.isArray(t)||ArrayBuffer.isView(t)?t:Array.from(t),r=i.length-1;r>=0;r--)n=e(i[r],n,r);return n}function forAll$1(e,t){return fold$1(function(t,n){return t&&e(n)},!0,t)}function tryHead(e){var t=e[Symbol.iterator](),n=t.next();return n.done?null:n.value}function head(e){return __failIfNone(tryHead(e))}function initialize$1(e,t){return delay(function(){return unfold(function(n){return n<e?[t(n),n+1]:null},0)})}function tryItem(e,t){if(e<0)return null;if(Array.isArray(t)||ArrayBuffer.isView(t))return e<t.length?t[e]:null;for(var n=0,i=t[Symbol.iterator]();;n++){var r=i.next();if(r.done)return null;if(n===e)return r.value}}function item(e,t){return __failIfNone(tryItem(e,t))}function iterate$1(e,t){fold$1(function(t,n){return e(n)},null,t)}function iterateIndexed(e,t){fold$1(function(t,n,i){return e(i,n)},null,t)}function isEmpty$1(e){var t=e[Symbol.iterator]();return t.next().done}function tryLast(e){try{return reduce(function(e,t){return t},e)}catch(e){return null}}function last(e){return __failIfNone(tryLast(e))}function count(e){return Array.isArray(e)||ArrayBuffer.isView(e)?e.length:fold$1(function(e,t){return e+1},0,e)}function map$5(e,t){return delay(function(){return unfold(function(t){var n=t.next();return n.done?null:[e(n.value),t]},t[Symbol.iterator]())})}function mapIndexed$1(e,t){return delay(function(){var n=0;return unfold(function(t){var i=t.next();return i.done?null:[e(n++,i.value),t]},t[Symbol.iterator]())})}function map2(e,t,n){return delay(function(){var i=t[Symbol.iterator](),r=n[Symbol.iterator]();return unfold(function(){var t=i.next(),n=r.next();return t.done||n.done?null:[e(t.value,n.value),null]})})}function rangeStep(e,t,n){if(0===t)throw new Error("Step cannot be 0");return delay(function(){return unfold(function(e){return t>0&&e<=n||t<0&&e>=n?[e,e+t]:null},e)})}function range(e,t){return rangeStep(e,1,t)}function reduce(e,t){if(Array.isArray(t)||ArrayBuffer.isView(t))return t.reduce(e);var n=t[Symbol.iterator](),i=n.next();if(i.done)throw new Error("Seq was empty");for(var r=i.value;i=n.next(),!i.done;)r=e(r,i.value);return r}function scan(e,t,n){return delay(function(){var i=n[Symbol.iterator]();return unfold(function(n){if(null==n)return[t,t];var r=i.next();return r.done?void 0:(n=e(n,r.value),[n,n])},null)})}function singleton$1(e){return unfold(function(e){return null!=e?[e,null]:null},e)}function skipWhile(e,t){return delay(function(){var n=!1;return filter$2(function(t){return n||(n=!e(t))},t)})}function sortWith(e,t){var n=Array.from(t);return ofArray$1(n.sort(e))}function sumBy(e,t){return fold$1(function(t,n){return t+e(n)},0,t)}function take(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return delay(function(){var i=t[Symbol.iterator]();return unfold(function(t){if(t<e){var r=i.next();if(!r.done)return[r.value,t+1];if(!n)throw new Error("Seq has not enough elements")}},0)})}function truncate(e,t){return take(e,t,!0)}function takeWhile(e,t){return delay(function(){var n=t[Symbol.iterator]();return unfold(function(t){var i=n.next();if(!i.done&&e(i.value))return[i.value,null]},0)})}function tryFind(e,t,n){for(var i=0,r=t[Symbol.iterator]();;i++){var o=r.next();if(o.done)return void 0===n?null:n;if(e(o.value,i))return o.value}}function find(e,t){return __failIfNone(tryFind(e,t))}function tryPick(e,t){for(var n=0,i=t[Symbol.iterator]();;n++){var r=i.next();if(r.done)break;var o=e(r.value,n);if(null!=o)return o}}function pick(e,t){return __failIfNone(tryPick(e,t))}function unfold(e,t){return _defineProperty$2({},Symbol.iterator,function(){return{next:function(){var n=e(t);return null!=n?(t=n[1],{done:!1,value:n[0]}):{done:!0}}}})}function zip(e,t){return map2(function(e,t){return[e,t]},e,t)}function _classCallCheck$5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck$4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function groupBy$1(e,t){for(var n=[],i=t[Symbol.iterator](),r=create$4(),o=i.next();!o.done;){var s=e(o.value),a=tryFind$1(s,r);null==a?(n.push(s),r=add$2(s,[o.value],r)):a.push(o.value),o=i.next()}return n.map(function(e){return[e,r.get(e)]})}function countBy(e,t){return groupBy$1(e,t).map(function(e){return[e[0],e[1].length]})}function tree_sizeAux(e,t){return"MapOne"===t.Case?e+1:"MapNode"===t.Case?tree_sizeAux(tree_sizeAux(e+1,t.Fields[2]),t.Fields[3]):e}function tree_size(e){return tree_sizeAux(0,e)}function tree_empty(){return new MapTree("MapEmpty",[])}function tree_height$1(e){return"MapOne"===e.Case?1:"MapNode"===e.Case?e.Fields[4]:0}function tree_mk$1(e,t,n,i){var r=[e,i],o=function(){var r=tree_height$1(e),o=tree_height$1(i),s=r<o?o:r;return new MapTree("MapNode",[t,n,e,i,s+1])};return"MapEmpty"===r[0].Case&&"MapEmpty"===r[1].Case?new MapTree("MapOne",[t,n]):o()}function tree_rebalance$1(e,t,n,i){var r=tree_height$1(e),o=tree_height$1(i);if(o>r+2){if("MapNode"===i.Case){if(tree_height$1(i.Fields[2])>r+1){if("MapNode"===i.Fields[2].Case)return tree_mk$1(tree_mk$1(e,t,n,i.Fields[2].Fields[2]),i.Fields[2].Fields[0],i.Fields[2].Fields[1],tree_mk$1(i.Fields[2].Fields[3],i.Fields[0],i.Fields[1],i.Fields[3]));throw new Error("rebalance")}return tree_mk$1(tree_mk$1(e,t,n,i.Fields[2]),i.Fields[0],i.Fields[1],i.Fields[3])}throw new Error("rebalance")}if(r>o+2){if("MapNode"===e.Case){if(tree_height$1(e.Fields[3])>o+1){if("MapNode"===e.Fields[3].Case)return tree_mk$1(tree_mk$1(e.Fields[2],e.Fields[0],e.Fields[1],e.Fields[3].Fields[2]),e.Fields[3].Fields[0],e.Fields[3].Fields[1],tree_mk$1(e.Fields[3].Fields[3],t,n,i));throw new Error("rebalance")}return tree_mk$1(e.Fields[2],e.Fields[0],e.Fields[1],tree_mk$1(e.Fields[3],t,n,i))}throw new Error("rebalance")}return tree_mk$1(e,t,n,i)}function tree_add$1(e,t,n,i){if("MapOne"===i.Case){var r=e.Compare(t,i.Fields[0]);return r<0?new MapTree("MapNode",[t,n,new MapTree("MapEmpty",[]),i,2]):0===r?new MapTree("MapOne",[t,n]):new MapTree("MapNode",[t,n,i,new MapTree("MapEmpty",[]),2])}if("MapNode"===i.Case){var r=e.Compare(t,i.Fields[0]);return r<0?tree_rebalance$1(tree_add$1(e,t,n,i.Fields[2]),i.Fields[0],i.Fields[1],i.Fields[3]):0===r?new MapTree("MapNode",[t,n,i.Fields[2],i.Fields[3],i.Fields[4]]):tree_rebalance$1(i.Fields[2],i.Fields[0],i.Fields[1],tree_add$1(e,t,n,i.Fields[3]))}return new MapTree("MapOne",[t,n])}function tree_find(e,t,n){var i=tree_tryFind(e,t,n);if(null!=i)return i;throw new Error("key not found")}function tree_tryFind(e,t,n){if("MapOne"===n.Case){var i=e.Compare(t,n.Fields[0]);return 0===i?n.Fields[1]:null}if("MapNode"===n.Case){var i=e.Compare(t,n.Fields[0]);return i<0?tree_tryFind(e,t,n.Fields[2]):0===i?n.Fields[1]:tree_tryFind(e,t,n.Fields[3])}return null}function tree_spliceOutSuccessor$1(e){if("MapOne"===e.Case)return[e.Fields[0],e.Fields[1],new MapTree("MapEmpty",[])];if("MapNode"===e.Case){if("MapEmpty"===e.Fields[2].Case)return[e.Fields[0],e.Fields[1],e.Fields[3]];var t=tree_spliceOutSuccessor$1(e.Fields[2]);return[t[0],t[1],tree_mk$1(t[2],e.Fields[0],e.Fields[1],e.Fields[3])]}throw new Error("internal error: Map.spliceOutSuccessor")}function tree_remove$1(e,t,n){if("MapOne"===n.Case){var i=e.Compare(t,n.Fields[0]);return 0===i?new MapTree("MapEmpty",[]):n}if("MapNode"===n.Case){var i=e.Compare(t,n.Fields[0]);if(i<0)return tree_rebalance$1(tree_remove$1(e,t,n.Fields[2]),n.Fields[0],n.Fields[1],n.Fields[3]);if(0===i){var r=[n.Fields[2],n.Fields[3]];if("MapEmpty"===r[0].Case)return n.Fields[3];if("MapEmpty"===r[1].Case)return n.Fields[2];var o=tree_spliceOutSuccessor$1(n.Fields[3]),s=o[1],a=o[0],l=o[2];return tree_mk$1(n.Fields[2],a,s,l)}return tree_rebalance$1(n.Fields[2],n.Fields[0],n.Fields[1],tree_remove$1(e,t,n.Fields[3]))}return tree_empty()}function tree_mem$1(e,t,n){return"MapOne"===n.Case?0===e.Compare(t,n.Fields[0]):"MapNode"===n.Case&&function(){var i=e.Compare(t,n.Fields[0]);return i<0?tree_mem$1(e,t,n.Fields[2]):0===i||tree_mem$1(e,t,n.Fields[3])}()}function tree_mkFromEnumerator$1(e,t,n){for(var i=n.next();!i.done;)t=tree_add$1(e,i.value[0],i.value[1],t),i=n.next();return t}function tree_ofSeq$1(e,t){var n=t[Symbol.iterator]();return tree_mkFromEnumerator$1(e,tree_empty(),n)}function tree_collapseLHS$1(e){return null!=e.tail?"MapOne"===e.head.Case?e:tree_collapseLHS$1("MapNode"===e.head.Case?ofArray([e.head.Fields[2],new MapTree("MapOne",[e.head.Fields[0],e.head.Fields[1]]),e.head.Fields[3]],e.tail):e.tail):new List$2}function tree_mkIterator$1(e){return{stack:tree_collapseLHS$1(new List$2(e,new List$2)),started:!1}}function tree_moveNext$1(e){function t(e){if(null==e.stack.tail)return null;if("MapOne"===e.stack.head.Case)return[e.stack.head.Fields[0],e.stack.head.Fields[1]];throw new Error("Please report error: Map iterator, unexpected stack for current")}if(e.started){if(null==e.stack.tail)return{done:!0,value:null};if("MapOne"===e.stack.head.Case)return e.stack=tree_collapseLHS$1(e.stack.tail),{done:null==e.stack.tail,value:t(e)};throw new Error("Please report error: Map iterator, unexpected stack for moveNext")}return e.started=!0,{done:null==e.stack.tail,value:t(e)}}function from$6(e,t){var n=new FMap;return n.tree=t,n.comparer=e||new GenericComparer,n}function create$4(e,t){return t=t||new GenericComparer,from$6(t,e?tree_ofSeq$1(t,e):tree_empty())}function add$2(e,t,n){return from$6(n.comparer,tree_add$1(n.comparer,e,t,n.tree))}function remove$1(e,t){return from$6(t.comparer,tree_remove$1(t.comparer,e,t.tree))}function tryGetValue(e,t,n){return e.has(t)?[!0,e.get(t)]:[!1,n]}function tryFind$1(e,t){return tree_tryFind(t.comparer,e,t.tree)}function append$$1(e,t){return fold$1(function(e,t){return new List$2(t,e)},t,reverse$$1(e))}function choose$$1(e,t){var n=fold$1(function(t,n){var i=e(n);return null!=i?new List$2(i,t):t},new List$2,t);return reverse$$1(n)}function collect$$1(e,t){return fold$1(function(t,n){return append$$1(t,e(n))},new List$2,t)}function concat$$1(e){return collect$$1(function(e){return e},e)}function filter$1(e,t){return reverse$$1(fold$1(function(t,n){return e(n)?new List$2(n,t):t},new List$2,t))}function map$4(e,t){return reverse$$1(fold$1(function(t,n){return new List$2(e(n),t)},new List$2,t))}function mapIndexed$$1(e,t){return reverse$$1(fold$1(function(t,n,i){return new List$2(e(i,n),t)},new List$2,t))}function reverse$$1(e){return fold$1(function(e,t){return new List$2(t,e)},new List$2,e)}function _classCallCheck$1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function distinctBy(e,t){return choose$1(function(e){return e[0]},scan(function(t,n){var i=t[1],r=e(n);return i.has(r)?[null,i]:[n,add$1(r,i)]},[null,create$3()],t))}function distinct(e){return distinctBy(function(e){return e},e)}function tree_countAux(e,t){return"SetOne"===e.Case?t+1:"SetEmpty"===e.Case?t:tree_countAux(e.Fields[1],tree_countAux(e.Fields[2],t+1))}function tree_count(e){return tree_countAux(e,0)}function tree_SetOne(e){return new SetTree("SetOne",[e])}function tree_SetNode(e,t,n,i){return new SetTree("SetNode",[e,t,n,i])}function tree_height(e){return"SetOne"===e.Case?1:"SetNode"===e.Case?e.Fields[3]:0}function tree_mk(e,t,n){var i=[e,n],r=function(){var i=tree_height(e),r=tree_height(n),o=i<r?r:i;return tree_SetNode(t,e,n,o+1)};return"SetEmpty"===i[0].Case&&"SetEmpty"===i[1].Case?tree_SetOne(t):r()}function tree_rebalance(e,t,n){var i=tree_height(e),r=tree_height(n);if(r>i+tree_tolerance){if("SetNode"===n.Case){if(tree_height(n.Fields[1])>i+1){if("SetNode"===n.Fields[1].Case)return tree_mk(tree_mk(e,t,n.Fields[1].Fields[1]),n.Fields[1].Fields[0],tree_mk(n.Fields[1].Fields[2],n.Fields[0],n.Fields[2]));throw new Error("rebalance")}return tree_mk(tree_mk(e,t,n.Fields[1]),n.Fields[0],n.Fields[2])}throw new Error("rebalance")}if(i>r+tree_tolerance){if("SetNode"===e.Case){if(tree_height(e.Fields[2])>r+1){if("SetNode"===e.Fields[2].Case)return tree_mk(tree_mk(e.Fields[1],e.Fields[0],e.Fields[2].Fields[1]),e.Fields[2].Fields[0],tree_mk(e.Fields[2].Fields[2],t,n));throw new Error("rebalance")}return tree_mk(e.Fields[1],e.Fields[0],tree_mk(e.Fields[2],t,n))}throw new Error("rebalance")}return tree_mk(e,t,n)}function tree_add(e,t,n){return"SetOne"===n.Case?function(){var i=e.Compare(t,n.Fields[0]);return i<0?tree_SetNode(t,new SetTree("SetEmpty",[]),n,2):0===i?n:tree_SetNode(t,n,new SetTree("SetEmpty",[]),2)}():"SetEmpty"===n.Case?tree_SetOne(t):function(){var i=e.Compare(t,n.Fields[0]);return i<0?tree_rebalance(tree_add(e,t,n.Fields[1]),n.Fields[0],n.Fields[2]):0===i?n:tree_rebalance(n.Fields[1],n.Fields[0],tree_add(e,t,n.Fields[2]))}()}function tree_mem(e,t,n){return"SetOne"===n.Case?0===e.Compare(t,n.Fields[0]):"SetEmpty"!==n.Case&&function(){var i=e.Compare(t,n.Fields[0]);return i<0?tree_mem(e,t,n.Fields[1]):0===i||tree_mem(e,t,n.Fields[2])}()}function tree_forall(e,t){return"SetOne"===t.Case?e(t.Fields[0]):"SetEmpty"===t.Case||!(!e(t.Fields[0])||!tree_forall(e,t.Fields[1]))&&tree_forall(e,t.Fields[2])}function tree_exists(e,t){return"SetOne"===t.Case?e(t.Fields[0]):"SetEmpty"!==t.Case&&(!(!e(t.Fields[0])&&!tree_exists(e,t.Fields[1]))||tree_exists(e,t.Fields[2]))}function tree_subset(e,t,n){return tree_forall(function(t){return tree_mem(e,t,n)},t)}function tree_psubset(e,t,n){return!!tree_forall(function(t){return tree_mem(e,t,n)},t)&&tree_exists(function(n){return!tree_mem(e,n,t)},n)}function tree_collapseLHS(e){return null!=e.tail?"SetOne"===e.head.Case?e:tree_collapseLHS("SetNode"===e.head.Case?ofArray([e.head.Fields[1],tree_SetOne(e.head.Fields[0]),e.head.Fields[2]],e.tail):e.tail):new List$2}function tree_mkIterator(e){return{stack:tree_collapseLHS(new List$2(e,new List$2)),started:!1}}function tree_moveNext(e){function t(e){if(null==e.stack.tail)return null;if("SetOne"===e.stack.head.Case)return e.stack.head.Fields[0];throw new Error("Please report error: Set iterator, unexpected stack for current")}if(e.started){if(null==e.stack.tail)return{done:!0,value:null};if("SetOne"===e.stack.head.Case)return e.stack=tree_collapseLHS(e.stack.tail),{done:null==e.stack.tail,value:t(e)};throw new Error("Please report error: Set iterator, unexpected stack for moveNext")}return e.started=!0,{done:null==e.stack.tail,value:t(e)}}function tree_compareStacks(e,t,n){var i=function(t,i){return tree_compareStacks(e,ofArray([new SetTree("SetEmpty",[]),tree_SetOne(t)],i),n)},r=function(t,i,r,o){return tree_compareStacks(e,ofArray([i,tree_SetNode(t,new SetTree("SetEmpty",[]),r,0)],o),n)},o=function(n,i,r,o){return tree_compareStacks(e,t,ofArray([i,tree_SetNode(n,new SetTree("SetEmpty",[]),r,0)],o))};if(null!=t.tail){if(null!=n.tail){if("SetOne"===n.head.Case){if("SetOne"===t.head.Case){var s=t.head.Fields[0],a=n.head.Fields[0],l=t.tail,u=n.tail,c=e.Compare(s,a);return 0!==c?c:tree_compareStacks(e,l,u)}if("SetNode"===t.head.Case){if("SetEmpty"===t.head.Fields[1].Case){var p=t.head.Fields[1],h=t.head.Fields[0],f=t.head.Fields[2],d=n.head.Fields[0],y=t.tail,m=n.tail,g=e.Compare(h,d);return 0!==g?g:tree_compareStacks(e,ofArray([f],y),ofArray([p],m))}return r(t.head.Fields[0],t.head.Fields[1],t.head.Fields[2],t.tail)}var v=n.head.Fields[0],C=n.tail;return tree_compareStacks(e,t,ofArray([new SetTree("SetEmpty",[]),tree_SetOne(v)],C))}if("SetNode"===n.head.Case){if("SetEmpty"===n.head.Fields[1].Case){if("SetOne"===t.head.Case){var T=t.head.Fields[0],b=n.head.Fields[0],w=n.head.Fields[2],$=t.tail,S=n.tail,_=e.Compare(T,b);return 0!==_?_:tree_compareStacks(e,ofArray([new SetTree("SetEmpty",[])],$),ofArray([w],S))}if("SetNode"===t.head.Case){if("SetEmpty"===t.head.Fields[1].Case){var k=t.head.Fields[0],x=t.head.Fields[2],E=n.head.Fields[0],A=n.head.Fields[2],F=t.tail,N=n.tail,P=e.Compare(k,E);return 0!==P?P:tree_compareStacks(e,ofArray([x],F),ofArray([A],N))}return r(t.head.Fields[0],t.head.Fields[1],t.head.Fields[2],t.tail)}return o(n.head.Fields[0],n.head.Fields[1],n.head.Fields[2],n.tail)}return"SetOne"===t.head.Case?i(t.head.Fields[0],t.tail):"SetNode"===t.head.Case?r(t.head.Fields[0],t.head.Fields[1],t.head.Fields[2],t.tail):o(n.head.Fields[0],n.head.Fields[1],n.head.Fields[2],n.tail)}return"SetOne"===t.head.Case?i(t.head.Fields[0],t.tail):"SetNode"===t.head.Case?r(t.head.Fields[0],t.head.Fields[1],t.head.Fields[2],t.tail):tree_compareStacks(e,t.tail,n.tail)}return 1}return null!=n.tail?-1:0}function tree_compare(e,t,n){return"SetEmpty"===t.Case?"SetEmpty"===n.Case?0:-1:"SetEmpty"===n.Case?1:tree_compareStacks(e,ofArray([t]),ofArray([n]))}function tree_mkFromEnumerator(e,t,n){for(var i=n.next();!i.done;)t=tree_add(e,i.value,t),i=n.next();return t}function tree_ofSeq(e,t){var n=t[Symbol.iterator]();return tree_mkFromEnumerator(e,new SetTree("SetEmpty",[]),n)}function from$5(e,t){var n=new FSet;return n.tree=t,n.comparer=e||new GenericComparer,n}function create$3(e,t){return t=t||new GenericComparer,from$5(t,e?tree_ofSeq(t,e):new SetTree("SetEmpty",[]))}function add$1(e,t){return from$5(t.comparer,tree_add(t.comparer,e,t.tree))}function fromTicks(e){return e/1e4}function __getValue(e,t){return e[(1==e.kind?"getUTC":"get")+t]()}function parse(e,t){var n=null==e?new Date:new Date(e);if(isNaN(n.getTime()))throw new Error("The string is not a valid Date.");return n.kind=t||("string"==typeof e&&"Z"==e.slice(-1)?1:2),n}function create$5(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2,l=1===a?new Date(Date.UTC(e,t-1,n,i,r,o,s)):new Date(e,t-1,n,i,r,o,s);if(isNaN(l.getTime()))throw new Error("The parameters describe an unrepresentable Date.");return l.kind=a,l}function now(){return parse()}function isLeapYear(e){return e%4==0&&e%100!=0||e%400==0}function daysInMonth(e,t){return 2==t?isLeapYear(e)?29:28:t>=8?t%2==0?31:30:t%2==0?30:31}function day(e){return __getValue(e,"Date")}function hour(e){return __getValue(e,"Hours")}function millisecond(e){return __getValue(e,"Milliseconds")}function minute(e){return __getValue(e,"Minutes")}function month(e){return __getValue(e,"Month")+1}function second(e){return __getValue(e,"Seconds")}function year(e){return __getValue(e,"FullYear")}function ticks$$1(e){return 1e4*(e.getTime()+62135604e6)}function create$7(e,t){var n="g";return n+=1&t?"i":"",n+=2&t?"m":"",new RegExp(e,n)}function escape(e){return e.replace(/[\-\[\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function matches(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=e instanceof RegExp?(i=e,e=t,i.lastIndex=n,i):i=create$7(t,n);if(!i.global)throw new Error("Non-global RegExp");for(var r=void 0,o=[];null!==(r=i.exec(e));)o.push(r);return o}function toHex(e){return e<0?"ff"+(16777215-(Math.abs(e)-1)).toString(16):e.toString(16)}function fsFormat(e){function t(e){return!(null===e||"object"!==("undefined"==typeof e?"undefined":_typeof$1(e))||e instanceof Number||e instanceof String||e instanceof Boolean)}function n(e,n){return e.replace(fsFormatRegExp,function(e,i,r,o,s,a){switch(a){case"f":case"F":n=n.toFixed(s||6);break;case"g":case"G":n=n.toPrecision(s);break;case"e":case"E":n=n.toExponential(s);break;case"O":n=toString$2(n);break;case"A":try{n=JSON.stringify(n,function(e,n){return n&&n[Symbol.iterator]&&!Array.isArray(n)&&t(n)?Array.from(n):n})}catch(e){n="{"+Object.getOwnPropertyNames(n).map(function(e){return e+": "+String(n[e])}).join(", ")+"}"}break;case"x":n=toHex(Number(n));break;case"X":n=toHex(Number(n)).toUpperCase()}var l=r.indexOf("+")>=0&&parseInt(n)>=0;if(!isNaN(o=parseInt(o))){var u=o>=0&&r.indexOf("0")>=0?"0":" ";n=padLeft(n,Math.abs(o)-(l?1:0),u,o<0)}var c=i+(l?"+"+n:n);return c.replace(/%/g,"%%")})}function i(e){return function(t){var o=n(e,t);return fsFormatRegExp.test(o)?i(o):r(o.replace(/%%/g,"%"))}}for(var r=void 0,o=arguments.length,s=Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];if(0===s.length)return function(t){return r=t,fsFormatRegExp.test(e)?i(e):r(e)};for(var l=0;l<s.length;l++)e=n(e,s[l]);return e.replace(/%%/g,"%")}function endsWith(e,t){var n=e.lastIndexOf(t);return n>=0&&n==e.length-t.length}function isNullOrEmpty(e){return"string"!=typeof e||0==e.length}function isNullOrWhiteSpace(e){return"string"!=typeof e||/^\s*$/.test(e)}function join(e,t){return t="string"==typeof t?getRestParams(arguments,1):t,(Array.isArray(t)?t:Array.from(t)).join(e)}function padLeft(e,t,n,i){n=n||" ",e=String(e),t-=e.length;for(var r=-1;++r<t;)e=i?e+n:n+e;return e}function replace$$1(e,t,n){return e.replace(new RegExp(escape(t),"g"),n)}function trim(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if("both"==t&&0==i.length)return e.trim();if("start"==t||"both"==t){var o=0==i.length?/^\s+/:new RegExp("^["+escape(i.join(""))+"]+");e=e.replace(o,"")}if("end"==t||"both"==t){var s=0==i.length?/\s+$/:new RegExp("["+escape(i.join(""))+"]+$");e=e.replace(s,"")}return e}function _classCallCheck$7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function protectedCont(e){return function(t){if(t.cancelToken.isCancelled)t.onCancel("cancelled");else if(t.trampoline.incrementAndCheck())t.trampoline.hijack(function(){try{e(t)}catch(e){t.onError(e)}});else try{e(t)}catch(e){t.onError(e)}}}function protectedBind(e,t){return protectedCont(function(n){e({onSuccess:function(e){return t(e)(n)},onError:n.onError,onCancel:n.onCancel,cancelToken:n.cancelToken,trampoline:n.trampoline})})}function protectedReturn(e){return protectedCont(function(t){return t.onSuccess(e)})}function _classCallCheck$8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck$6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function emptyContinuation(e){}function awaitPromise(e){return fromContinuations(function(t){return e.then(t[0]).catch(function(e){return("cancelled"==e?t[2]:t[1])(e)})})}function fromContinuations(e){return protectedCont(function(t){return e([t.onSuccess,t.onError,t.onCancel])})}function parallel(e){return awaitPromise(Promise.all(map$5(function(e){return startAsPromise(e)},e)))}function sleep(e){return protectedCont(function(t){setTimeout(function(){return t.cancelToken.isCancelled?t.onCancel("cancelled"):t.onSuccess(void 0)},e)})}function start(e,t){return startWithContinuations(e,t)}function startImmediate(e,t){return start(e,t)}function startWithContinuations(e,t,n,i,r){"function"!=typeof t&&(r=t,t=null);var o=new Trampoline;e({onSuccess:t?t:emptyContinuation,onError:n?n:emptyContinuation,onCancel:i?i:emptyContinuation,cancelToken:r?r:defaultCancellationToken,trampoline:o})}function startAsPromise(e,t){return new Promise(function(n,i){return startWithContinuations(e,n,i,i,t?t:defaultCancellationToken)})}function isLocalHost(){return"undefined"==typeof window||"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname}function Async_AwaitFuture_Static(e){return fromContinuations(function(t){e.Then(t[0])})}function Async_Future_Static(e,t,n){var i,r=new Choice("Choice1Of3",[null]),o=new List$2,s=!1,a=function(e){if("Choice2Of3"===r.Case){var t=r.Fields[0];e(t)}else{if("Choice3Of3"===r.Case){var n=r.Fields[0];throw n}o=new List$2(e,o)}},l=function(){s||(iterate$1(function(e){Log.trace("system","Starting future '%s'....",e)},function(){var t=e;return null!=t?[t]:[]}()),s=!0,function(e){startImmediate(e)}(function(n){return n.Delay(function(){return n.Combine(n.TryWith(n.Delay(function(){return n.Bind(t,function(t){return iterate$1(function(e){Log.trace("system","Future '%s' evaluated to: %O",e,t)},function(){var t=e;return null!=t?[t]:[]}()),r=new Choice("Choice2Of3",[t]),n.Zero()})}),function(e){return Log.exn("system","Evaluating future failed: %O",e),r=new Choice("Choice3Of3",[e]),n.Zero()}),n.Delay(function(){return n.For(o,function(e){return a(e),n.Zero()})}))})}(singleton$2)))};return n===!0&&l(),i={},_defineProperty(i,_Symbol.reflection,{interfaces:["TheGamma.Common.Future"]}),_defineProperty(i,"Then",function(e){l(),a(e)}),i}function Async_StartAsFuture_Static(e){return function(e){return function(t){return function(n){return Async_Future_Static(e,t,n)}}}()(e)(!0)}function Async_CreateNamedFuture_Static(e,t){return function(e){return function(t){return function(n){return Async_Future_Static(e,t,n)}}}(e)(t)(!1)}function Async_StartAsNamedFuture_Static(e,t){return function(e){return function(t){return function(n){return Async_Future_Static(e,t,n)}}}(e)(t)(!0)}function convertTupleSequence(e,t,n){return function(i){return i.Delay(function(){return i.Bind(n,function(n){return i.Return(n.map(function(n){return[e(n[0]),t(n[1])]}))})})}(singleton$2)}function trimLeft(e,t){return _Array$from(skipWhile(function(t){return e===t},t.split(""))).join("")}function trimRight(e,t){return _Array$from(skipWhile(function(t){
return e===t},t.split("").slice().reverse())).slice().reverse().join("")}function concatUrl(e,t){return trimRight("/",e)+"/"+trimLeft("/",t)}function GeoChartOptions_get_empty_Static(){return new GeoChartOptions(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}function ScatterChartOptions_get_empty_Static(){return new ScatterChartOptions(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}function ColumnChartOptions_get_empty_Static(){return new ColumnChartOptions(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}function LineChartOptions_get_empty_Static(){return new LineChartOptions(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}function BarChartOptions_get_empty_Static(){return new BarChartOptions(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}function AreaChartOptions_get_empty_Static(){return new AreaChartOptions(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}function PieChartOptions_get_empty_Static(){return new PieChartOptions(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}function isArray$5(e){return"[object Array]"===toString$4.call(e)}function VirtualPatch(e,t,n){this.type=Number(e),this.vNode=t,this.patch=n}function isVirtualNode(e){return e&&"VirtualNode"===e.type&&e.version===version$4}function isVirtualText(e){return e&&"VirtualText"===e.type&&e.version===version$5}function isWidget$1(e){return e&&"Widget"===e.type}function isThunk$1(e){return e&&"Thunk"===e.type}function handleThunk$1(e,t){var n=e,i=t;return isThunk$2(t)&&(i=renderThunk(t,e)),isThunk$2(e)&&(n=renderThunk(e,null)),{a:n,b:i}}function renderThunk(e,t){var n=e.vnode;if(n||(n=e.vnode=e.render(t)),!(isVNode$1(n)||isVText$1(n)||isWidget$2(n)))throw new Error("thunk did not return a valid node");return n}function isHook$1(e){return e&&("function"==typeof e.hook&&!e.hasOwnProperty("hook")||"function"==typeof e.unhook&&!e.hasOwnProperty("unhook"))}function diffProps$1(e,t){var n;for(var i in e){i in t||(n=n||{},n[i]=void 0);var r=e[i],o=t[i];if(r!==o)if(isObject$6(r)&&isObject$6(o))if(getPrototype(o)!==getPrototype(r))n=n||{},n[i]=o;else if(isHook(o))n=n||{},n[i]=o;else{var s=diffProps$1(r,o);s&&(n=n||{},n[i]=s)}else n=n||{},n[i]=o}for(var a in t)a in e||(n=n||{},n[a]=t[a]);return n}function getPrototype(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__?e.__proto__:e.constructor?e.constructor.prototype:void 0}function diff$2(e,t){var n={a:e};return walk(e,t,n,0),n}function walk(e,t,n,i){if(e!==t){var r=n[i],o=!1;if(isThunk(e)||isThunk(t))thunks(e,t,n,i);else if(null==t)isWidget(e)||(clearState(e,n,i),r=n[i]),r=appendPatch(r,new VPatch(VPatch.REMOVE,e,t));else if(isVNode(t))if(isVNode(e))if(e.tagName===t.tagName&&e.namespace===t.namespace&&e.key===t.key){var s=diffProps(e.properties,t.properties);s&&(r=appendPatch(r,new VPatch(VPatch.PROPS,e,s))),r=diffChildren(e,t,n,r,i)}else r=appendPatch(r,new VPatch(VPatch.VNODE,e,t)),o=!0;else r=appendPatch(r,new VPatch(VPatch.VNODE,e,t)),o=!0;else isVText(t)?isVText(e)?e.text!==t.text&&(r=appendPatch(r,new VPatch(VPatch.VTEXT,e,t))):(r=appendPatch(r,new VPatch(VPatch.VTEXT,e,t)),o=!0):isWidget(t)&&(isWidget(e)||(o=!0),r=appendPatch(r,new VPatch(VPatch.WIDGET,e,t)));r&&(n[i]=r),o&&clearState(e,n,i)}}function diffChildren(e,t,n,i,r){for(var o=e.children,s=reorder(o,t.children),a=s.children,l=o.length,u=a.length,c=l>u?l:u,p=0;p<c;p++){var h=o[p],f=a[p];r+=1,h?walk(h,f,n,r):f&&(i=appendPatch(i,new VPatch(VPatch.INSERT,null,f))),isVNode(h)&&h.count&&(r+=h.count)}return s.moves&&(i=appendPatch(i,new VPatch(VPatch.ORDER,e,s.moves))),i}function clearState(e,t,n){unhook(e,t,n),destroyWidgets(e,t,n)}function destroyWidgets(e,t,n){if(isWidget(e))"function"==typeof e.destroy&&(t[n]=appendPatch(t[n],new VPatch(VPatch.REMOVE,e,null)));else if(isVNode(e)&&(e.hasWidgets||e.hasThunks))for(var i=e.children,r=i.length,o=0;o<r;o++){var s=i[o];n+=1,destroyWidgets(s,t,n),isVNode(s)&&s.count&&(n+=s.count)}else isThunk(e)&&thunks(e,null,t,n)}function thunks(e,t,n,i){var r=handleThunk(e,t),o=diff$2(r.a,r.b);hasPatches(o)&&(n[i]=new VPatch(VPatch.THUNK,null,o))}function hasPatches(e){for(var t in e)if("a"!==t)return!0;return!1}function unhook(e,t,n){if(isVNode(e)){if(e.hooks&&(t[n]=appendPatch(t[n],new VPatch(VPatch.PROPS,e,undefinedKeys(e.hooks)))),e.descendantHooks||e.hasThunks)for(var i=e.children,r=i.length,o=0;o<r;o++){var s=i[o];n+=1,unhook(s,t,n),isVNode(s)&&s.count&&(n+=s.count)}}else isThunk(e)&&thunks(e,null,t,n)}function undefinedKeys(e){var t={};for(var n in e)t[n]=void 0;return t}function reorder(e,t){var n=keyIndex(t),i=n.keys,r=n.free;if(r.length===t.length)return{children:t,moves:null};var o=keyIndex(e),s=o.keys,a=o.free;if(a.length===e.length)return{children:t,moves:null};for(var l=[],u=0,c=r.length,p=0,h=0;h<e.length;h++){var f,d=e[h];d.key?i.hasOwnProperty(d.key)?(f=i[d.key],l.push(t[f])):(f=h-p++,l.push(null)):u<c?(f=r[u++],l.push(t[f])):(f=h-p++,l.push(null))}for(var y=u>=r.length?t.length:r[u],m=0;m<t.length;m++){var g=t[m];g.key?s.hasOwnProperty(g.key)||l.push(g):m>=y&&l.push(g)}for(var v,C=l.slice(),T=0,b=[],w=[],$=0;$<t.length;){var S=t[$];for(v=C[T];null===v&&C.length;)b.push(remove$3(C,T,null)),v=C[T];v&&v.key===S.key?(T++,$++):S.key?(v&&v.key&&i[v.key]!==$+1?(b.push(remove$3(C,T,v.key)),v=C[T],v&&v.key===S.key?T++:w.push({key:S.key,to:$})):w.push({key:S.key,to:$}),$++):v&&v.key&&b.push(remove$3(C,T,v.key))}for(;T<C.length;)v=C[T],b.push(remove$3(C,T,v&&v.key));return b.length!==p||w.length?{children:l,moves:{removes:b,inserts:w}}:{children:l,moves:null}}function remove$3(e,t,n){return e.splice(t,1),{from:t,key:n}}function keyIndex(e){for(var t={},n=[],i=e.length,r=0;r<i;r++){var o=e[r];o.key?t[o.key]=r:n.push(r)}return{keys:t,free:n}}function appendPatch(e,t){return e?(isArray$4(e)?e.push(t):e=[e,t],e):t}function iterativelyWalk(e,t){"length"in e||(e=[e]),e=slice$1.call(e);for(;e.length;){var n=e.shift(),i=t(n);if(i)return i;n.childNodes&&n.childNodes.length&&(e=slice$1.call(n.childNodes).concat(e))}}function Comment$1(e,t){return this instanceof Comment$1?(this.data=e,this.nodeValue=e,this.length=e.length,void(this.ownerDocument=t||null)):new Comment$1(e,t)}function DOMText$1(e,t){return this instanceof DOMText$1?(this.data=e||"",this.length=this.data.length,void(this.ownerDocument=t||null)):new DOMText$1(e)}function dispatchEvent$2(e){var t=this,n=e.type;e.target||(e.target=t),t.listeners||(t.listeners={});var i=t.listeners[n];return i?i.forEach(function(n){e.currentTarget=t,"function"==typeof n?n(e):n.handleEvent(e)}):void(t.parentNode&&t.parentNode.dispatchEvent(e))}function addEventListener$2(e,t){var n=this;n.listeners||(n.listeners={}),n.listeners[e]||(n.listeners[e]=[]),n.listeners[e].indexOf(t)===-1&&n.listeners[e].push(t)}function removeEventListener$2(e,t){var n=this;if(n.listeners&&n.listeners[e]){var i=n.listeners[e],r=i.indexOf(t);r!==-1&&i.splice(r,1)}}function serializeNode$1(e){switch(e.nodeType){case 3:return escapeText(e.data);case 8:return"<!--"+e.data+"-->";default:return serializeElement(e)}}function serializeElement(e){var t=[],n=e.tagName;return"http://www.w3.org/1999/xhtml"===e.namespaceURI&&(n=n.toLowerCase()),t.push("<"+n+properties(e)+datasetify(e)),voidElements.indexOf(n)>-1?t.push(" />"):(t.push(">"),e.childNodes.length?t.push.apply(t,e.childNodes.map(serializeNode$1)):e.textContent||e.innerText?t.push(escapeText(e.textContent||e.innerText)):e.innerHTML&&t.push(e.innerHTML),t.push("</"+n+">")),t.join("")}function isProperty(e,t){var n=typeof e[t];return"style"===t&&Object.keys(e.style).length>0||e.hasOwnProperty(t)&&("string"===n||"boolean"===n||"number"===n)&&"nodeName"!==t&&"className"!==t&&"tagName"!==t&&"textContent"!==t&&"innerText"!==t&&"namespaceURI"!==t&&"innerHTML"!==t}function stylify(e){if("string"==typeof e)return e;var t="";return Object.keys(e).forEach(function(n){var i=e[n];n=n.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}),t+=n+":"+i+";"}),t}function datasetify(e){var t=e.dataset,n=[];for(var i in t)n.push({name:"data-"+i,value:t[i]});return n.length?stringify$1(n):""}function stringify$1(e){var t=[];return e.forEach(function(e){var n=e.name,i=e.value;"style"===n&&(i=stylify(i)),t.push(n+'="'+escapeAttributeValue(i)+'"')}),t.length?" "+t.join(" "):""}function properties(e){var t=[];for(var n in e)isProperty(e,n)&&t.push({name:n,value:e[n]});for(var i in e._attributes)for(var r in e._attributes[i]){var o=e._attributes[i][r],s=(o.prefix?o.prefix+":":"")+r;t.push({name:s,value:o.value})}return e.className&&t.push({name:"class",value:e.className}),t.length?stringify$1(t):""}function escapeText(e){var t="";return"string"==typeof e?t=e:e&&(t=e.toString()),t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function escapeAttributeValue(e){return escapeText(e).replace(/"/g,"&quot;")}function DOMElement$1(e,t,n){if(!(this instanceof DOMElement$1))return new DOMElement$1(e);var i=void 0===n?htmlns:n||null;this.tagName=i===htmlns?String(e).toUpperCase():e,this.nodeName=this.tagName,this.className="",this.dataset={},this.childNodes=[],this.parentNode=null,this.style={},this.ownerDocument=t||null,this.namespaceURI=i,this._attributes={},"INPUT"===this.tagName&&(this.type="text")}function DocumentFragment$1(e){return this instanceof DocumentFragment$1?(this.childNodes=[],this.parentNode=null,void(this.ownerDocument=e||null)):new DocumentFragment$1}function Event$1(e){}function Document$1(){return this instanceof Document$1?(this.head=this.createElement("head"),this.body=this.createElement("body"),this.documentElement=this.createElement("html"),this.documentElement.appendChild(this.head),this.documentElement.appendChild(this.body),this.childNodes=[this.documentElement],void(this.nodeType=9)):new Document$1}function applyProperties$1(e,t,n){for(var i in t){var r=t[i];void 0===r?removeProperty(e,i,r,n):isHook$2(r)?(removeProperty(e,i,r,n),r.hook&&r.hook(e,i,n?n[i]:void 0)):isObject$7(r)?patchObject(e,t,n,i,r):e[i]=r}}function removeProperty(e,t,n,i){if(i){var r=i[t];if(isHook$2(r))r.unhook&&r.unhook(e,t,n);else if("attributes"===t)for(var o in r)e.removeAttribute(o);else if("style"===t)for(var s in r)e.style[s]="";else"string"==typeof r?e[t]="":e[t]=null}}function patchObject(e,t,n,i,r){var o=n?n[i]:void 0;if("attributes"!==i){if(o&&isObject$7(o)&&getPrototype$1(o)!==getPrototype$1(r))return void(e[i]=r);isObject$7(e[i])||(e[i]={});var s="style"===i?"":void 0;for(var a in r){var l=r[a];e[i][a]=void 0===l?s:l}}else for(var u in r){var c=r[u];void 0===c?e.removeAttribute(u):e.setAttribute(u,c)}}function getPrototype$1(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__?e.__proto__:e.constructor?e.constructor.prototype:void 0}function createElement$1(e,t){var n=t?t.document||document$5:document$5,i=t?t.warn:null;if(e=handleThunk$2(e).a,isWidget$3(e))return e.init();if(isVText$2(e))return n.createTextNode(e.text);if(!isVNode$2(e))return i&&i("Item is not a valid virtual dom node",e),null;var r=null===e.namespace?n.createElement(e.tagName):n.createElementNS(e.namespace,e.tagName),o=e.properties;applyProperties(r,o);for(var s=e.children,a=0;a<s.length;a++){var l=createElement$1(s[a],t);l&&r.appendChild(l)}return r}function domIndex$1(e,t,n,i){return n&&0!==n.length?(n.sort(ascending),recurse(e,t,n,i,0)):{}}function recurse(e,t,n,i,r){if(i=i||{},e){indexInRange(n,r,r)&&(i[r]=e);var o=t.children;if(o)for(var s=e.childNodes,a=0;a<t.children.length;a++){r+=1;var l=o[a]||noChild,u=r+(l.count||0);indexInRange(n,r,u)&&recurse(s[a],l,n,i,r),r=u}}return i}function indexInRange(e,t,n){if(0===e.length)return!1;for(var i,r,o=0,s=e.length-1;o<=s;){if(i=(s+o)/2>>0,r=e[i],o===s)return r>=t&&r<=n;if(r<t)o=i+1;else{if(!(r>n))return!0;s=i-1}}return!1}function ascending(e,t){return e>t?1:-1}function updateWidget$1(e,t){return!(!isWidget$5(e)||!isWidget$5(t))&&("name"in e&&"name"in t?e.id===t.id:e.init===t.init)}function applyPatch$1(e,t,n){var i=e.type,r=e.vNode,o=e.patch;switch(i){case VPatch$1.REMOVE:return removeNode(t,r);case VPatch$1.INSERT:return insertNode(t,o,n);case VPatch$1.VTEXT:return stringPatch(t,r,o,n);case VPatch$1.WIDGET:return widgetPatch(t,r,o,n);case VPatch$1.VNODE:return vNodePatch(t,r,o,n);case VPatch$1.ORDER:return reorderChildren(t,o),t;case VPatch$1.PROPS:return applyProperties$2(t,o,r.properties),t;case VPatch$1.THUNK:return replaceRoot(t,n.patch(t,o,n));default:return t}}function removeNode(e,t){var n=e.parentNode;return n&&n.removeChild(e),destroyWidget(e,t),null}function insertNode(e,t,n){var i=n.render(t,n);return e&&e.appendChild(i),e}function stringPatch(e,t,n,i){var r;if(3===e.nodeType)e.replaceData(0,e.length,n.text),r=e;else{var o=e.parentNode;r=i.render(n,i),o&&r!==e&&o.replaceChild(r,e)}return r}function widgetPatch(e,t,n,i){var r,o=updateWidget(t,n);r=o?n.update(t,e)||e:i.render(n,i);var s=e.parentNode;return s&&r!==e&&s.replaceChild(r,e),o||destroyWidget(e,t),r}function vNodePatch(e,t,n,i){var r=e.parentNode,o=i.render(n,i);return r&&o!==e&&r.replaceChild(o,e),o}function destroyWidget(e,t){"function"==typeof t.destroy&&isWidget$4(t)&&t.destroy(e)}function reorderChildren(e,t){for(var n,i,r,o=e.childNodes,s={},a=0;a<t.removes.length;a++)i=t.removes[a],n=o[i.from],i.key&&(s[i.key]=n),e.removeChild(n);for(var l=o.length,u=0;u<t.inserts.length;u++)r=t.inserts[u],n=s[r.key],e.insertBefore(n,r.to>=l++?null:o[r.to])}function replaceRoot(e,t){return e&&t&&e!==t&&e.parentNode&&e.parentNode.replaceChild(t,e),t}function patch$2(e,t,n){return n=n||{},n.patch=n.patch&&n.patch!==patch$2?n.patch:patchRecursive,n.render=n.render||render$1,n.patch(e,t,n)}function patchRecursive(e,t,n){var i=patchIndices(t);if(0===i.length)return e;var r=domIndex(e,t.a,i),o=e.ownerDocument;n.document||o===document$2||(n.document=o);for(var s=0;s<i.length;s++){var a=i[s];e=applyPatch(e,r[a],t[a],n)}return e}function applyPatch(e,t,n,i){if(!t)return e;var r;if(isArray$6(n))for(var o=0;o<n.length;o++)r=patchOp(n[o],t,i),t===e&&(e=r);else r=patchOp(n,t,i),t===e&&(e=r);return e}function patchIndices(e){var t=[];for(var n in e)"a"!==n&&t.push(Number(n));return t}function VirtualNode(e,t,n,i,r){this.tagName=e,this.properties=t||noProperties,this.children=n||noChildren,this.key=null!=i?String(i):void 0,this.namespace="string"==typeof r?r:null;var o,s=n&&n.length||0,a=0,l=!1,u=!1,c=!1;for(var p in t)if(t.hasOwnProperty(p)){var h=t[p];isVHook(h)&&h.unhook&&(o||(o={}),o[p]=h)}for(var f=0;f<s;f++){var d=n[f];isVNode$4(d)?(a+=d.count||0,!l&&d.hasWidgets&&(l=!0),!u&&d.hasThunks&&(u=!0),c||!d.hooks&&!d.descendantHooks||(c=!0)):!l&&isWidget$7(d)?"function"==typeof d.destroy&&(l=!0):!u&&isThunk$3(d)&&(u=!0)}this.count=s+a,this.hasWidgets=l,this.hasThunks=u,this.hooks=o,this.descendantHooks=c}function VirtualText(e){this.text=String(e)}function parseTag$1(e,t){if(!e)return"DIV";var n=!t.hasOwnProperty("id"),i=split$3(e,classIdSplit),r=null;notClassId.test(i[1])&&(r="DIV");var o,s,a,l;for(l=0;l<i.length;l++)s=i[l],s&&(a=s.charAt(0),r?"."===a?(o=o||[],o.push(s.substring(1,s.length))):"#"===a&&n&&(t.id=s.substring(1,s.length)):r=s);return o&&(t.className&&o.push(t.className),t.className=o.join(" ")),t.namespace?r:r.toUpperCase()}function SoftSetHook(e){return this instanceof SoftSetHook?void(this.value=e):new SoftSetHook(e)}function Individual$1(e,t){return e in root?root[e]:(root[e]=t,t)}function OneVersion(e,t,n){var i="__INDIVIDUAL_ONE_VERSION_"+e,r=i+"_ENFORCE_SINGLETON",o=Individual(r,t);if(o!==t)throw new Error("Can only have one copy of "+e+".\nYou already have version "+o+" installed.\nThis means you cannot install version "+t);return Individual(i,n)}function EvStore$1(e){var t=e[hashKey];return t||(t=e[hashKey]={}),t}function EvHook(e){return this instanceof EvHook?void(this.value=e):new EvHook(e)}function h$3(e,t,n){var i,r,o,s,a=[];return!n&&isChildren(t)&&(n=t,r={}),r=r||t||{},i=parseTag(e,r),r.hasOwnProperty("key")&&(o=r.key,r.key=void 0),r.hasOwnProperty("namespace")&&(s=r.namespace,r.namespace=void 0),"INPUT"!==i||s||!r.hasOwnProperty("value")||void 0===r.value||isHook$3(r.value)||(r.value=softSetHook(r.value)),transformProperties(r),void 0!==n&&null!==n&&addChild(n,a,i,r),new VNode$1(i,r,a,o,s)}function addChild(e,t,n,i){if("string"==typeof e)t.push(new VText$1(e));else if("number"==typeof e)t.push(new VText$1(String(e)));else if(isChild(e))t.push(e);else{if(!isArray$7(e)){if(null===e||void 0===e)return;throw UnexpectedVirtualElement({foreignObject:e,parentVnode:{tagName:n,properties:i}})}for(var r=0;r<e.length;r++)addChild(e[r],t,n,i)}}function transformProperties(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];if(isHook$3(n))continue;"ev-"===t.substr(0,3)&&(e[t]=evHook(n))}}function isChild(e){return isVNode$3(e)||isVText$3(e)||isWidget$6(e)||isVThunk(e)}function isChildren(e){return"string"==typeof e||isArray$7(e)||isChild(e)}function UnexpectedVirtualElement(e){var t=new Error;return t.type="virtual-hyperscript.unexpected.virtual-element",t.message="Unexpected virtual child passed to h().\nExpected a VNode / Vthunk / VWidget / string but:\ngot:\n"+errorString(e.foreignObject)+".\nThe parent vnode is:\n"+errorString(e.parentVnode),t.foreignObject=e.foreignObject,t.parentVnode=e.parentVnode,t}function errorString(e){try{return JSON.stringify(e,null,"    ")}catch(t){return String(e)}}function _classCallCheck$10(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function add$6(e,t){t.Subscribe(new Observer(e))}function _classCallCheck$9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function createTree(e,t,n){var i=[],r=[],o=!0,s=!1,a=void 0;try{for(var l,u=_getIterator(t);!(o=(l=u.next()).done);o=!0){var c=l.value,p=[c[0],c[1]];if("Property"===p[1].Case){var h=p[1].Fields[0];r.push([p[0],h])}else if("Event"===p[1].Case)!function(){var e=p[1].Fields[0];r.push(["on"+p[0],function(t){e(t.target)(event)}])}();else{var f=p[1].Fields[0];i.push([p[0],f])}}}catch(e){s=!0,a=e}finally{try{!o&&u.return&&u.return()}finally{if(s)throw a}}var d=createObj(i),y=createObj(append$1(ofArray([["attributes",d]]),r)),m=h$1(e,y,n);return m}function renderVirtual(e){return"Element"===e.Case?null==e.Fields[3]?function(){var t=e.Fields[1],n=e.Fields[2],i=e.Fields[0];return createTree(i,t,n.map(function(e){return renderVirtual(e)}))}():function(){throw new Error("renderVirtual: Does not support elements with after-render handlers")}():"Delayed"===e.Case?function(){var t=e.Fields[1],n=e.Fields[2],i=e.Fields[0],r=function(){counter+=1;var e=fsFormat("delayed_%d")(function(e){return e})(counter),r=function t(r){return function(o){null!=o.parentElement?(o.dataset.renderedSymbol=i,o.id=e,n(e)):r>0?window.setTimeout(function(){t(r-1)(o)},1):Log.error("html","Delayed element was not created in time")}},o=function(){};o.prototype.hook=function(e,t,n){e.dataset.renderedSymbol!==i&&r(10)(e)};var s=new o;return{v:createTree("div",ofArray([["renderhk",new DomAttribute("Property",[s])]]),[renderVirtual(t)])}}();if("object"===("undefined"==typeof r?"undefined":_typeof$2(r)))return r.v}():"Part"===e.Case?function(){throw new Error("renderVirtual: Does not support parts")}():function(){var t=e.Fields[0];return t}()}function render(e){return"Delayed"===e.Case?function(){counter+=1;var t=document.createElement("div");return t.id=fsFormat("delayed_%d")(function(e){return e})(counter),[t,function(){e.Fields[2](t.id)}]}():"Part"===e.Case?function(){var t=document.createElement("div");return[t,function(){e.Fields[0](t)}]}():"Element"===e.Case?function(){for(var t=document.createElement(e.Fields[0]),n=e.Fields[2].map(function(e){return render(e)}),i=0;i<=n.length-1;i++){var r=n[i];t.appendChild(r[0])}for(var o=function(n){var i=e.Fields[1][n];"Attribute"===i[1].Case?t.setAttribute(i[0],i[1].Fields[0]):"Event"===i[1].Case?t.addEventListener(i[0],function(e){i[1].Fields[0](t)(e)}):t[i[0]]=i[1].Fields[0]},s=0;s<=e.Fields[1].length-1;s++)o(s);var a=function(){for(var i=0;i<=n.length-1;i++){var r=n[i];r[1]()}iterate$1(function(e){e(t)},function(){var t=e.Fields[3];return null!=t?[t]:[]}())};return[t,a]}():[document.createTextNode(e.Fields[0]),function(){}]}function renderTo(e,t){for(;null!=e.lastChild;)e.removeChild(e.lastChild);var n=render(t);e.appendChild(n[0]),n[1]()}function text(e){return new DomNode("Text",[e])}function op_EqualsGreater(e,t){return[e,new DomAttribute("Attribute",[t])]}function op_EqualsBangGreater(e,t){return[e,new DomAttribute("Event",[t])]}function listsEqual(e,t,n){var i=[e,t],r=function(){return!1};if(null!=i[0].tail){if(null!=i[1].tail){if(function(){var e=(i[1].tail,i[1].head),t=(i[0].tail,i[0].head);return n(t)(e)}()){var o=(i[0].head,i[0].tail),s=(i[1].head,i[1].tail);return listsEqual(o,s,n)}return r()}return r()}return null==i[1].tail||r()}function arraysEqual(e,t,n){var i=function i(r){return r===e.length&&r===t.length||r<e.length&&r<t.length&&(!!n(e[r])(t[r])&&i(r+1))};return i(0)}function memberNamesEqual(e,t){var n=[e,t],i=function(e,t){return e===t},r=function(){return!1};return"Method"===n[0].Case?"Method"===n[1].Case?i(n[0].Fields[0],n[1].Fields[0]):r():"Property"===n[1].Case?i(n[0].Fields[0],n[1].Fields[0]):r()}function _BoundTypeVariables_(e){return"Forall"===e.Case?[e.Fields[0],e]:[new List$2,e]}function membersEqual(e,t,n){var i=[t,n],r=function(){return!1};if("Method"!==i[0].Case){if("Property"===i[1].Case){var o=i[0].Fields[0],s=i[1].Fields[0],a=i[0].Fields[1],l=i[1].Fields[1];return o===s&&typesEqualAux(e,a,l)}return r()}var u=_BoundTypeVariables_(i[0].Fields[2]);if("Method"!==i[1].Case)return r();var c=_BoundTypeVariables_(i[1].Fields[2]),p=i[0].Fields[1],h=i[1].Fields[1],f=i[0].Fields[0],d=i[1].Fields[0],y=u[1],m=c[1],g=u[0],v=c[0],C=function(){var t=new TypeContext(append$$1(toList(zip(g,v)),e.EquivalentVars));return f===d&&typesEqualAux(t,y,m)?{v:listsEqual(p,h,function(e){return function(n){return e[0]===n[0]&&e[1]===n[1]&&typesEqualAux(t,e[2],n[2])}})}:{v:!1}}();return"object"===("undefined"==typeof C?"undefined":_typeof$2(C))?C.v:void 0}function typesEqualAux(e,t,n){var i=[t,n],r=function(){return!0},o=function(){var t=function(){return!1};if("App"===i[0].Case){if("App"===i[1].Case){if(function(){var e=i[1].Fields[1],t=i[0].Fields[1];i[1].Fields[0],i[0].Fields[0];return t.length===e.length}()){var n=i[0].Fields[0],r=i[1].Fields[0],o=i[0].Fields[1],s=i[1].Fields[1];return forAll$1(function(t){return typesEqualAux(e,t[0],t[1])},new List$2([n,r],toList(zip(o,s))))}return t()}return t()}return t()};if("Any"===i[0].Case)return r();if("Parameter"!==i[0].Case){if("Delayed"===i[0].Case){if("Any"===i[1].Case)return r();if("Delayed"===i[1].Case){var s=i[0].Fields[0],a=i[1].Fields[0];return s===a}return o()}if("List"===i[0].Case){if("Any"===i[1].Case)return r();if("List"===i[1].Case){var l=i[0].Fields[0],u=i[1].Fields[0];return typesEqualAux(e,l,u)}return o()}if("Function"===i[0].Case){if("Any"===i[1].Case)return r();if("Function"===i[1].Case){var c=i[0].Fields[0],p=i[1].Fields[0],h=i[0].Fields[1],f=i[1].Fields[1];return listsEqual(new List$2(h,c),new List$2(f,p),function(t){return function(n){return typesEqualAux(e,t,n)}})}return o()}if("Object"===i[0].Case){if("Any"===i[1].Case)return r();if("Object"===i[1].Case){var d=i[0].Fields[0],y=i[1].Fields[0];return arraysEqual(d.Members,y.Members,function(t){return function(n){return membersEqual(e,t,n)}})}return o()}if("Primitive"===i[0].Case){if("Any"===i[1].Case)return r();if("Primitive"===i[1].Case){var m=i[0].Fields[0],g=i[1].Fields[0];return m.Equals(g)}return o()}if("Forall"===i[0].Case){if("Any"===i[1].Case)return r();if("Forall"===i[1].Case){if(function(){var e=i[1].Fields[0],t=i[0].Fields[0];i[1].Fields[1],i[0].Fields[1];return t.length===e.length}()){var v=i[0].Fields[1],C=i[1].Fields[1],T=i[0].Fields[0],b=i[1].Fields[0],w=new TypeContext(append$$1(toList(zip(T,b)),e.EquivalentVars));return typesEqualAux(w,v,C)}return o()}return o()}return"Any"===i[1].Case?r():o()}if("Any"===i[1].Case)return r();if("Parameter"!==i[1].Case)return o();var $=function(){var t=i[0].Fields[0],n=i[1].Fields[0];return{v:exists$1(function(e){return e[0]===t&&e[1]===n},e.EquivalentVars)}}();return"object"===("undefined"==typeof $?"undefined":_typeof$2($))?$.v:void 0}function substituteMembers(e,t){return t.map(function(t){return"Property"===t.Case?new Member("Property",[t.Fields[0],substituteTypes(e,t.Fields[1]),t.Fields[2],t.Fields[3]]):function(){var n=_BoundTypeVariables_(t.Fields[2]),i=function(){var t=function(e){return function(t){return remove$1(t,e)}};return function(n){return fold$1(function(e,n){return t(e)(n)},e,n)}}()(n[0]),r=map$4(function(e){return[e[0],e[1],substituteTypes(i,e[2])]},t.Fields[1]);return new Member("Method",[t.Fields[0],r,substituteTypes(i,n[1]),t.Fields[3],t.Fields[4]])}()})}function substituteTypes(e,t){var n=function(){var n=function(){return t};if("Any"===t.Case)return n();if("Primitive"===t.Case)return n();if("Function"===t.Case)return new Type("Function",[map$4(function(t){return substituteTypes(e,t)},t.Fields[0]),substituteTypes(e,t.Fields[1])]);if("List"===t.Case)return new Type("List",[substituteTypes(e,t.Fields[0])]);if("Object"===t.Case)return new Type("Object",[new ObjectType(substituteMembers(e,t.Fields[0].Members))]);if("Delayed"===t.Case){var i,r=(i={},_defineProperty(i,_Symbol.reflection,{interfaces:["TheGamma.Common.Future"]}),_defineProperty(i,"Then",function(n){t.Fields[1].Then(function(t){n(substituteTypes(e,t))})}),i);return new Type("Delayed",[t.Fields[0],r])}if("App"===t.Case)return new Type("App",[substituteTypes(e,t.Fields[0]),map$4(function(t){return substituteTypes(e,t)},t.Fields[1])]);if("Forall"===t.Case){var o=function(){var t=function(e){return function(t){return remove$1(t,e)}};return function(n){return fold$1(function(e,n){return t(e)(n)},e,n)}}()(t.Fields[0]);return new Type("Forall",[t.Fields[0],substituteTypes(o,t.Fields[1])])}return n()};if("Parameter"===t.Case){if(e.has(t.Fields[0])){var i=t.Fields[0];return e.get(i)}return n()}return n()}function unifyTypesAux(e,t,n){var i=[t,n],r=function(){var t=function t(){var t=function(){var t=function t(){var t=function(){var t=function(){throw new Error("unifyTypesAux: The lists of types had mismatching lengths")};if(null==i[0].tail)return null==i[1].tail?e:t();if(null==i[1].tail)return t();var n=function(){var t=i[0].head,n=i[1].head,r=i[0].tail,o=i[1].tail;return{v:unifyTypesAux(function(){var i=new List$2([t,n],e.Errors);return new UnifictionContext(e.FreeVars,e.Assignments,e.EquivalentVars,i)}(),r,o)}}();return"object"===("undefined"==typeof n?"undefined":_typeof$2(n))?n.v:void 0};if(null!=i[0].tail){if(null!=i[1].tail){if(function(){var t=(i[1].tail,i[0].tail,i[1].head),n=i[0].head;return typesEqualAux(new TypeContext(e.EquivalentVars),n,t)}()){var n=(i[0].head,i[1].head,i[0].tail),r=i[1].tail;return unifyTypesAux(e,n,r)}return t()}return t()}return t()};if(null!=i[0].tail){if("App"===i[0].head.Case){if(null!=i[1].tail){if("App"===i[1].head.Case){if(function(){var e=(i[1].tail,i[0].tail,i[1].head.Fields[1]),t=i[0].head.Fields[1];i[1].head.Fields[0],i[0].head.Fields[0];return t.length===e.length}()){var n=i[0].head.Fields[0],r=i[1].head.Fields[0],o=i[0].head.Fields[1],s=i[1].head.Fields[1],a=i[0].tail,l=i[1].tail;return unifyTypesAux(e,new List$2(n,append$$1(o,a)),new List$2(r,append$$1(s,l)))}return t()}return t()}return t()}return t()}return t()};if(null==i[0].tail)return t();if("List"===i[0].head.Case){if(null!=i[1].tail){if("List"===i[1].head.Case){var n=i[0].head.Fields[0],r=i[1].head.Fields[0],o=i[0].tail,s=i[1].tail;return unifyTypesAux(e,new List$2(n,o),new List$2(r,s))}return t()}return t()}if("Forall"!==i[0].head.Case)return t();if(null==i[1].tail)return t();if("Forall"!==i[1].head.Case)return t();if(!function(){var e=i[1].head.Fields[0],t=i[0].head.Fields[0];i[1].tail,i[0].tail,i[1].head.Fields[1],i[0].head.Fields[1];return t.length===e.length}())return t();var a=function(){var t=i[0].head.Fields[1],n=i[1].head.Fields[1],r=i[0].tail,o=i[1].tail,s=i[0].head.Fields[0],a=i[1].head.Fields[0],l=function(){var t=append$$1(toList(zip(s,a)),e.EquivalentVars);return new UnifictionContext(e.FreeVars,e.Assignments,t,e.Errors)}();return{v:unifyTypesAux(l,new List$2(t,r),new List$2(n,o))}}();return"object"===("undefined"==typeof a?"undefined":_typeof$2(a))?a.v:void 0};if(null!=i[0].tail){if("Function"===i[0].head.Case){if(null!=i[1].tail){if("Function"===i[1].head.Case){var n=i[0].head.Fields[0],r=i[1].head.Fields[0],o=i[0].head.Fields[1],s=i[1].head.Fields[1],a=i[0].tail,l=i[1].tail;return unifyTypesAux(e,append$$1(new List$2(o,n),a),append$$1(new List$2(s,r),l))}return t()}return t()}if("Object"===i[0].head.Case){if(null!=i[1].tail){if("Object"===i[1].head.Case){if(function(){var e=(i[1].tail,i[0].tail,i[1].head.Fields[0].Members),t=i[0].head.Fields[0].Members;return arraysEqual(t,e,function(e){return function(t){return memberNamesEqual(e,t)}})}()){var u=(i[0].head.Fields[0].Members,i[1].head.Fields[0].Members,i[0].tail),c=i[1].tail;return unifyTypesAux(e,u,c)}return t()}return t()}return t()}return t()}return t()};if(null==i[0].tail)return r();if("Parameter"!==i[0].head.Case)return r();if(null==i[1].tail)return r();if(!function(){var t=(i[1].tail,i[0].tail,i[1].head),n=i[0].head.Fields[0];return!!e.FreeVars.has(n)&&"Parameter"!==t.Case}())return r();var o=function(){var t=i[0].head.Fields[0],n=i[1].head,r=i[0].tail,o=i[1].tail;return{v:unifyTypesAux(function(){var i=new List$2([t,n],e.Assignments);return new UnifictionContext(e.FreeVars,i,e.EquivalentVars,e.Errors)}(),r,o)}}();return"object"===("undefined"==typeof o?"undefined":_typeof$2(o))?o.v:void 0}function unifyTypes(e,t,n){var i=new UnifictionContext(create$3(e,new GenericComparer(function(e,t){return e<t?-1:e>t?1:0})),new List$2,new List$2,new List$2),r=unifyTypesAux(i,ofArray([t]),ofArray([n]));return[r.Assignments,r.Errors]}function reduceType(e){var t=function(){return e};if("App"===e.Case){if("Forall"===e.Fields[0].Case){var n=e.Fields[1],i=e.Fields[0].Fields[1],r=e.Fields[0].Fields[0];if(r.length!==n.length)throw new Error("reduceType: Invalid type application");var o=substituteTypes(create$4(toList(zip(r,n)),new GenericComparer(function(e,t){return e<t?-1:e>t?1:0})),i);return reduceType(o)}return t()}return t()}function _classCallCheck$11(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function node(e,t){var n=null,i=new List$2,r=new List$2;return new _Node(i,r,e,t,n)}function needsEscaping(e){return e[0]>="0"&&e[0]<="9"||e.split("").some(function(e){return!(e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9")})}function escapeIdent(e){return needsEscaping(e)?"'"+e+"'":e}function unionRanges(e,t){return new _Range(e.Start<t.Start?e.Start:t.Start,e.End>t.End?e.End:t.End)}function strictSubRange(e,t){return e.Start>t.Start&&e.End<=t.End||e.Start>=t.Start&&e.End<t.End}function formatToken(e){var t=function(){throw new Error("Unsupported token")};if("RParen"===e.Case)return")";if("Equals"===e.Case)return"=";if("Dot"===e.Case)return".";if("Comma"===e.Case)return",";if("Let"===e.Case)return"let";if("LSquare"===e.Case)return"[";if("RSquare"===e.Case)return"]";
if("Fun"===e.Case)return"fun";if("Arrow"===e.Case)return"->";if("Operator"===e.Case)return"GreaterThan"===e.Fields[0].Case?">":"GreaterThanOrEqual"===e.Fields[0].Case?">=":"LessThan"===e.Fields[0].Case?"<":"LessThanOrEqual"===e.Fields[0].Case?"<=":"Minus"===e.Fields[0].Case?"-":"Multiply"===e.Fields[0].Case?"*":"Plus"===e.Fields[0].Case?"+":"Power"===e.Fields[0].Case?"^":"Equals"===e.Fields[0].Case?"=":"/";if("Boolean"===e.Case)return e.Fields[0]?"true":"false";if("Number"===e.Case){var n=e.Fields[0];return n}if("String"===e.Case){var i=e.Fields[0];return'"'+replace$$1(replace$$1(replace$$1(i,"\\","\\\\"),"\n","\\n"),'"','\\"')+'"'}if("Ident"===e.Case){var r=e.Fields[0];return r}if("QIdent"===e.Case){var o=e.Fields[0];return"'"+o+"'"}if("White"===e.Case){var s=e.Fields[0];return s}if("Newline"===e.Case)return"\n";if("Error"===e.Case){var a=e.Fields[0];return a}return"EndOfFile"===e.Case?"":"By"===e.Case?t():"To"===e.Case?t():"("}function formatTokenInfo(e){var t=function(){throw new Error("Unsupported token")};if("RParen"===e.Case)return"right parenthesis `)`";if("Equals"===e.Case)return"equals sign `=`";if("Dot"===e.Case)return"dot character `.`";if("Comma"===e.Case)return"comma character `,`";if("Let"===e.Case)return"`let` keyword";if("LSquare"===e.Case)return"left square bracket `[`";if("RSquare"===e.Case)return"right square bracket `]`";if("Fun"===e.Case)return"`fun` keyword";if("Arrow"===e.Case)return"arrow sign `->`";if("Operator"===e.Case)return"Divide"===e.Fields[0].Case?"division sign `/`":"GreaterThan"===e.Fields[0].Case?"greater than sign `>`":"GreaterThanOrEqual"===e.Fields[0].Case?"greater than or equals sign `>=`":"LessThan"===e.Fields[0].Case?"less than sign `<`":"LessThanOrEqual"===e.Fields[0].Case?"less than or equals sign `<=`":"Minus"===e.Fields[0].Case?"minus sign `-`":"Multiply"===e.Fields[0].Case?"multiplication sign `*`":"Plus"===e.Fields[0].Case?"plus sign `+`":"Power"===e.Fields[0].Case?"exponentiation sign `^`":"equals operator `=`";if("Boolean"===e.Case)return e.Fields[0]?"logical `true` value":"logical `false` value";if("Number"===e.Case){var n=e.Fields[0];return fsFormat("numerical value `%s`")(function(e){return e})(n)}if("String"===e.Case){var i=e.Fields[0];return fsFormat("string value `%s`")(function(e){return e})(replace$$1(i,"`","'"))}if("Ident"===e.Case){var r=e.Fields[0];return fsFormat("identifer `%s`")(function(e){return e})(r)}if("QIdent"===e.Case){var o=e.Fields[0];return fsFormat("quoted identifer `'%s'`")(function(e){return e})(o)}if("White"===e.Case){e.Fields[0];return"whitespace"}if("Newline"===e.Case)return"end of line";if("Error"===e.Case){if("`"===e.Fields[0])return"back-tick character";var s=e.Fields[0];return fsFormat("other character `%s`")(function(e){return e})(s)}return"EndOfFile"===e.Case?"end of file":"By"===e.Case?t():"To"===e.Case?t():"left parenthesis `(`"}function formatNode(e,t,n){var i=!0,r=!1,o=void 0;try{for(var s,a=_getIterator(n.WhiteBefore);!(i=(s=a.next()).done);i=!0){var l=s.value;e.Add(l.Token)}}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}t(e)(n.Node);var u=!0,c=!1,p=void 0;try{for(var h,f=_getIterator(n.WhiteAfter);!(u=(h=f.next()).done);u=!0){var d=h.value;e.Add(d.Token)}}catch(e){c=!0,p=e}finally{try{!u&&f.return&&f.return()}finally{if(c)throw p}}}function formatName(e,t){""===t.Name||(needsEscaping(t.Name)?e.Add(new TokenKind("QIdent",[t.Name])):e.Add(new TokenKind("Ident",[t.Name])))}function formatArgument(e,t){null!=t.Name&&(formatNode(e,function(e){return function(t){formatName(e,t)}},t.Name),e.Add(new TokenKind("Equals",[]))),formatNode(e,function(e){return function(t){formatExpression(e,t)}},t.Value)}function formatExpression(e,t){if("Property"===t.Case)formatNode(e,function(e){return function(t){formatExpression(e,t)}},t.Fields[0]),e.Add(new TokenKind("Dot",[])),formatNode(e,function(e){return function(t){formatName(e,t)}},t.Fields[1]);else if("Call"===t.Case)null!=t.Fields[0]&&formatNode(e,function(e){return function(t){formatExpression(e,t)}},t.Fields[0]),e.Add(new TokenKind("Dot",[])),formatNode(e,function(e){return function(t){formatName(e,t)}},t.Fields[1]),e.Add(new TokenKind("LParen",[])),function(){var t=function(e){return function(t){iterateIndexed(function(t,n){0!==t&&e.Add(new TokenKind("Comma",[])),formatArgument(e,n)},t)}};return function(n){formatNode(e,t,n)}}()(t.Fields[2]),e.Add(new TokenKind("RParen",[]));else if("String"===t.Case)e.Add(new TokenKind("String",[t.Fields[0]]));else if("Number"===t.Case)e.Add(new TokenKind("Number",[String(t.Fields[0]),t.Fields[0]]));else if("Boolean"===t.Case)e.Add(new TokenKind("Boolean",[t.Fields[0]]));else if("Binary"===t.Case)formatNode(e,function(e){return function(t){formatExpression(e,t)}},t.Fields[0]),function(){var t=function(e){return function(t){e.Add(new TokenKind("Operator",[t]))}};return function(n){formatNode(e,t,n)}}()(t.Fields[1]),formatNode(e,function(e){return function(t){formatExpression(e,t)}},t.Fields[2]);else if("Function"===t.Case)e.Add(new TokenKind("Fun",[])),formatNode(e,function(e){return function(t){formatName(e,t)}},t.Fields[0]),e.Add(new TokenKind("Arrow",[])),formatNode(e,function(e){return function(t){formatExpression(e,t)}},t.Fields[1]);else if("List"===t.Case){e.Add(new TokenKind("LSquare",[]));var n=!0,i=!1,r=void 0;try{for(var o,s=_getIterator(t.Fields[0]);!(n=(o=s.next()).done);n=!0){var a=o.value;formatNode(e,function(e){return function(t){formatExpression(e,t)}},a)}}catch(e){i=!0,r=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw r}}e.Add(new TokenKind("RSquare",[]))}else"Empty"===t.Case||formatNode(e,function(e){return function(t){formatName(e,t)}},t.Fields[0])}function formatCommand(e,t){"Let"===t.Case?(e.Add(new TokenKind("Let",[])),formatNode(e,function(e){return function(t){formatName(e,t)}},t.Fields[0]),e.Add(new TokenKind("Equals",[])),formatNode(e,function(e){return function(t){formatExpression(e,t)}},t.Fields[1])):formatNode(e,function(e){return function(t){formatExpression(e,t)}},t.Fields[0])}function formatSingleExpression(e){var t=new FormattingContext([]);return formatNode(t,function(e){return function(t){formatExpression(e,t)}},e),join("",t.Strings)}function formatWhiteAfterExpr(e){var t=function(){var t=function(t){return append$$1(t.WhiteAfter,e.WhiteAfter)};return"Variable"===e.Node.Case?t(e.Node.Fields[0]):"Property"===e.Node.Case?t(e.Node.Fields[1]):e.WhiteAfter}();return join("",toList(delay(function(){return map$5(function(e){return formatToken(e.Token)},t)})))}function formatWhiteBeforeExpr(e){var t=function(){var t=function(e){return e.WhiteBefore};return"Variable"===e.Node.Case?append$$1(e.WhiteBefore,e.Node.Fields[0].WhiteBefore):"Call"===e.Node.Case?t(e.Node.Fields[1]):"Property"===e.Node.Case?t(e.Node.Fields[1]):e.WhiteBefore}();return join("",toList(delay(function(){return map$5(function(e){return formatToken(e.Token)},t)})))}function formatEntityKind(e){return"Variable"===e.Case?"variable":"Binding"===e.Case?"binding":"Operator"===e.Case?function(){var t=e.Fields[1];return formatToken(new TokenKind("Operator",[t]))+" operator"}():"List"===e.Case?"list":"Constant"===e.Case?"Number"===e.Fields[0].Case?function(){var t=e.Fields[0].Fields[0];return fsFormat("number `%f`")(function(e){return e})(t)}():"String"===e.Fields[0].Case?function(){var t=e.Fields[0].Fields[0];return fsFormat("string `%s`")(function(e){return e})(t)}():"Boolean"===e.Fields[0].Case?e.Fields[0].Fields[0]?"`true` value":"`false` value":"empty value":"Function"===e.Case?"function":"LetCommand"===e.Case?"let command":"RunCommand"===e.Case?"run command":"Program"===e.Case?"program":"Root"===e.Case?"root":"CallSite"===e.Case?"call site":"NamedParam"===e.Case?"named param":"ChainElement"===e.Case?"chain element":"ArgumentList"===e.Case?"argument list":"NamedMember"===e.Case?"property or method":"global value"}function entityCodeNameAndAntecedents(e){return"Program"===e.Case?function(){var t=e.Fields[0];return[1,t,anonymous]}():"RunCommand"===e.Case?function(){var t=e.Fields[0];return[2,ofArray([t]),anonymous]}():"LetCommand"===e.Case?function(){var t=e.Fields[0],n=e.Fields[1];return[3,ofArray([t,n]),anonymous]}():"Operator"===e.Case?function(){var t=e.Fields[0],n=e.Fields[2],i=e.Fields[1];return[4,ofArray([t,n]),formatToken(new TokenKind("Operator",[i]))]}():"List"===e.Case?function(){var t=e.Fields[0];return[5,t,anonymous]}():"Constant"===e.Case?"Number"===e.Fields[0].Case?function(){var t=e.Fields[0].Fields[0];return[7,new List$2,String(t)]}():"Boolean"===e.Fields[0].Case?function(){var t=e.Fields[0].Fields[0];return[8,new List$2,String(t)]}():"Empty"===e.Fields[0].Case?[9,new List$2,anonymous]:function(){var t=e.Fields[0].Fields[0];return[6,new List$2,t]}():"Function"===e.Case?function(){var t=e.Fields[0],n=e.Fields[1];return[10,ofArray([t,n]),anonymous]}():"GlobalValue"===e.Case?function(){var t=e.Fields[0];return[11,new List$2,t.Name]}():"Variable"===e.Case?function(){var t=e.Fields[1],n=e.Fields[0];return[12,ofArray([t]),n.Name]}():"Binding"===e.Case?function(){var t=e.Fields[1],n=e.Fields[0];return[13,ofArray([t]),n.Name]}():"ArgumentList"===e.Case?function(){var t=e.Fields[0];return[14,t,anonymous]}():"CallSite"===e.Case?"Choice2Of2"===e.Fields[2].Case?function(){var t=e.Fields[0],n=e.Fields[2].Fields[0],i=e.Fields[1];return[16,ofArray([t]),i.Name+"."+String(n)]}():function(){var t=e.Fields[0],n=e.Fields[1],i=e.Fields[2].Fields[0];return[15,ofArray([t]),n.Name+"."+i]}():"NamedParam"===e.Case?function(){var t=e.Fields[1],n=e.Fields[0];return[17,ofArray([t]),n.Name]}():"NamedMember"===e.Case?function(){var t=e.Fields[1],n=e.Fields[0];return[18,ofArray([t]),n.Name]}():"ChainElement"===e.Case?function(){var t=e.Fields[2],n=e.Fields[3],i=e.Fields[4],r=e.Fields[0],o=e.Fields[1];return[19,choose$$1(function(e){return e},ofArray([t,n,i])),o.Name+"."+String(r)]}():[0,new List$2,anonymous]}function Entity_get_Antecedents(){var e=entityCodeNameAndAntecedents(this.Kind);return e[1]}function Entity_get_Name(){var e=entityCodeNameAndAntecedents(this.Kind);return e[2]}function formatTypeInfo(e){return"Parameter"===e.Case?"unresolved type parameter":"App"===e.Case?"unresolved type application":"Delayed"===e.Case?"delayed type":"Primitive"===e.Case?"Number"===e.Fields[0].Case?"number":"String"===e.Fields[0].Case?"string":"Unit"===e.Fields[0].Case?"unit":"boolean":"Object"===e.Case?"object type":"Function"===e.Case?"function type":"List"===e.Case?"list type":"Any"===e.Case?"unknown":"generic type"}function rebuildExprNode(e,t,n){var i=[e,t,n],r=function(){throw new Error("rebuildExprNode: Wrong variable length")},o=function(){throw new Error("rebuildExprNode: Wrong property length")},s=function(){throw new Error("rebuildExprNode: Wrong call length")},a=function(){throw new Error("rebuildExprNode: Wrong function length")},l=function(){throw new Error("rebuildExprNode: Wrong binary operator argument length")},u=function(){throw new Error("rebuildExprNode: Not a node")};if("Function"===i[0].Case){if(null!=i[1].tail){if(null==i[1].tail.tail){if(null!=i[2].tail){if(null==i[2].tail.tail){var c=i[1].head,p=i[2].head;return new Expr("Function",[p,c])}return a()}return a()}return a()}return a()}if("Property"===i[0].Case){if(null!=i[1].tail){if(null==i[1].tail.tail){if(null!=i[2].tail){if(null==i[2].tail.tail){var h=i[1].head,f=i[2].head;return new Expr("Property",[h,f])}return o()}return o()}return o()}return o()}if("Binary"===i[0].Case){if(null!=i[1].tail){if(null!=i[1].tail.tail){if(null==i[1].tail.tail.tail){if(null==i[2].tail){var d=i[1].head,y=i[1].tail.head,m=i[0].Fields[1];return new Expr("Binary",[d,m,y])}return l()}return l()}return l()}return l()}if("Call"!==i[0].Case){if("Variable"===i[0].Case){if(null==i[1].tail){if(null!=i[2].tail){if(null==i[2].tail.tail){var g=i[2].head;return new Expr("Variable",[g])}return r()}return r()}return r()}if("Number"===i[0].Case)return u();if("Boolean"===i[0].Case)return u();if("String"===i[0].Case)return u();if("Empty"===i[0].Case)return u();if(null==i[2].tail){var v=i[1];return new Expr("List",[v])}throw new Error("rebuildExprNode: Wrong list length")}if(null==i[1].tail)return s();if(null==i[2].tail)return s();var C=function(){var e=i[0].Fields[2],t=i[1].head,n=i[1].tail,r=i[0].Fields[0],o=i[2].head,s=i[2].tail,a=function(){var i=function(){return null!=r}()?[t,n]:[null,new List$2(t,n)],a=function e(t){return function(n){return function(i){var r=[t,n,i],o=function(){throw new Error("rebuildExprNode: Wrong call length")};if(null==r[0].tail)return null==r[1].tail&&null==r[2].tail?new List$2:o();if(null!=r[0].head.Name){if(null!=r[1].tail){if(null!=r[2].tail){var s=r[0].tail,a=r[1].head,l=r[1].tail,u=r[2].head,c=r[2].tail;return new List$2(new Argument(u,a),e(s)(l)(c))}return o()}return o()}if(null!=r[1].tail){var p=r[0].tail,h=r[1].head,f=r[1].tail,d=r[2];return new List$2(new Argument(null,h),e(p)(f)(d))}return o()}}};return{v:{v:new Expr("Call",[i[0],o,function(){var t=a(e.Node)(i[1])(s);return new _Node(e.WhiteBefore,e.WhiteAfter,e.Range,t,e.Entity)}()])}}}();if("object"===("undefined"==typeof a?"undefined":_typeof$2(a)))return a.v}();return"object"===("undefined"==typeof C?"undefined":_typeof$2(C))?C.v:void 0}function _ExprLeaf_ExprNode_(e){var t=function(){return new Choice("Choice1Of2",[null])};if("Call"!==e.Case){if("Variable"===e.Case){var n=e.Fields[0];return new Choice("Choice2Of2",[[new List$2,ofArray([n])]])}if("List"===e.Case){var i=e.Fields[0];return new Choice("Choice2Of2",[[i,new List$2]])}if("Function"===e.Case){var r=e.Fields[1],o=e.Fields[0];return new Choice("Choice2Of2",[[ofArray([r]),ofArray([o])]])}if("Binary"===e.Case){var s=e.Fields[0],a=(e.Fields[1],e.Fields[2]);return new Choice("Choice2Of2",[[ofArray([s,a]),new List$2]])}if("Number"===e.Case)return t();if("Boolean"===e.Case)return t();if("String"===e.Case)return t();if("Empty"===e.Case)return t();var l=e.Fields[0],u=e.Fields[1];return new Choice("Choice2Of2",[[ofArray([l]),ofArray([u])]])}if(null==e.Fields[0]){var c=function(){var t=e.Fields[2],n=e.Fields[1];return{v:new Choice("Choice2Of2",[[toList(delay(function(){return map$5(function(e){return e.Value},t.Node)})),new List$2(n,choose$$1(function(e){return e.Name},t.Node))]])}}();if("object"===("undefined"==typeof c?"undefined":_typeof$2(c)))return c.v}else{var p=function(){var t=e.Fields[2],n=e.Fields[0],i=e.Fields[1];return{v:new Choice("Choice2Of2",[[new List$2(n,toList(delay(function(){return map$5(function(e){return e.Value},t.Node)}))),new List$2(i,choose$$1(function(e){return e.Name},t.Node))]])}}();if("object"===("undefined"==typeof p?"undefined":_typeof$2(p)))return p.v}}function _FindProperty___(e,t){return tryPick(function(t){var n=function(){return null};if("Property"===t.Case){if(t.Fields[0]===e.Name){var i=t.Fields[3];t.Fields[0];return i}return n()}return n()},t.Members)}function _FindMethod___(e,t){return tryPick(function(t){var n=function(){return null};if("Method"===t.Case){if(t.Fields[0]===e.Name){var i=t.Fields[1],r=t.Fields[4];t.Fields[0];return[i,r]}return n()}return n()},t.Members)}function storeArguments(e){return[_Array$from(e),mapIndexed$$1(function(e,t){return new Expression("MemberExpression",[new Expression("IdentifierExpression",["_stored",null]),new Expression("NumericLiteral",[e,null]),!0,null])},e)]}function evaluateExpression(_stored,expr){var prog=new Program$1(null,ofArray([new Statement("ExpressionStatement",[expr,null])])),code=Babel.transformFromAst(Serializer.serializeProgram(prog),"",new BabelOptions(["es2015"]));Log.trace("interpreter","Interpreter evaluating: %O",code.code);try{var s=series.create(function(e){return e.Delay(function(){return e.Return([])})}(singleton$2),"","","");return new RuntimeContext("lol","","troll"),table.create(s),timeline.create(s),series.values(new Int32Array([1])),placeholder.create(""),_stored.length,eval(code.code)}catch(e){throw Log.exn("interpreter","Evaluation failed: %O",e),new Error}}function evaluateExpr(e,t){var n=storeArguments(e);return evaluateExpression(n[0],t(n[1]))}function evaluateCall(e,t,n){var i=storeArguments(new List$2(t,n));return evaluateExpression(i[0],e.Emit([i[1].head,i[1].tail]))}function evaluatePreview(e,t){var n=new Name("preview"),i=function(){var t=e;return null!=t?function(e){return reduceType(e)}(t):t}(),r=function e(){var e=function(){return null};if(null!=i){if("Object"===i.Case){var r=_FindMethod___(n,i.Fields[0]);if(null!=r){var o=r[1];return evaluateCall(o,t,new List$2)}return e()}return e()}return e()};if(null!=i){if("Object"===i.Case){var o=_FindProperty___(n,i.Fields[0]);if(null!=o){var s=o;return evaluateCall(s,t,new List$2)}return r()}return r()}return r()}function ensureValue(e,t){(function(){return null==t.Value})()&&!function(){var n=evaluateEntity(e,t);null!=n&&(t.Value=new EntityValue(n,new Lazy(function(){return evaluatePreview(t.Type,n)})))}()}function getValue(e,t){return function(){return null==t.Value}()&&Log.error("interpreter","getValue: Value of entity %O has not been evaluated.",t),t.Value.Value}function evaluateEntity(e,t){var n=function(){return null},i=function(){return Log.error("interpreter","Cannot evaluate entity: %O",t),null};if("Constant"===t.Kind.Case){if("Number"===t.Kind.Fields[0].Case){var r=t.Kind.Fields[0].Fields[0];return r}if("String"===t.Kind.Fields[0].Case){var o=t.Kind.Fields[0].Fields[0];return o}if("Empty"===t.Kind.Fields[0].Case)return null;var s=t.Kind.Fields[0].Fields[0];return s}if("GlobalValue"===t.Kind.Case){var a=t.Kind.Fields[1];t.Kind.Fields[0];if(null!=a)return evaluateExpression([],a)}else if("ChainElement"===t.Kind.Case){if(t.Kind.Fields[0]){if(null!=t.Kind.Fields[3]){var l=t.Kind.Fields[3],u=t.Kind.Fields[1],c=reduceType(l.Type),p=function(){return null};if("Object"===c.Case){var h=_FindProperty___(u,c.Fields[0]);if(null!=h){var f=h;return evaluateCall(f,getValue(e,l),new List$2)}return p()}return p()}return i()}if(null==t.Kind.Fields[3])return i();if(null==t.Kind.Fields[4])return i();if("ArgumentList"!==t.Kind.Fields[4].Kind.Case)return i();var d=t.Kind.Fields[4].Kind.Fields[0],y=t.Kind.Fields[3],m=t.Kind.Fields[1],g=function(){var t=toList(takeWhile(function(e){return"NamedParam"!==e.Kind.Case},d)),n=toList(skipWhile(function(e){return"NamedParam"!==e.Kind.Case},d)),i=_Array$from(map$4(function(t){return getValue(e,t)},t)),r=new _Map(choose$$1(function(t){return"NamedParam"===t.Kind.Case?function(){var n=t.Kind.Fields[1],i=t.Kind.Fields[0];return[i.Name,getValue(e,n)]}():null},n)),o=reduceType(y.Type),s=function(){return null};if("Object"===o.Case){var a=_FindMethod___(m,o.Fields[0]);if(null!=a){var l=a[1],u=a[0],c=mapIndexed$$1(function(e,t){return e<i.length?i[e]:r.has(t[0])?r.get(t[0]):null},u);return{v:evaluateCall(l,getValue(e,y),c)}}return{v:s()}}return{v:s()}}();if("object"===("undefined"==typeof g?"undefined":_typeof$2(g)))return g.v}else{if("Operator"!==t.Kind.Case){if("Variable"===t.Kind.Case){var v=t.Kind.Fields[1],C=v.Value;return null!=C?function(e){return e.Value}(C):C}if("List"===t.Kind.Case){var T=t.Kind.Fields[0];return evaluateExpr(map$4(function(t){return getValue(e,t)},T),function(e){return new Expression("ArrayExpression",[e,null])})}return"ArgumentList"===t.Kind.Case?n():"NamedParam"===t.Kind.Case?n():"NamedMember"===t.Kind.Case?n():i()}if("Power"===t.Kind.Fields[1].Case){var b=t.Kind.Fields[0],w=t.Kind.Fields[2];return evaluateExpr(ofArray([getValue(e,b),getValue(e,w)]),function(e){var t=function(){throw new Error("evaluateEntity: Expected two arguments")};if(null!=e.tail){if(null!=e.tail.tail){if(null==e.tail.tail.tail){var n=e.head,i=e.tail.head,r=new Expression("MemberExpression",[new Expression("IdentifierExpression",["pow",null]),new Expression("IdentifierExpression",["Math",null]),!1,null]);return new Expression("CallExpression",[r,ofArray([n,i]),null])}return t()}return t()}return t()})}var $=function(){var n=t.Kind.Fields[0],i=t.Kind.Fields[1],r=t.Kind.Fields[2];return{v:evaluateExpr(ofArray([getValue(e,n),getValue(e,r)]),function(e){var t=function(){throw new Error("evaluateEntity: Expected two arguments")};if(null!=e.tail){if(null!=e.tail.tail){if(null==e.tail.tail.tail){var n=e.head,r=e.tail.head,o="Plus"===i.Case?new BinaryOperator("BinaryPlus",[]):"Minus"===i.Case?new BinaryOperator("BinaryMinus",[]):"Multiply"===i.Case?new BinaryOperator("BinaryMultiply",[]):"Divide"===i.Case?new BinaryOperator("BinaryDivide",[]):"GreaterThan"===i.Case?new BinaryOperator("BinaryGreater",[]):"LessThan"===i.Case?new BinaryOperator("BinaryLess",[]):"GreaterThanOrEqual"===i.Case?new BinaryOperator("BinaryGreaterOrEqual",[]):"LessThanOrEqual"===i.Case?new BinaryOperator("BinaryLessOrEqual",[]):"Power"===i.Case?function(){throw new Error("evaluateEntity: Power is not a binary operation")}():new BinaryOperator("BinaryEqualStrict",[]);return new Expression("BinaryExpression",[o,n,r,null])}return t()}return t()}return t()})}}();if("object"===("undefined"==typeof $?"undefined":_typeof$2($)))return $.v}}function evaluateEntityTree(e,t){var n=new _Map,i=function t(i){if(!n.has(i.Symbol)&&function(){return null==i.Value}()){n.set(i.Symbol,!0);var r=Entity_get_Antecedents.bind(i)(),o=!0,s=!1,a=void 0;try{for(var l,u=_getIterator(r);!(o=(l=u.next()).done);o=!0){var c=l.value;t(c)}}catch(e){s=!0,a=e}finally{try{!o&&u.return&&u.return()}finally{if(s)throw a}}ensureValue(e,i)}};return i(t),t.Value}function globalEntity(e,t,n,i){var r=new EntityKind("GlobalValue",[new Name(e),i]),o=_Symbol2(),s=n;return new Entity(r,o,null,t,s,new List$2)}function evaluate(e,t){Log.trace("interpreter","Evaluating entity %s (%O)",Entity_get_Name.bind(t)(),t.Kind);var n=new EvaluationContext(new _Map(toList(delay(function(){return map$5(function(e){return[Entity_get_Name.bind(e)(),e]},e)})))),i=evaluateEntityTree(n,t);return Log.trace("interpreter","Evaluated entity %s (%O) = %O",Entity_get_Name.bind(t)(),t.Kind,i),i}function _classCallCheck$12(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function start$1(e,t){var n=new MailboxProcessor(e,t);return n.start(),n}function getMembers(e){return function(t){return t.Delay(function(){return"Object"===e.Case?t.Return(e.Fields[0].Members):"Delayed"===e.Case?t.Bind(Async_AwaitFuture_Static(e.Fields[1]),function(e){return t.ReturnFrom(getMembers(e))}):function(){return Log.error("editors","getMembers: Type %O is not an object",e),t.Return(function(){throw new Error("getMembers: Not an object")}())}()})}(singleton$2)}function extractMetadata(e){var t=tryPick(function(e){return"http://thegamma.net"===e.Context&&"Documentation"===e.Type?e.Data:null},e),n=tryPick(function(e){return"http://schema.org"===e.Context?e:null},e);return[n,null!=t?t:new Documentation("None",[])]}function getProperty(e,t){return tryPick(function(t){var n=function(){return null};if("Property"===t.Case){if(t.Fields[0]===e.Name){var i=t.Fields[2],r=(t.Fields[0],t.Fields[1]),o=extractMetadata(i);return[o[0],r,o[1]]}return n()}return n()},t)}function filterProperties(e,t){var n=_Array$from(choose$1(function(t){return"Property"===t.Case?function(){var n=extractMetadata(t.Fields[2]);if(e([t.Fields[0],n[0],t.Fields[1]]))return new Property("Property",[t.Fields[0],n[0],t.Fields[1]])}():null},t));return n}function dominant(e,t){var n=count(e),i=count(t);return i>=2&&i>=~~(2*n/3)}function chooseableProperty(e,t,n){return function(i){return i.Delay(function(){return i.Bind(getMembers(n),function(n){var r=getProperty(t.Node,n),o=function(){return i.Return()};if(null==r)return o();if(null==r[0])return o();var s=function(){var o=r[0],s=r[1],a=filterProperties(function(t){return null!=t[1]&&function(){var n=t[1];return n.Type===o.Type&&(!e||typesEqual(t[2])(s))}()},n);return dominant(n,a)?{v:i.Return([t,a])}:{v:i.Return()}}();return"object"===("undefined"==typeof s?"undefined":_typeof$2(s))?s.v:void 0})})}(singleton$2)}function pickChainSuffixes(e,t){var n=function t(n){return function(i){return function(r){return function(o){return o.Delay(function(){return"Property"===r.Node.Case?function(){var s=r.Node.Fields[0],a=r.Node.Fields[1];return o.Bind(getMembers(s.Entity.Type),function(r){var l=getProperty(a.Node,r);if(null==l)return o.ReturnFrom(t(n)(i)(s));var u=function(){var r=l[1],u=l[0],c=l[2],p=new List$2([s.Entity.Type,a,u,r,c],i);return{v:o.Bind(e(p),function(e){return null!=e?o.ReturnFrom(t(new List$2(e,n))(p)(s)):o.ReturnFrom(t(n)(p)(s))})}}();return"object"===("undefined"==typeof u?"undefined":_typeof$2(u))?u.v:void 0})}():function(){var e=_ExprLeaf_ExprNode_(r.Node);if("Choice1Of2"===e.Case)return o.Return(n);var i=e.Fields[0][0];return o.ReturnFrom(function(){var e=function(e){return function(n){return t(e)(new List$2)(n)}};return function(t){return Async.fold(e,n,t)}}()(i))}()})}(singleton$2)}}};return n(new List$2)(new List$2)(t)}function collectCmdEditors(e){return function(t){return t.Delay(function(){var n=function(e){return Log.trace("editors","single choice"),t.Bind(collectSingleChoiceEditors(e),function(n){return Log.trace("editors","item list"),t.Bind(collectItemListEditors(e),function(i){return Log.trace("editors","multi choice"),t.Bind(collectNestedChoiceEditors(e),function(e){return t.Return(append$$1(n,append$$1(e,i)))})})})};return n("Expr"===e.Node.Case?e.Node.Fields[0]:e.Node.Fields[1])})}(singleton$2)}function bindEntity(e,t){var n=entityCodeNameAndAntecedents(t),i=map$4(function(e){return e.Symbol},new List$2(e.Root,n[1])),r=function(){var t=ListDictionaryModule.tryFind(i,e.Table);return null!=t?t:create$4(null,new GenericComparer(compare))}();if(r.has([n[0],n[2]]))return Log.trace("binder","Cached: binding %s %s",formatEntityKind(t),n[2]),r.get([n[0],n[2]]);var o=function(){Log.trace("binder","New: binding %s %s",formatEntityKind(t),n[2]);var o=_Symbol2(),s=function(){var e=null,n=new List$2,i=new List$2;return new Entity(t,o,null,i,e,n)}();return ListDictionaryModule.set(i,add$2([n[0],n[2]],s,r),e.Table),{v:s}}();return"object"===("undefined"==typeof o?"undefined":_typeof$2(o))?o.v:void 0}function setEntity(e,t,n){return e.Bound.push([t.Range,n]),t.Entity=n,n}function bindExpression(e,t,n){var i=function(e){var t=e;return function(e){return function(n){return bindExpression(t,e,n)}}},r=function(){var e=null;return function(t){return function(n){return bindExpression(e,t,n)}}}();if("Call"!==n.Node.Case){if("Property"===n.Node.Case){var o=r(t)(n.Node.Fields[0]),s=function(e){return setEntity(t,n.Node.Fields[1],e)}(bindEntity(t,new EntityKind("NamedMember",[n.Node.Fields[1].Node,o])));return function(e){return setEntity(t,n,e)}(bindEntity(t,new EntityKind("ChainElement",[!0,n.Node.Fields[1].Node,s,o,null])))}if("Binary"===n.Node.Case){var a=r(t)(n.Node.Fields[0]),l=r(t)(n.Node.Fields[2]);return function(e){return setEntity(t,n,e)}(bindEntity(t,new EntityKind("Operator",[a,n.Node.Fields[1].Node,l])))}if("List"===n.Node.Case){var u=map$4(r(t),n.Node.Fields[0]);return function(e){return setEntity(t,n,e)}(bindEntity(t,new EntityKind("List",[u])))}if("Function"===n.Node.Case){var c=null==e?function(){throw new Error("bindExpression: Function missing call site")}():e,p=function(e){return setEntity(t,n.Node.Fields[0],e)}(bindEntity(t,new EntityKind("Binding",[n.Node.Fields[0].Node,c]))),h=r(new BindingContext(add$2(n.Node.Fields[0].Node,p,t.Variables),t.GlobalValues,t.Root,t.Table,t.Bound))(n.Node.Fields[1]);return function(e){return setEntity(t,n,e)}(bindEntity(t,new EntityKind("Function",[p,h])))}if("Boolean"===n.Node.Case)return function(e){return setEntity(t,n,e)}(bindEntity(t,new EntityKind("Constant",[new Constant("Boolean",[n.Node.Fields[0]])])));if("String"===n.Node.Case)return function(e){return setEntity(t,n,e)}(bindEntity(t,new EntityKind("Constant",[new Constant("String",[n.Node.Fields[0]])])));if("Number"===n.Node.Case)return function(e){return setEntity(t,n,e)}(bindEntity(t,new EntityKind("Constant",[new Constant("Number",[n.Node.Fields[0]])])));if("Empty"===n.Node.Case)return function(e){return setEntity(t,n,e)}(bindEntity(t,new EntityKind("Constant",[new Constant("Empty",[])])));var f=tryFind$1(n.Node.Fields[0].Node,t.Variables);if(null!=f)return function(e){return setEntity(t,n,e)}(bindEntity(t,new EntityKind("Variable",[n.Node.Fields[0].Node,f])));var d=tryFind$1(n.Node.Fields[0].Node,t.GlobalValues);return function(e){return setEntity(t,n,e)}(null==d?bindEntity(t,new EntityKind("GlobalValue",[n.Node.Fields[0].Node,null])):d)}var y=function(){var e=null!=function(){var e=n.Node.Fields[0];return null!=e?r(t)(e):e}()?function(){var e=n.Node.Fields[0];return null!=e?r(t)(e):e}():t.Root,o=function(i){return bindEntity(t,new EntityKind("CallSite",[e,n.Node.Fields[1].Node,i]))},s=mapIndexed$$1(function(e,n){var r=o(null!=n.Name?new Choice("Choice1Of2",[n.Name.Node.Name]):new Choice("Choice2Of2",[e])),s=i(r)(t)(n.Value);return null==n.Name?s:function(e){return setEntity(t,n.Name,e)}(bindEntity(t,new EntityKind("NamedParam",[n.Name.Node,s])))},n.Node.Fields[2].Node),a=function(e){return setEntity(t,n.Node.Fields[2],e)}(bindEntity(t,new EntityKind("ArgumentList",[s]))),l=function(e){return setEntity(t,n.Node.Fields[1],e)}(bindEntity(t,new EntityKind("NamedMember",[n.Node.Fields[1].Node,e])));return{v:function(e){return setEntity(t,n,e)}(bindEntity(t,new EntityKind("ChainElement",[!1,n.Node.Fields[1].Node,l,e,a])))}}();if("object"===("undefined"==typeof y?"undefined":_typeof$2(y)))return y.v}function bindCommand(e,t){return"Expr"===t.Node.Case?function(){var n=bindExpression(null,e,t.Node.Fields[0]),i=function(n){return setEntity(e,t,n)}(bindEntity(e,new EntityKind("RunCommand",[n])));return[e,i]}():function(){var n=bindExpression(null,e,t.Node.Fields[1]),i=function(n){return setEntity(e,t.Node.Fields[0],n)}(bindEntity(e,new EntityKind("Variable",[t.Node.Fields[0].Node,n]))),r=function(n){return setEntity(e,t,n)}(bindEntity(e,new EntityKind("LetCommand",[i,n])));return[new BindingContext(add$2(t.Node.Fields[0].Node,i,e.Variables),e.GlobalValues,e.Root,e.Table,e.Bound),r]}()}function bindProgram(e,t){e.Bound.splice(0);var n=fold$1(function(e,t){var n=bindCommand(e[0],t);return[n[0],new List$2(n[1],e[1])]},[e,new List$2],t.Body.Node);return[bindEntity(e,new EntityKind("Program",[n[1]])),new BindingResult(_Array$from(e.Bound))]}function createContext(e,t){var n=function(){var e=new EntityKind("Root",[]),t=new List$2,n=_Symbol2(),i=null,r=new List$2;return new Entity(e,n,null,r,i,t)}(),i=new _Map,r=[];return new BindingContext(create$4(null,new GenericComparer(function(e,t){return e.CompareTo(t)})),create$4(toList(delay(function(){return map$5(function(e){return[new Name(Entity_get_Name.bind(e)()),e]},e)})),new GenericComparer(function(e,t){return e.CompareTo(t)})),n,i,r)}function startsWith(e,t,n,i){return n===i.length||t!==e.length&&(e[t]===i[n]&&startsWith(e,t+1,n+1,i))}function letter(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"}function number(e){return e>="0"&&e<="9"}function addAndTokenize(e,t,n,i){return function(t){e.Tokens.push(t)}(new Token(t,new _Range(n,n+i-1))),tokenizeInput(e,n+i)}function tokenizeIdent(e,t,n){return t+n<e.Input.length&&(!!letter(e.Input[t+n])||number(e.Input[t+n]))?tokenizeIdent(e,t,n+1):addAndTokenize(e,new TokenKind("Ident",[e.Input.substr(t,n)]),t,n)}function tokenizeString(e,t,n,i){return n+i>=e.Input.length?tokenizeStringEnd(!0,e,t,n,i):function(){var r=e.Input[n+i],o=function(){return'"'===r?tokenizeStringEnd(!1,e,t,n,i+1):"\\"===r?function(){var r=e.Input[n+i+1];return'"'===r?tokenizeString(e,new List$2('"',t),n,i+2):"\\"===r?tokenizeString(e,new List$2("\\",t),n,i+2):"n"===r?tokenizeString(e,new List$2("\n",t),n,i+2):"t"===r?tokenizeString(e,new List$2("\t",t),n,i+2):tokenizeString(e,ofArray([r,"\\"],t),n,i+2)}():tokenizeString(e,new List$2(r,t),n,i+1)};return"\\"===r&&n+i+1>=e.Input.length?tokenizeStringEnd(!0,e,new List$2("\\",t),n,i+1):o()}()}function tokenizeStringEnd(e,t,n,i,r){var o=_Array$from(n).slice().reverse().join(""),s=new _Range(i,i+r);return e&&t.Errors.push(Tokenizer.inputEndInsideString(s,o)),addAndTokenize(t,new TokenKind("String",[o]),i,r)}function tokenizeQuotedIdent(e,t,n){
return t+n>=e.Input.length?tokenizeQuotedIdentEnd(!0,e,t,n):function(){var i=e.Input[t+n];return"\n"===i?tokenizeQuotedIdentEnd(!0,e,t,n+1):"'"===i?tokenizeQuotedIdentEnd(!1,e,t,n+1):tokenizeQuotedIdent(e,t,n+1)}()}function tokenizeQuotedIdentEnd(e,t,n,i){var r=new _Range(n,n+i),o=t.Input.substr(n+1,i-(e?1:2)),s=endsWith(o,"\n")?o.substr(0,o.length-1):o;return e&&t.Errors.push(Tokenizer.missingClosingQuote(r,s)),addAndTokenize(t,new TokenKind("QIdent",[s]),n,i)}function tokenizeWhite(e,t,n){return t+n<e.Input.length&&" "===e.Input[t+n]?tokenizeWhite(e,t,n+1):addAndTokenize(e,new TokenKind("White",[e.Input.substr(t,n)]),t,n)}function tokenizeNumber(e,t,n,i){return n+i<e.Input.length&&number(e.Input[n+i])?tokenizeNumber(e,t,n,i+1):n+i<e.Input.length&&!t&&"."===e.Input[n+i]?tokenizeNumber(e,!0,n,i+1):function(){var t=e.Input.substr(n,i);return addAndTokenize(e,new TokenKind("Number",[t,_Number$parseFloat(t)]),n,i)}()}function tokenizeInput(e,t){return t>=e.Input.length?e:function(){var n=e.Input[t],i=function i(){var i=function i(){var i=function i(){var i=function i(){var i=function i(){var i=function i(){var i=function(){return"\n"===n?addAndTokenize(e,new TokenKind("Newline",[]),t,1):" "===n?tokenizeWhite(e,t,1):'"'===n?tokenizeString(e,new List$2,t,1):"'"===n?tokenizeQuotedIdent(e,t,1):"("===n?addAndTokenize(e,new TokenKind("LParen",[]),t,1):")"===n?addAndTokenize(e,new TokenKind("RParen",[]),t,1):"*"===n?addAndTokenize(e,new TokenKind("Operator",[new Operator("Multiply",[])]),t,1):"+"===n?addAndTokenize(e,new TokenKind("Operator",[new Operator("Plus",[])]),t,1):","===n?addAndTokenize(e,new TokenKind("Comma",[]),t,1):"-"===n?addAndTokenize(e,new TokenKind("Operator",[new Operator("Minus",[])]),t,1):"."===n?addAndTokenize(e,new TokenKind("Dot",[]),t,1):"/"===n?addAndTokenize(e,new TokenKind("Operator",[new Operator("Divide",[])]),t,1):"<"===n?addAndTokenize(e,new TokenKind("Operator",[new Operator("LessThan",[])]),t,1):"="===n?addAndTokenize(e,new TokenKind("Equals",[]),t,1):">"===n?addAndTokenize(e,new TokenKind("Operator",[new Operator("GreaterThan",[])]),t,1):"["===n?addAndTokenize(e,new TokenKind("LSquare",[]),t,1):"]"===n?addAndTokenize(e,new TokenKind("RSquare",[]),t,1):"^"===n?addAndTokenize(e,new TokenKind("Operator",[new Operator("Power",[])]),t,1):letter(n)?tokenizeIdent(e,t,1):number(n)?tokenizeNumber(e,!1,t,1):function(){return e.Errors.push(Tokenizer.unexpectedCharacter(new _Range(t,t),n)),addAndTokenize(e,new TokenKind("Error",[n]),t,1)}()};return">"===n&&startsWith(e.Input,t,0,">=")?addAndTokenize(e,new TokenKind("Operator",[new Operator("GreaterThanOrEqual",[])]),t,2):i()};return"<"===n&&startsWith(e.Input,t,0,"<=")?addAndTokenize(e,new TokenKind("Operator",[new Operator("LessThanOrEqual",[])]),t,2):i()};return"f"===n&&startsWith(e.Input,t,0,"false")?addAndTokenize(e,new TokenKind("Boolean",[!1]),t,5):i()};return"t"===n&&startsWith(e.Input,t,0,"true")?addAndTokenize(e,new TokenKind("Boolean",[!0]),t,4):i()};return"l"===n&&startsWith(e.Input,t,0,"let")?addAndTokenize(e,new TokenKind("Let",[]),t,3):i()};return"f"===n&&startsWith(e.Input,t,0,"fun")?addAndTokenize(e,new TokenKind("Fun",[]),t,3):i()};return"-"===n&&startsWith(e.Input,t,0,"->")?addAndTokenize(e,new TokenKind("Arrow",[]),t,2):i()}()}function tokenize(e){var t=function(){var t=[];return new Context$1([],t,e)}(),n=tokenizeInput(t,0);return n.Tokens.push(new Token(new TokenKind("EndOfFile",[]),new _Range(e.length,e.length))),[_Array$from(n.Tokens),_Array$from(n.Errors)]}function clone(e){return new Context$$1(e.Tokens,_Array$from(e.Whitespace),_Array$from(e.Errors),e.TopLevel,e.Silent,e.StrictlyNested,e.IndentCurrent,e.IndentStack,e.Position)}function next$1(e){e.Position=e.Position+1}function disposable(e){return new DisposableHelper(e)}function usingSilentMode(e){var t=e.Silent;return e.Silent=!0,disposable(function(){e.Silent=t})}function addError(e,t){e.Silent||e.Errors.push(t)}function usingIndent(e,t,n){var i=function(){var i=n.IndentStack,r=function t(){var t=function(){return n.IndentStack=new List$2([n.IndentCurrent,e],n.IndentStack),!0};if(null!=i.tail){if(i.head[1])return t();if(function(){var e=i.head[0];return e!==n.IndentCurrent}()){i.head[0];throw new Error("usingIndent: We forgot to set the top-stack line indentation")}return t()}return t()};if(null!=i.tail){if(i.head[1]){if(function(){var e=i.head[0];return e>n.IndentCurrent}()){i.head[0];return function(e){addError(n,e)}(Parser.unindentedBlock(t.Range,t.Token)),!1}return r()}return r()}return r()}();return disposable(function(){var e=[i,n.IndentStack];if(e[0]){if(null==e[1].tail)throw new Error("usingIndent: We lost item from an indentation stack");var t=(e[1].head,e[1].tail);n.IndentStack=t}})}function usingTopLevelNesting(e){var t=e.StrictlyNested;e.StrictlyNested=!0;var n=e.IndentStack;return null!=n.tail&&(e.IndentStack=new List$2([0,!0],n.tail)),disposable(function(){e.StrictlyNested=t})}function usingNonTopLevel(e){var t=e.TopLevel;return e.TopLevel=!1,disposable(function(){e.TopLevel=t})}function setLineIndent(e,t){e.IndentCurrent=t;var n=e.IndentStack,i=function i(){var i=function(){};if(null!=n.tail)if(n.head[1])i();else{var r=(n.head[0],n.tail);e.IndentStack=new List$2([t,!0],r)}else i()};if(null!=n.tail)if(n.head[1])i();else if(function(){var e=n.head[0];return t<=e}()){var r=(n.head[0],n.tail);e.IndentStack=new List$2([2147483647,!0],r)}else i();else i()}function justToken(e){var t=function(e){return e.Tokens[e.Position]},n=t(e),i=function(t){return e.Whitespace.push(t),next$1(e),justToken(e)};if("Newline"===n.Token.Case){e.Whitespace.push(n),next$1(e);var r=t(e);if("White"===r.Token.Case){var o=r.Token.Fields[0];e.Whitespace.push(r),setLineIndent(e,o.length),next$1(e)}else setLineIndent(e,0);return justToken(e)}return"Error"===n.Token.Case?i(n):"White"===n.Token.Case?i(n):n}function token(e){var t=justToken(e),n=toList(e.Whitespace);return e.Whitespace.splice(0),[n,t]}function nestedToken(e){var t=function t(){var t=toList(e.Whitespace);return e.Whitespace.splice(0),t},n=justToken(e),i=e.IndentStack,r=function(){return null==i.tail?[t(),n]:null};if(null!=i.tail){if(function(){var t=i.head[0];return e.IndentCurrent>t||!e.StrictlyNested&&e.IndentCurrent===t}()){i.head[0];return[t(),n]}return r()}return r()}function node$1(e,t){return new _Node(new List$2,new List$2,e,t)}function whiteAfter(e,t){var n=append$$1(t.WhiteAfter,e);return new _Node(t.WhiteBefore,n,t.Range,t.Node,t.Entity)}function whiteBefore(e,t){return new _Node(append$$1(e,t.WhiteBefore),t.WhiteAfter,t.Range,t.Node,t.Entity)}function lastCallOrPropertyRange(e,t){var n=function(e){return e.Range};return"Call"===e.Node.Case?n(e.Node.Fields[1]):"Property"===e.Node.Case?n(e.Node.Fields[1]):e.Range}function _Identifier___(e,t){var n=[e,t],i=function(e,t,n){return function(e){return whiteBefore(n,e)}(node$1(t,new Name(e)))};return"Ident"===n[1].Token.Case?i(n[1].Token.Fields[0],n[1].Range,n[0]):"QIdent"===n[1].Token.Case?i(n[1].Token.Fields[0],n[1].Range,n[0]):void 0}function precedence(e){var t=function(){return[1,new Associativity("Left",[])]},n=function(){return[2,new Associativity("Left",[])]},i=function(){return[3,new Associativity("Left",[])]};return"GreaterThan"===e.Case?t():"GreaterThanOrEqual"===e.Case?t():"LessThan"===e.Case?t():"LessThanOrEqual"===e.Case?t():"Plus"===e.Case?n():"Minus"===e.Case?n():"Multiply"===e.Case?i():"Divide"===e.Case?i():"Power"===e.Case?[4,new Associativity("Right",[])]:[0,new Associativity("Left",[])]}function precClimb(e,t){var n=function t(n){return function(i){var r=function(){return[n,i]};if(null!=i){if(function(){var t=i[0];i[1];return precedence(t.Node)[0]>=e}()){var o=i[1],s=i[0],a=precedence(s.Node),l=a[1].Equals(new Associativity("Left",[]))?a[0]+1:a[0],u=precClimb(l,o),c=node$1(unionRanges(n.Range,u[0].Range),new Expr("Binary",[n,s,u[0]]));return t(c)(u[1])}return r()}return r()}};return n(t.Fields[0])(t.Fields[1])}function buildExpression(e,t){return precClimb(0,fold$1(function(e,t){return new OpExpr("OpExpr",[t[0],[t[1],e]])},new OpExpr("OpExpr",[t,null]),e))[0]}function makeCallOrProp(e,t,n){var i=[e,n],r=function(n){var i=null!=e?unionRanges(e.Range,n.Range):unionRanges(t.Range,n.Range);return node$1(i,new Expr("Call",[e,t,n]))};if(null==i[0])return null!=i[1]?r(i[1]):node$1(t.Range,new Expr("Variable",[t]));if(null!=i[1])return r(i[1]);var o=i[0];return node$1(unionRanges(o.Range,t.Range),new Expr("Property",[o,t]))}function parseChain(e,t,n,i,r,o){var s=function(e){return whiteAfter(r,e)}(makeCallOrProp(t,n,i)),a=new _Range(e.End+1,e.End+1),l=node$1(a,new Expr("Property",[s,node$1(a,new Name(""))])),u=nestedToken(o),c=function(){return null==u?function(){var e=token(o),t=_Identifier___(e[0],e[1]);if(null==t){var n=function(e){return lastCallOrPropertyRange(s,e)};return function(e){addError(o,e)}(Parser.unexpectedScopeEndAfterDot(e[1].Range,n,e[1].Token)),l}var i=function(){var e=t,n=function(e){return lastCallOrPropertyRange(s,e)};!function(e){addError(o,e)}(Parser.unindentedIdentifierAfterDot(e.Range,n,e.Node.Name));var i=[o.TopLevel,o.IndentStack],r=function(){return l};if(i[0])return{v:r()};if(null!=i[1].tail){if(function(){i[1].tail,i[1].head[0],i[1].head[1];return o.IndentCurrent>0}()){var a=i[1].head[1],u=(i[1].head[0],i[1].tail);return next$1(o),o.IndentStack=new List$2([o.IndentCurrent,a],u),{v:parseMember(s,e,o)}}return{v:r()}}return{v:r()}}();if("object"===("undefined"==typeof i?"undefined":_typeof$2(i)))return i.v}():function(){var e=u[1];if(function(e){addError(o,e)}(Parser.unexpectedTokenAfterDot(e.Range,e.Token)),e.Token.Equals(new TokenKind("EndOfFile",[])))return l;next$1(o);var t=usingSilentMode(o);try{return parseMember(s,node$1(a,new Name("")),o)}finally{hasInterface(t,"System.IDisposable")&&t.Dispose()}}()};if(null!=u){var p=_Identifier___(u[0],u[1]);if(null!=p){var h=p;return next$1(o),parseMember(s,h,o)}return c()}return c()}function parseDotOrLParen(e,t,n,i){return"LParen"===i.Token.Case?function(){next$1(n);var r=usingNonTopLevel(n);try{var o=function(){var r=parseCallArgList(!1,i.Range,new List$2,n),o=function(e){return whiteAfter(r[1],e)}(node$1(unionRanges(i.Range,r[0]),r[2])),s=nestedToken(n),a=function(){return makeCallOrProp(e,t,o)};if(null!=s){if("Dot"===s[1].Token.Case){var l=s[1].Range,u=s[0];return next$1(n),{v:parseChain(l,e,t,o,u,n)}}return{v:a()}}return{v:a()}}();if("object"===("undefined"==typeof o?"undefined":_typeof$2(o)))return o.v}finally{hasInterface(r,"System.IDisposable")&&r.Dispose()}}():"Dot"===i.Token.Case?function(){return next$1(n),parseChain(i.Range,e,t,null,new List$2,n)}():null}function parseMember(e,t,n){var i=function(){var i=nestedToken(n);if(null!=i){var r=i[0],o=i[1];return parseDotOrLParen(e,whiteAfter(r,t),n,o)}var s=function(){var i=token(n),r=function(){var r=usingSilentMode(n);try{return parseDotOrLParen(e,whiteAfter(i[0],t),n,i[1])}finally{hasInterface(r,"System.IDisposable")&&r.Dispose()}}();if(null!=r)return function(e){addError(n,e)}(Parser.unindentedDotAfterIdentifier(t.Range,i[1].Range)),{v:r}}();if("object"===("undefined"==typeof s?"undefined":_typeof$2(s)))return s.v}();return null==i?null==e?node$1(t.Range,new Expr("Variable",[t])):node$1(unionRanges(e.Range,t.Range),new Expr("Property",[e,t])):i}function parseFunction(e,t){var n=nestedToken(e),i=function(){return null==n?function(){!function(t){addError(e,t)}(Parser.unexpectedScopeEndInFunc(t));var n=new _Range(t.End,t.End);return node$1(n,new Expr("Function",[node$1(n,new Name("")),node$1(n,new Expr("Empty",[]))]))}():function(){var i=n[0],r=n[1];!function(t){addError(e,t)}(Parser.unexpectedTokenAfterFun(r.Range,r.Token));var o=new _Range(t.End,t.End);return function(e){return whiteBefore(i,e)}(node$1(o,new Expr("Function",[node$1(o,new Name("")),node$1(o,new Expr("Empty",[]))])))}()};if(null==n)return i();var r=_Identifier___(n[0],n[1]);if(null==r)return i();var o=function(){var n=r;next$1(e);var i=nestedToken(e),o=function(i){var r=null!=i?function(){var e=i[0],t=i[1];return[t.Range,e]}():[unionRanges(t,n.Range),new List$2];!function(t){addError(e,t)}(Parser.missingArrowInFunc(r[0]));var o=function(){var t=parseExpression(new List$2,e);return null!=t?t:node$1(new _Range(n.Range.End,n.Range.End),new Expr("Empty",[]))}();return node$1(unionRanges(t,o.Range),new Expr("Function",[n,whiteBefore(r[1],o)]))};if(null==i)return{v:o(i)};if("Arrow"!==i[1].Token.Case)return{v:o(i)};var s=function(){var r=i[1].Range,o=i[0];next$1(e);var s=function(){var n=parseExpression(new List$2,e);return null!=n?n:(function(t){addError(e,t)}(Parser.missingBodyOfFunc(unionRanges(t,r))),node$1(new _Range(r.End,r.End),new Expr("Empty",[])))}(),a=unionRanges(t,s.Range);return{v:{v:node$1(a,new Expr("Function",[whiteAfter(o,n),s]))}}}();return"object"===("undefined"==typeof s?"undefined":_typeof$2(s))?s.v:void 0}();return"object"===("undefined"==typeof o?"undefined":_typeof$2(o))?o.v:void 0}function parseTerm(e){var t=nestedToken(e),n=function(){var n=function(){return null};if(null==t)return n();if("Number"===t[1].Token.Case){var i=function(){var n=t[1].Token.Fields[1],i=t[1].Range,r=t[0];return next$1(e),{v:function(e){return whiteAfter(r,e)}(node$1(i,new Expr("Number",[n])))}}();if("object"===("undefined"==typeof i?"undefined":_typeof$2(i)))return i.v}else if("String"===t[1].Token.Case){var r=function(){var n=t[1].Range,i=t[1].Token.Fields[0],r=t[0];return next$1(e),{v:function(e){return whiteAfter(r,e)}(node$1(n,new Expr("String",[i])))}}();if("object"===("undefined"==typeof r?"undefined":_typeof$2(r)))return r.v}else if("Boolean"===t[1].Token.Case){var o=function(){var n=t[1].Token.Fields[0],i=t[1].Range,r=t[0];return next$1(e),{v:function(e){return whiteAfter(r,e)}(node$1(i,new Expr("Boolean",[n])))}}();if("object"===("undefined"==typeof o?"undefined":_typeof$2(o)))return o.v}else{if("LParen"===t[1].Token.Case){var s=t[1],a=t[0];return next$1(e),parseParenTermEnd(new List$2(s,reverse$$1(a)),new List$2,parseExpression(new List$2,e),e)}if("LSquare"!==t[1].Token.Case){if("Fun"===t[1].Token.Case){var l=t[1];t[0];return next$1(e),parseFunction(e,l.Range)}return n()}var u=t[1],c=t[0];next$1(e);var p=usingNonTopLevel(e);try{return parseListElements(!1,u.Range,c,u.Range,new List$2,e)}finally{hasInterface(p,"System.IDisposable")&&p.Dispose()}}};if(null==t)return n();var i=_Identifier___(t[0],t[1]);if(null==i)return n();var r=i,o=t[1];next$1(e);var s=usingIndent(!1,o,e);try{var a=parseMember(null,r,e);return a}finally{hasInterface(s,"System.IDisposable")&&s.Dispose()}}function parseListElements(e,t,n,i,r,o){var s=function(){var e=parseExpression(new List$2,o);return null!=e?[!0,function(t){return new List$2(whiteAfter(t,e),r)}]:[!1,function(e){return r}]}(),a=nestedToken(o),l=function(){return function(e){addError(o,e)}(Parser.unexpectedScopeEndInList(t)),node$1(unionRanges(i,t),new Expr("List",[reverse$$1(s[1](new List$2))]))};if(null==a)return l();if("RSquare"!==a[1].Token.Case){if("Comma"===a[1].Token.Case){var u=a[1].Range,c=a[0];return next$1(o),!s[0]&&e&&!function(e){addError(o,e)}(Parser.unexpectedTokenInList(u,new TokenKind("Comma",[]))),parseListElements(!0,u,n,i,s[1](c),o)}if(function(){var e=a[1];return!e.Token.Equals(new TokenKind("EndOfFile",[]))}()){var p=a[1];return next$1(o),function(e){addError(o,e)}(Parser.unexpectedTokenInList(p.Range,p.Token)),parseListElements(e,p.Range,n,i,s[1](new List$2),o)}return l()}var h=function(){var e=a[1].Range,t=a[0];return next$1(o),{v:function(e){return whiteBefore(t,e)}(node$1(unionRanges(i,e),new Expr("List",[reverse$$1(s[1](new List$2))])))}}();return"object"===("undefined"==typeof h?"undefined":_typeof$2(h))?h.v:void 0}function parseParenTermEnd(e,t,n,i){var r=function(t){var r=null==n?function(){var n=function(e){return reduce(function(e,t){return unionRanges(e,t)},e)}(map$4(function(e){return e.Range},append$$1(ofArray([e.head]),t)));return function(e){addError(i,e)}(Parser.missingParenthesizedExpr(n)),node$1(n,new Expr("Empty",[]))}():n;return whiteAfter(reverse$$1(t),whiteBefore(reverse$$1(e),r))},o=nestedToken(i);if(null==o){var s=null!=n?n.Range:e.head.Range;return function(e){addError(i,e)}(Parser.unindentedTokenInParenthesizedExpr(s)),r(t)}if("RParen"===o[1].Token.Case){var a=o[1],l=o[0];return next$1(i),r(new List$2(a,append$$1(reverse$$1(l),t)))}var u=o[1],c=o[0];return next$1(i),function(e){addError(i,e)}(Parser.unexpectedTokenInParenthesizedExpr(u.Range,u.Token)),parseParenTermEnd(e,new List$2(u,append$$1(reverse$$1(c),t)),n,i)}function parseExpression(e,t){var n=[e,parseTerm(t)];if(null==n[1]){if(null!=n[0].tail){var i=n[0].tail,r=n[0].head[0],o=n[0].head[1],s=justToken(t);return function(e){addError(t,e)}(Parser.unexpectedTokenAfterOperator(s.Range,new TokenKind("Operator",[o.Node]),s.Token)),buildExpression(i,r)}}else{var a=function(){var e=n[1],i=nestedToken(t),r=function(){return buildExpression(n[0],e)};if(null!=i){if("Equals"===i[1].Token.Case){var o=i[1],s=i[0];return next$1(t),{v:parseExpression(new List$2([e,whiteBefore(s,node$1(o.Range,new Operator("Equals",[])))],n[0]),t)}}if("Operator"===i[1].Token.Case){var a=i[1].Token.Fields[0],l=i[1],u=i[0];return next$1(t),{v:parseExpression(new List$2([e,whiteBefore(u,node$1(l.Range,a))],n[0]),t)}}return{v:r()}}return{v:r()}}();if("object"===("undefined"==typeof a?"undefined":_typeof$2(a)))return a.v}}function parseExpressionOrNamedParam(e){var t=clone(e),n=nestedToken(t),i=function(){return new Choice("Choice2Of2",[parseExpression(new List$2,e)])};if(null!=n){var r=_Identifier___(n[0],n[1]);if(null!=r){var o=r;next$1(t);var s=nestedToken(t),a=function(){return new Choice("Choice2Of2",[parseExpression(new List$2,e)])};if(null!=s){if("Equals"===s[1].Token.Case){var l=s[1],u=s[0];nestedToken(e),next$1(e),nestedToken(e),next$1(e);var c=parseExpression(new List$2,e);return null==c?(function(t){addError(e,t)}(Parser.unexpectedTokenInArgList(l.Range,l.Token)),new Choice("Choice2Of2",[node$1(o.Range,new Expr("Variable",[o]))])):new Choice("Choice1Of2",[[whiteAfter(u,o),c]])}return a()}return a()}return i()}return i()}function parseCallArgList(e,t,n,i){var r=function(){var e=parseExpressionOrNamedParam(i);if("Choice1Of2"===e.Case){var t=e.Fields[0][1],r=e.Fields[0][0];return[!0,new List$2(new Argument(r,t),n)]}if(null!=e.Fields[0]){var o=e.Fields[0];return[!0,new List$2(new Argument(null,o),n)]}return[!1,n]}(),o=nestedToken(i),s=function(){var n=function(){return function(e){addError(i,e)}(Parser.unexpectedScopeEndInArgList(t)),[t,new List$2,reverse$$1(r[1])]};if(null!=o){if(function(){var e=o[1];return!e.Token.Equals(new TokenKind("EndOfFile",[]))}()){var s=o[1];return next$1(i),function(e){addError(i,e)}(Parser.unexpectedTokenInArgList(s.Range,s.Token)),parseCallArgList(e,s.Range,r[1],i)}return n()}return n()};if(null!=o){if("RParen"===o[1].Token.Case){var a=o[1],l=o[0];return next$1(i),!e||r[0]||!function(e){addError(i,e)}(Parser.unexpectedTokenInArgList(t,new TokenKind("RParen",[]))),[a.Range,l,reverse$$1(r[1])]}if("Comma"===o[1].Token.Case){if(function(){o[0],o[1].Range;return r[0]}()){var u=o[1].Range;o[0];return next$1(i),parseCallArgList(!0,u,r[1],i)}return s()}return s()}return s()}function parseNestedExpressions(e,t,n){var i=parseExpression(new List$2,n);if(null==i){var r=nestedToken(n),o=function(){return null==t.tail?new List$2:new List$2(whiteAfter(reverse$$1(e),t.head),t.tail)};if(null==r)return o();if("EndOfFile"===r[1].Token.Case)return o();var s=r[1],a=r[0];return next$1(n),parseNestedExpressions(append$$1(new List$2(s,reverse$$1(a)),e),t,n)}if(null!=t.tail)return function(e){addError(n,e)}(Parser.nestedExpressionInCommand(i.Range)),parseNestedExpressions(new List$2,new List$2(whiteBefore(reverse$$1(e),i),t),n);var l=usingTopLevelNesting(n);try{return parseNestedExpressions(new List$2,new List$2(whiteBefore(reverse$$1(e),i),t),n)}finally{hasInterface(l,"System.IDisposable")&&l.Dispose()}}function parseLetBinding(e,t,n){var i=nestedToken(n),r=function(){return null==i?function(){!function(e){addError(n,e)}(Parser.missingBodyInLetBinding(t));var i=new _Range(t.End,t.End);return[new List$2,function(t){return whiteBefore(e,t)}(node$1(i,new Command("Let",[node$1(i,new Name("")),node$1(i,new Expr("Empty",[]))])))]}():function(){var r=i[0],o=i[1];!function(e){addError(n,e)}(Parser.unexpectedTokenInLetBinding(o.Range,o.Token));var s=new _Range(t.End,t.End),a=function(){var e=reverse$$1(parseNestedExpressions(new List$2,new List$2,n));return null==e.tail?[node$1(s,new Expr("Empty",[])),new List$2]:[e.head,e.tail]}();return[a[1],function(t){return whiteBefore(e,t)}(node$1(unionRanges(t,a[0].Range),new Command("Let",[whiteBefore(r,node$1(s,new Name(""))),a[0]])))]}()};if(null==i)return r();var o=_Identifier___(i[0],i[1]);if(null==o)return r();var s=function(){var i=o;next$1(n);var r=nestedToken(n);if(null==r){!function(e){addError(n,e)}(Parser.missingBodyInLetBinding(i.Range));var s=node$1(new _Range(i.Range.End,i.Range.End),new Expr("Empty",[]));return{v:[new List$2,function(t){return whiteBefore(e,t)}(node$1(unionRanges(t,i.Range),new Command("Let",[i,s])))]}}if("Equals"===r[1].Token.Case){var a=r[1].Range,l=r[0];next$1(n);var u=reverse$$1(parseNestedExpressions(new List$2,new List$2,n));return null==u.tail?(function(e){addError(n,e)}(Parser.missingBodyInLetBinding(unionRanges(t,a))),{v:[new List$2,function(t){return whiteBefore(e,t)}(node$1(unionRanges(t,a),new Command("Let",[whiteAfter(l,i),node$1(new _Range(a.End,a.End),new Expr("Empty",[]))])))]}):{v:[u.tail,function(t){return whiteBefore(e,t)}(node$1(unionRanges(t,u.head.Range),new Command("Let",[whiteAfter(l,i),u.head])))]}}var c=r[1],p=r[0];!function(e){addError(n,e)}(Parser.unexpectedTokenInLetBinding(c.Range,c.Token));var h=function(){var e=reverse$$1(parseNestedExpressions(new List$2,new List$2,n));return null==e.tail?[node$1(new _Range(i.Range.End,i.Range.End),new Expr("Empty",[])),new List$2]:[e.head,e.tail]}();return{v:[h[1],function(t){return whiteBefore(e,t)}(node$1(unionRanges(t,i.Range),new Command("Let",[whiteAfter(p,i),h[0]])))]}}();return"object"===("undefined"==typeof s?"undefined":_typeof$2(s))?s.v:void 0}function parseCommands(e,t){var n=token(t);if("Let"!==n[1].Token.Case){if("EndOfFile"===n[1].Token.Case)return null==e.tail?new List$2:reverse$$1(new List$2(new _Node(e.head.WhiteBefore,n[0],e.head.Range,e.head.Node,e.head.Entity),e.tail));var i=function(){var e=usingIndent(!0,n[1],t);try{return map$4(function(e){return node$1(e.Range,new Command("Expr",[e]))},parseNestedExpressions(reverse$$1(n[0]),new List$2,t))}finally{hasInterface(e,"System.IDisposable")&&e.Dispose()}}();return parseCommands(append$$1(i,e),t)}var r=function(){var i=n[1].Range;next$1(t);var r=function(){var e=usingIndent(!1,n[1],t);try{return parseLetBinding(n[0],i,t)}finally{hasInterface(e,"System.IDisposable")&&e.Dispose()}}(),o=map$4(function(e){return node$1(e.Range,new Command("Expr",[e]))},r[0]);return{v:parseCommands(append$$1(o,new List$2(r[1],e)),t)}}();if("object"===("undefined"==typeof r?"undefined":_typeof$2(r)))return r.v}function parseProgram(e){try{var t=function(){var t=tokenize(e),n=function(){var e=!0,n=!1,i=!1,r=0,o=0,s=new List$2,a=[];return new Context$$1(t[0],[],a,e,n,i,o,s,r)}(),i=parseCommands(new List$2,n),r=t[1].concat(_Array$from(n.Errors)),o=fold$1(function(e,t){return unionRanges(e,t.Range)},new _Range(0,0),i);return{v:[new Program$$1(node$1(o,i)),r]}}();if("object"===("undefined"==typeof t?"undefined":_typeof$2(t)))return t.v}catch(e){Log.exn("parsing","Exception while parsing program: %O",e);var n=new _Range(0,0),i=Parser.exceptionWhileParsing(n,toString$2(e));return[new Program$$1(node$1(n,new List$2)),[i]]}}function addError$1(e,t,n){e.Errors.push(n(e.Ranges.get(t.Symbol)))}function _FindProperty___$1(e,t){return tryPick(function(t){var n=function(){return null};if("Property"===t.Case){if(t.Fields[0]===e.Name){var i=t.Fields[2],r=(t.Fields[0],t.Fields[1]);return[i,r]}return n()}return n()},t.Members)}function _FindMethod___$1(e,t){return tryPick(function(t){var n=function(){return null};if("Method"===t.Case){if(t.Fields[0]===e.Name){var i=t.Fields[1],r=t.Fields[3],o=(t.Fields[0],t.Fields[2]);return[r,i,o]}return n()}return n()},t.Members)}function inferListType(e){return reduce(function(e){return function(t,n){return e(t)>e(n)?t:n}}(function(e){return e[1]}),append$$1(ofArray([[new Type("Any",[]),0]]),map$4(function(e){return[e.head,e.length]},function(e){return List.groupWith(typesEqual,e)}(filter$1(function(e){return"Any"!==e.Case},e)))))[0]}function resolveParameterType(e,t,n){var i=function(){throw new Error("resolveParameterType: Instance is not an object")};if("Object"===e.Case){var r=_FindMethod___$1(t,e.Fields[0]);if(null!=r){var o=r[1];if("Choice2Of2"===n.Case){var s=item(n.Fields[0],o);return s[2]}return pick(function(e){return e[0]===n.Fields[0]?e[2]:null},o)}return i()}return i()}function checkMethodCall(e,t,n,i,r){var o=function(){var t=toList(takeWhile(function(e){return"NamedParam"!==e.Kind.Case},r)),n=toList(skipWhile(function(e){return"NamedParam"!==e.Kind.Case},r));return[_Array$from(t),create$4(choose$$1(function(t){return"NamedParam"===t.Kind.Case?[t.Kind.Fields[0].Name,t.Kind.Fields[1]]:function(){return function(n){addError$1(e,t,n)}(function(e){return TypeChecker.nameBasedParamMustBeLast(e)}),null}()},n),new GenericComparer(function(e,t){return e<t?-1:e>t?1:0}))]}(),s=mapIndexed$$1(function(t,n){var r=t<o[0].length?o[0][t]:tryFind$1(n[0],o[1]);if(null==r){if(n[1])return[n[0],n[2],n[2],null];if(null==r)return function(t){addError$1(e,i,t)}(function(e){return TypeChecker.parameterMissingValue(n[0],e)}),[n[0],n[2],new Type("Any",[]),null];throw new Error("C:\\Tomas\\Public\\thegamma\\thegamma-script\\src\\thegamma\\analyzer/typechecker.fs",72,12)}return[n[0],n[2],getType$1(e,r),r]},n),a="Forall"===t.Case?[t.Fields[0],t.Fields[1]]:[new List$2,t],l=collect$$1(function(t){var n=unifyTypes(a[0],t[1],t[2]);if(function(){return null!=t[3]}()){var i=!0,r=!1,o=void 0;try{for(var s,l=function(){var n=s.value;!function(){var n=t[3];return function(t){addError$1(e,n,t)}}()(function(e){return TypeChecker.incorrectParameterType(t[0],t[1],t[2],n[0],n[1],e)})},u=_getIterator(n[1]);!(i=(s=u.next()).done);i=!0)l()}catch(e){r=!0,o=e}finally{try{!i&&u.return&&u.return()}finally{if(r)throw o}}}return n[0]},s),u=groupBy$1(function(e){return e[0]},l),c=!0,p=!1,h=void 0;try{for(var f,d=_getIterator(u);!(c=(f=d.next()).done);c=!0){var y=f.value,m=toList(y[1]),g=function(){};null!=m.tail&&null!=m.tail.tail?!function(){var t=m.head[1],n=m.tail,r=m.head[0],o=!0,s=!1,a=void 0;try{for(var l,u=function(){var n=l.value;!function(t){addError$1(e,i,t)}(function(e){return TypeChecker.inferenceConflict(r,t,n[1],e)})},c=_getIterator(n);!(o=(l=c.next()).done);o=!0)u()}catch(e){s=!0,a=e}finally{try{!o&&c.return&&c.return()}finally{if(s)throw a}}}():g()}}catch(e){p=!0,h=e}finally{try{!c&&d.return&&d.return()}finally{if(p)throw h}}var v=substituteTypes(create$4(l,new GenericComparer(function(e,t){return e<t?-1:e>t?1:0})),a[1]);return v}function getType$1(e,t){return function(){return null==t.Type}()&&!function(){var n=e.Errors.length;t.Type=typeCheckEntity(e,t),t.Errors=toList(delay(function(){return map$5(function(t){return e.Errors[t]},range(n,e.Errors.length-1))}))}(),t.Type}function typeCheckEntity(e,t){var n=function(t,n){return function(n){addError$1(e,t,n)}(function(e){return TypeChecker.callMissingInstance(n.Name,e)}),new Type("Any",[])},i=function(e){throw new Error(fsFormat("typeCheckEntity: Call to %s is missing argument list!")(function(e){return e})(e.Name))};if("Variable"===t.Kind.Case){var r=t.Kind.Fields[1];return getType$1(e,r)}if("ChainElement"===t.Kind.Case)if(t.Kind.Fields[0]){if(null==t.Kind.Fields[3])return n(t.Kind.Fields[2],t.Kind.Fields[1]);var o=function(){var n=t.Kind.Fields[2],i=t.Kind.Fields[3],r=t.Kind.Fields[1],o=function(){var o=reduceType(getType$1(e,i)),s=function(){return"Object"===o.Case?function(){var t=o.Fields[0].Members;return function(t){addError$1(e,n,t)}(function(e){return TypeChecker.propertyMissing(r.Name,t,e)}),new Type("Any",[])}():function(){return function(t){addError$1(e,i,t)}(function(e){return TypeChecker.notAnObject(r.Name,o,e)}),new Type("Any",[])}()};if("Any"===o.Case)return{v:{v:new Type("Any",[])}};if("Object"===o.Case){var a=_FindProperty___$1(r,o.Fields[0]);if(null!=a){var l=a[0],u=a[1];return t.Meta=l,{v:{v:u}}}return{v:{v:s()}}}return{v:{v:s()}}}();if("object"===("undefined"==typeof o?"undefined":_typeof$2(o)))return o.v}();if("object"===("undefined"==typeof o?"undefined":_typeof$2(o)))return o.v}else{if(null==t.Kind.Fields[3])return n(t.Kind.Fields[2],t.Kind.Fields[1]);if(null==t.Kind.Fields[4])return i(t.Kind.Fields[1]);if("ArgumentList"!==t.Kind.Fields[4].Kind.Case)return i(t.Kind.Fields[1]);var s=function(){var n=t.Kind.Fields[4],i=t.Kind.Fields[4].Kind.Fields[0],r=t.Kind.Fields[2],o=t.Kind.Fields[3],s=t.Kind.Fields[1],a=function(){var a=reduceType(getType$1(e,o)),l=function(){return"Object"===a.Case?function(){var t=a.Fields[0].Members;return function(t){addError$1(e,r,t)}(function(e){return TypeChecker.methodMissing(s.Name,t,e)}),new Type("Any",[])}():function(){return function(t){addError$1(e,o,t)}(function(e){return TypeChecker.notAnObject(s.Name,a,e)}),new Type("Any",[])}()};if("Any"===a.Case)return{v:{v:new Type("Any",[])}};if("Object"===a.Case){var u=_FindMethod___$1(s,a.Fields[0]);if(null!=u){var c=u[1],p=u[0],h=u[2];return t.Meta=p,{v:{v:checkMethodCall(e,h,c,n,i)}}}return{v:{v:l()}}}return{v:{v:l()}}}();if("object"===("undefined"==typeof a?"undefined":_typeof$2(a)))return a.v}();if("object"===("undefined"==typeof s?"undefined":_typeof$2(s)))return s.v}else if("Operator"===t.Kind.Case){var a=function(){var n=t.Kind.Fields[0],i=t.Kind.Fields[1],r=t.Kind.Fields[2];return iterateIndexed(function(t,n){var r=getType$1(e,n);typesEqual(r)(new Type("Primitive",[new PrimitiveType("Number",[])]))||!function(t){addError$1(e,n,t)}(function(e){return TypeChecker.numericOperatorExpectsNumbers(i,t,r,e)})},ofArray([n,r])),{v:new Type("Primitive",[new PrimitiveType("Number",[])])}}();if("object"===("undefined"==typeof a?"undefined":_typeof$2(a)))return a.v}else if("List"===t.Kind.Case){var l=function(){var n=t.Kind.Fields[0],i=map$4(function(t){return getType$1(e,t)},n),r=inferListType(i),o=!0,s=!1,a=void 0;try{for(var l,u=function(){var t=l.value,n=getType$1(e,t);typesEqual(r)(n)||!function(n){addError$1(e,t,n)}(function(e){return TypeChecker.listElementTypeDoesNotMatch(r,n,e)})},c=_getIterator(n);!(o=(l=c.next()).done);o=!0)u()}catch(e){s=!0,a=e}finally{try{!o&&c.return&&c.return()}finally{if(s)throw a}}return{v:new Type("App",[new Type("Forall",[ofArray(["a"]),new Type("List",[new Type("Parameter",["a"])])]),ofArray([r])])}}();if("object"===("undefined"==typeof l?"undefined":_typeof$2(l)))return l.v}else{if("Binding"===t.Kind.Case){if("CallSite"===t.Kind.Fields[1].Kind.Case){var u=t.Kind.Fields[1].Kind.Fields[0],c=t.Kind.Fields[1].Kind.Fields[1],p=(t.Kind.Fields[0],t.Kind.Fields[1].Kind.Fields[2]),h=resolveParameterType(reduceType(getType$1(e,u)),c,p),f=function(){throw new Error("typeCheckEntity: Expected parameter of function type")};if("Function"===h.Case){if(null!=h.Fields[0].tail){if(null==h.Fields[0].tail.tail){var d=h.Fields[0].head;return d}return f()}return f()}return f()}var y=t.Kind.Fields[0];throw new Error(fsFormat("typeCheckEntity: Variable binding %s is missing call site!")(function(e){return e})(y.Name))}if("Function"===t.Kind.Case){var m=t.Kind.Fields[1],g=t.Kind.Fields[0];return new Type("Function",[ofArray([getType$1(e,g)]),getType$1(e,m)])}if("Constant"===t.Kind.Case)return"String"===t.Kind.Fields[0].Case?new Type("Primitive",[new PrimitiveType("String",[])]):"Boolean"===t.Kind.Fields[0].Case?new Type("Primitive",[new PrimitiveType("Bool",[])]):"Empty"===t.Kind.Fields[0].Case?new Type("Any",[]):new Type("Primitive",[new PrimitiveType("Number",[])]);if("Root"===t.Kind.Case)return new Type("Any",[]);if("LetCommand"===t.Kind.Case)return new Type("Any",[]);if("RunCommand"===t.Kind.Case)return new Type("Any",[]);
if("ArgumentList"===t.Kind.Case)return new Type("Any",[]);if("NamedParam"===t.Kind.Case)return new Type("Any",[]);if("NamedMember"===t.Kind.Case)return new Type("Any",[]);if("CallSite"===t.Kind.Case)return new Type("Any",[]);if("Program"===t.Kind.Case)return new Type("Any",[]);var v=function(){var n=t.Kind.Fields[0];return e.Globals.has(n.Name)?{v:getType$1(e,e.Globals.get(n.Name))}:(function(n){addError$1(e,t,n)}(function(e){return TypeChecker.variableNotInScope(n.Name,e)}),{v:new Type("Any",[])})}();if("object"===("undefined"==typeof v?"undefined":_typeof$2(v)))return v.v}}function evaluateDelayedType(e,t){return function(n){return n.Delay(function(){var i=function(){return"Function"===t.Case?n.Bind(evaluateDelayedType(e,t.Fields[1]),function(i){return n.Bind(Async.map(function(t){return evaluateDelayedType(e,t)},t.Fields[0]),function(e){return n.Return(new Type("Function",[e,i]))})}):"List"===t.Case?n.Bind(evaluateDelayedType(e,t.Fields[0]),function(e){return n.Return(new Type("List",[e]))}):"Delayed"===t.Case?n.Bind(Async_AwaitFuture_Static(t.Fields[1]),function(t){return n.ReturnFrom(evaluateDelayedType(e,t))}):n.Return(t)};if("App"===t.Case){var r=function(){var i=t.Fields[1],r=t.Fields[0];return{v:n.Bind(evaluateDelayedType(e,r),function(e){return n.Return(new Type("App",[e,i]))})}}();if("object"===("undefined"==typeof r?"undefined":_typeof$2(r)))return r.v}else{if("Forall"!==t.Case){if("Object"===t.Case){if(e){var o=t.Fields[0];return n.Bind(Async.Array.map(function(e){return function(t){return t.Delay(function(){return"Method"===e.Case?t.Bind(Async.map(function(e){return function(t){return t.Delay(function(){return t.Bind(evaluateDelayedType(!1,e[2]),function(n){return t.Return([e[0],e[1],n])})})}(singleton$2)},e.Fields[1]),function(n){return t.Return(new Member("Method",[e.Fields[0],n,e.Fields[2],e.Fields[3],e.Fields[4]]))}):t.Return(e)})}(singleton$2)},o.Members),function(e){return n.Return(new Type("Object",[new ObjectType(e)]))})}return i()}return i()}var s=function(){var i=t.Fields[1],r=t.Fields[0];return{v:n.Bind(evaluateDelayedType(e,i),function(e){return n.Return(new Type("Forall",[r,e]))})}}();if("object"===("undefined"==typeof s?"undefined":_typeof$2(s)))return s.v}})}(singleton$2)}function typeCheckEntityAsync(e,t){return function(n){return n.Delay(function(){var i=new _Map,r=function t(n){return function(r){return r.Delay(function(){var o="GlobalValue"===n.Kind.Case;return i.has(n.Symbol)||!o&&!function(){return null==n.Type}()?r.Zero():(i.set(n.Symbol,!0),r.Combine(r.For(Entity_get_Antecedents.bind(n)(),function(e){return r.Bind(t(e),function(){return r.Return()})}),r.Delay(function(){return Log.trace("typechecker","Type of entity '%s' (%O) is: %O",Entity_get_Name.bind(n)(),n.Kind,getType$1(e,n)),r.Bind(evaluateDelayedType(!0,getType$1(e,n)),function(e){return Log.trace("typechecker","Type of entity '%s' (%O) reduced to: %O",Entity_get_Name.bind(n)(),n.Kind,e),n.Type=e,r.Zero()})})))})}(singleton$2)};return n.Bind(r(t),function(){return n.Return(getType$1(e,t))})})}(singleton$2)}function collectTypeErrors(e){var t=[],n=new _Map,i=function e(i){if(!n.has(i.Symbol)){n.set(i.Symbol,!0);var r=Entity_get_Antecedents.bind(i)(),o=!0,s=!1,a=void 0;try{for(var l,u=_getIterator(r);!(o=(l=u.next()).done);o=!0){var c=l.value;e(c)}}catch(e){s=!0,a=e}finally{try{!o&&u.return&&u.return()}finally{if(s)throw a}}addRangeInPlace(i.Errors,t)}};return i(e),_Array$from(t)}function typeCheckProgram(e,t,n){return function(i){return i.Delay(function(){return Log.trace("typechecker","Type checking program"),i.TryWith(i.Delay(function(){var r=new _Map(toList(delay(function(){return collect$1(function(e){return singleton$1([e[1].Symbol,e[0]])},t.Entities)}))),o=new _Map(toList(delay(function(){return map$5(function(e){return[Entity_get_Name.bind(e)(),e]},e)}))),s=new CheckingContext([],o,r);return i.Bind(typeCheckEntityAsync(s,n),function(e){return Log.trace("typechecker","Completed type checking"),i.Zero()})}),function(e){return Log.exn("typechecker","Type checking program failed: %O",e),i.Zero()})})}(singleton$2)}function updateLiveState(e,t){return"UpdateLocation"===t.Case?new LiveState(e.Globals,e.Code,e.Program,e.Mapper,t.Fields[0],e.Selection,e.State,e.CurrentPreview):"UpdateSource"===t.Case?new LiveState(e.Globals,t.Fields[0],t.Fields[2],t.Fields[3],t.Fields[1],e.Selection,e.State,e.CurrentPreview):"CustomEvent"===t.Case?e:new LiveState(t.Fields[0],e.Code,e.Program,e.Mapper,e.Location,e.Selection,e.State,e.CurrentPreview)}function offsetToLocation(e,t,n){var i=function(){return null==n.tail?new Position$1(e,t):offsetToLocation(e+1,t-n.head-1,n.tail)};if(null!=n.tail){if(t<=n.head){n.head,n.tail;return new Position$1(e,t)}return i()}return i()}function rangeToLoc(e,t){return new LineRange(offsetToLocation(1,t.Start,e),offsetToLocation(1,t.Start,e))}function offsetToLocation$1(e,t,n){var i=function(){return null==n.tail?new Position(e,t):offsetToLocation$1(e+1,t-n.head-1,n.tail)};if(null!=n.tail){if(t<=n.head){n.head,n.tail;return new Position(e,t)}return i()}return i()}function rangeToLoc$1(e,t){return new SourceLocation(offsetToLocation$1(1,t.Start,e.LineLengths),offsetToLocation$1(1,t.Start,e.LineLengths))}function getEmitterAndParams(e,t){var n=reduceType(t);if("Object"===n.Case)return pick(function(t){var n=function n(){var n=function(){return null};if("Property"===t.Case){if(t.Fields[0]===e){var i=t.Fields[3];t.Fields[0];return[i,new List$2]}return n()}return n()};if("Method"===t.Case){if(t.Fields[0]===e){var i=t.Fields[1],r=t.Fields[4];t.Fields[0];return[r,i]}return n()}return n()},n.Fields[0].Members);throw Log.exn("codegen","getEmitterAndParams: Not an object %O",n),new Error("getEmitterAndParams: Not an object")}function compileExpression(e,t){var n=function(){return"Variable"===t.Node.Case?new Expression("IdentifierExpression",[t.Node.Fields[0].Node.Name,rangeToLoc$1(e,t.Node.Fields[0].Range)]):"List"===t.Node.Case?function(){var n=map$4(function(t){return compileExpression(e,t)},t.Node.Fields[0]);return new Expression("ArrayExpression",[n,rangeToLoc$1(e,t.Range)])}():"Function"===t.Node.Case?function(){var n=new Expression("IdentifierExpression",[t.Node.Fields[0].Node.Name,rangeToLoc$1(e,t.Node.Fields[0].Range)]),i=compileExpression(function(){var i=add$2(t.Node.Fields[0].Node.Name,n,e.Globals);return new CompilationContext(e.LineLengths,i)}(),t.Node.Fields[1]),r=new Statement("BlockStatement",[ofArray([new Statement("ReturnStatement",[i,rangeToLoc$1(e,t.Node.Fields[1].Range)])]),rangeToLoc$1(e,t.Node.Fields[1].Range)]);return new Expression("FunctionExpression",[null,ofArray([new Pattern("IdentifierPattern",[t.Node.Fields[0].Node.Name,rangeToLoc$1(e,t.Node.Fields[0].Range)])]),r,!1,!1,rangeToLoc$1(e,t.Range)])}():"Empty"===t.Node.Case?function(){throw console.log("compileExpression: %O",t.Node),new Error("!")}():function(){throw new Error("C:\\Tomas\\Public\\thegamma\\thegamma-script\\src\\thegamma\\codegen/codegen.fs",37,8)}()};if("Binary"===t.Node.Case){if("Power"===t.Node.Fields[1].Node.Case){var i=t.Node.Fields[0],r=t.Node.Fields[2],o=compileExpression(e,i),s=compileExpression(e,r),a=rangeToLoc$1(e,t.Range),l=new Expression("MemberExpression",[new Expression("IdentifierExpression",["pow",a]),new Expression("IdentifierExpression",["Math",a]),!1,a]);return new Expression("CallExpression",[l,ofArray([o,s]),rangeToLoc$1(e,t.Range)])}var u=t.Node.Fields[0],c=t.Node.Fields[1],p=t.Node.Fields[2],h=compileExpression(e,u),f=compileExpression(e,p),d="Plus"===c.Node.Case?new BinaryOperator("BinaryPlus",[]):"Minus"===c.Node.Case?new BinaryOperator("BinaryMinus",[]):"Multiply"===c.Node.Case?new BinaryOperator("BinaryMultiply",[]):"Divide"===c.Node.Case?new BinaryOperator("BinaryDivide",[]):"GreaterThan"===c.Node.Case?new BinaryOperator("BinaryGreater",[]):"LessThan"===c.Node.Case?new BinaryOperator("BinaryLess",[]):"GreaterThanOrEqual"===c.Node.Case?new BinaryOperator("BinaryGreaterOrEqual",[]):"LessThanOrEqual"===c.Node.Case?new BinaryOperator("BinaryLessOrEqual",[]):"Power"===c.Node.Case?function(){throw new Error("compileExpression: Power is not a binary operation")}():new BinaryOperator("BinaryEqualStrict",[]);return new Expression("BinaryExpression",[d,h,f,rangeToLoc$1(e,t.Range)])}if("Call"!==t.Node.Case){if("Property"===t.Node.Case){var y=t.Node.Fields[0],m=t.Node.Fields[1],g=getEmitterAndParams(m.Node.Name,y.Entity.Type),v=compileExpression(e,y);return g[0].Emit([v,new List$2])}if("Number"===t.Node.Case){var C=t.Node.Fields[0];return new Expression("NumericLiteral",[C,rangeToLoc$1(e,t.Range)])}if("String"===t.Node.Case){var T=t.Node.Fields[0];return new Expression("StringLiteral",[T,rangeToLoc$1(e,t.Range)])}if("Boolean"===t.Node.Case){var b=t.Node.Fields[0];return new Expression("BooleanLiteral",[b,rangeToLoc$1(e,t.Range)])}if("Variable"===t.Node.Case){if(e.Globals.has(t.Node.Fields[0].Node.Name)){var w=t.Node.Fields[0];return e.Globals.get(w.Node.Name)}return n()}return n()}if(null==t.Node.Fields[0]){t.Node.Fields[2],t.Node.Fields[1];throw new Error("compileExpression: Call without instance is not supported")}var $=function(){var n=t.Node.Fields[2],i=t.Node.Fields[0],r=t.Node.Fields[1],o=function(){var t=map$4(function(t){return[t.Name,compileExpression(e,t.Value)]},n.Node),o=_Array$from(map$5(function(e){return e[1]},takeWhile(function(e){return function(){return null==e[0]}()},t))),s=new _Map(choose$1(function(e){return null!=e[0]?function(){var t=e[0];return[t.Node.Name,e[1]]}():null},t)),a=getEmitterAndParams(r.Node.Name,i.Entity.Type),l=compileExpression(e,i),u=mapIndexed$$1(function(t,i){return t<o.length?o[t]:s.has(i[0])?s.get(i[0]):new Expression("NullLiteral",[rangeToLoc$1(e,n.Range)])},a[1]);return{v:{v:a[0].Emit([l,u])}}}();if("object"===("undefined"==typeof o?"undefined":_typeof$2(o)))return o.v}();if("object"===("undefined"==typeof $?"undefined":_typeof$2($)))return $.v}function compileCommand(e,t){return"Expr"===t.Node.Case?function(){var n=compileExpression(e,t.Node.Fields[0]);return new Statement("ExpressionStatement",[n,rangeToLoc$1(e,t.Range)])}():function(){var n=compileExpression(e,t.Node.Fields[1]),i=new Pattern("IdentifierPattern",[t.Node.Fields[0].Node.Name,rangeToLoc$1(e,t.Node.Fields[0].Range)]),r=new VariableDeclarator("VariableDeclarator",[i,n,rangeToLoc$1(e,t.Range)]);return new Statement("VariableDeclaration",[new VariableDeclarationKind("Var",[]),ofArray([r]),rangeToLoc$1(e,t.Range)])}()}function compileProgram(e,t){var n=map$4(function(t){return compileCommand(e,t)},t.Body.Node);return new Program$1(rangeToLoc$1(e,t.Body.Range),n)}function compile(e,t,n){return function(i){return i.Delay(function(){return i.TryWith(i.Delay(function(){return i.Bind(Async_AwaitFuture_Static(e),function(e){var r=create$4(choose$$1(function(e){var t=function(){return null};if("GlobalValue"===e.Kind.Case){if(null!=e.Kind.Fields[1]){var n=e.Kind.Fields[1],i=e.Kind.Fields[0];return[i.Name,n]}return t()}return t()},e),new GenericComparer(function(e,t){return e<t?-1:e>t?1:0})),o=new CompilationContext(toList(delay(function(){return map$5(function(e){return e.length},t.split("\n"))})),r),s=compileProgram(o,n),a=Babel.transformFromAst(Serializer.serializeProgram(s),t,new BabelOptions$1(["es2015"]));return Log.trace("codegen","Evaluating: %O",a),i.Return(a.code)})}),function(e){return Log.exn("codegen","Evaluating code failed: %O",e),i.Return("")})})}(singleton$2)}function makeObjectType(e){return new Type("Object",[new ObjectType(_Array$from(e))])}function isNumeric(e){return e.Equals(new PrimitiveType("Number",[]))}function isConcatenable(e){return e.Equals(new PrimitiveType("String",[]))}function ident(e){return new Expression("IdentifierExpression",[e,null])}function str(e){return new Expression("StringLiteral",[e,null])}function bool(e){return new Expression("BooleanLiteral",[e,null])}function arr(e){return new Expression("ArrayExpression",[e,null])}function op_Dynamic(e,t){return new Expression("MemberExpression",[e,new Expression("IdentifierExpression",[t,null]),!1,null])}function op_DivideQmarkDivide(e,t){return new Expression("MemberExpression",[e,t,!0,null])}function op_DivideAtDivide(e,t){return new Expression("CallExpression",[e,t,null])}function getTypeAndEmitter(e){return"Number"===e.Case?[new Type("Primitive",[new PrimitiveType("Number",[])]),function(e){return op_DivideAtDivide(ident("Number"),ofArray([e]))}]:"Bool"===e.Case?[new Type("Primitive",[new PrimitiveType("Number",[])]),function(e){return op_DivideAtDivide(ident("Boolean"),ofArray([e]))}]:"Unit"===e.Case?[new Type("Primitive",[new PrimitiveType("Unit",[])]),function(e){return new Expression("NullLiteral",[null])}]:[new Type("Primitive",[new PrimitiveType("String",[])]),function(e){return e}]}function makeMethodEmitter(e,t){return new Emitter(function(t){var n=arr(toList(delay(function(){return map$5(function(e){return e},t[1])})));return op_DivideAtDivide(op_Dynamic(t[0],"addCall"),ofArray([str(e),n]))})}function makeDataEmitter(e,t,n){return new Emitter(function(i){return t?op_DivideAtDivide(op_Dynamic(ident("series"),"create"),ofArray([op_DivideAtDivide(op_Dynamic(i[0],"getData"),ofArray([str(Transform.toUrl(reverse$$1(n))),bool(e)])),str("key"),str("value"),str("")])):op_DivideAtDivide(op_Dynamic(ident("series"),"ordinal"),ofArray([op_DivideAtDivide(op_Dynamic(i[0],"getData"),ofArray([str(Transform.toUrl(reverse$$1(n))),bool(e)])),str("key"),str("value"),str("")]))})}function makeProperty(e,t,n){var i=new Metadata("http://schema.thegamma.net/pivot","Transformations",n),r=new Metadata("http://schema.thegamma.net/pivot","Fields",e.Fields);return new Member("Property",[t,makePivotType(e,n),ofArray([i,r]),propertyEmitter])}function makeMethod(e,t,n,i,r){var o=new Metadata("http://schema.thegamma.net/pivot","Transformations",n),s=new Metadata("http://schema.thegamma.net/pivot","Fields",e.Fields);return new Member("Method",[t,toList(delay(function(){return collect$1(function(e){return singleton$1([e[0],!1,new Type("Primitive",[e[1]])])},r)})),makePivotType(e,n),ofArray([o,s]),makeMethodEmitter(i,r)])}function makeDataMember(e,t,n,i){var r=Transform.transformFields(e.InputFields,reverse$$1(i));Log.trace("providers","Make data member using transform %O. Got fields: %O",i,r);var o=function(){var t=function(){var t=_Array$from(r).map(function(e){var t=getTypeAndEmitter(e.Type),n=new Emitter(function(n){return t[1](op_DivideQmarkDivide(n[0],str(e.Name)))});return new Member("Property",[e.Name,t[0],ofArray([ProviderHelpers.docMeta(new Documentation("Text",[""]))]),n])}),n=new Type("Object",[new ObjectType(t)]);return[e.LookupNamed("series")(ofArray([new Type("Primitive",[new PrimitiveType("Number",[])]),n])),!1]};if(null!=i.tail){if("GetSeries"===i.head.Case){var n=function(){throw new Error("makeDataMember: Series should have key and value")};if(null!=r.tail){if(null!=r.tail.tail){if(null==r.tail.tail.tail){var o=r.head,s=r.tail.head;return[e.LookupNamed("series")(ofArray([new Type("Primitive",[o.Type]),new Type("Primitive",[s.Type])])),!0]}return n()}return n()}return n()}return t()}return t()}(),s=o[1]?i:new List$2(new Transformation("GetTheData",[]),i),a=new Metadata("http://schema.thegamma.net/pivot","Transformations",s),l=new Metadata("http://schema.thegamma.net/pivot","Fields",e.Fields);return new Member("Property",[t,o[0],ofArray([a,l]),makeDataEmitter(n,o[1],s)])}function handleGetSeriesRequest(e,t,n,i){var r=[n,i],o=function(){throw new Error("handleGetSeriesRequest: Should not happen")};return"!"===r[0]?"!"===r[1]?makeObjectType(toList(delay(function(){return map$5(function(n){return makeProperty(e,"with key "+n.Name,new List$2(new Transformation("GetSeries",[n.Name,"!"]),t))},e.Fields)}))):o():"!"===r[1]?makeObjectType(toList(delay(function(){return map$5(function(n){return makeDataMember(e,"and value "+n.Name,!1,new List$2(new Transformation("GetSeries",[r[0],n.Name]),t))},e.Fields)}))):o()}function handlePagingRequest(e,t,n,i){var r=makeMethod(e,"take",ofArray([new Transformation("Empty",[]),new Transformation("Paging",[reverse$$1(new List$2(new Paging("Take",[n+"-take"]),i))])],t),n+"-take",ofArray([["count",new PrimitiveType("Number",[])]])),o=makeMethod(e,"skip",new List$2(new Transformation("Paging",[new List$2(new Paging("Skip",[n+"-skip"]),i)]),t),n+"-skip",ofArray([["count",new PrimitiveType("Number",[])]])),s=makeProperty(e,"then",ofArray([new Transformation("Empty",[]),new Transformation("Paging",[reverse$$1(i)])],t));return makeObjectType(function(){var e=function(){throw new Error("handlePagingRequest: Shold not happen")};return null!=i.tail?"Skip"===i.head.Case&&null==i.tail.tail?ofArray([r,s]):e():ofArray([o,r,s])}())}function handleDropRequest(e,t,n){var i=create$3(n,new GenericComparer(function(e,t){return e<t?-1:e>t?1:0}));return makeObjectType(toList(delay(function(){return append$1(singleton$1(makeProperty(e,"then",ofArray([new Transformation("Empty",[]),new Transformation("DropColumns",[n])],t))),delay(function(){return collect$1(function(r){return i.has(r.Name)?empty():singleton$1(makeProperty(e,"drop "+r.Name,new List$2(new Transformation("DropColumns",[new List$2(r.Name,n)]),t)))},e.Fields)}))})))}function handleSortRequest(e,t,n){var i=create$3(map$4(function(e){return e[0]},n),new GenericComparer(function(e,t){return e<t?-1:e>t?1:0}));return makeObjectType(toList(delay(function(){return append$1(singleton$1(makeProperty(e,"then",ofArray([new Transformation("Empty",[]),new Transformation("SortBy",[n])],t))),delay(function(){return collect$1(function(r){return i.has(r.Name)?empty():function(){var i=(fsFormat("Use the field '%s' as the next sorting keys")(function(e){return e})(r.Name),n.Equals(new List$2)?"by ":"and by ");return append$1(singleton$1(makeProperty(e,i+r.Name,new List$2(new Transformation("SortBy",[new List$2([r.Name,new SortDirection("Ascending",[])],n)]),t))),delay(function(){return singleton$1(makeProperty(e,i+r.Name+" descending",new List$2(new Transformation("SortBy",[new List$2([r.Name,new SortDirection("Descending",[])],n)]),t)))}))}()},e.Fields)}))})))}function aggregationMembers(e,t,n,i){var r=exists$1(function(){var e=new Aggregation("CountAll",[]);return function(t){return e.Equals(t)}}(),i),o=function(e){return exists$1(function(t){var n=function(t){return t===e},i=function(){return!1};return"ReturnUnique"===t.Case?n(t.Fields[0]):"ConcatValues"===t.Case?n(t.Fields[0]):"Sum"===t.Case?n(t.Fields[0]):"Mean"===t.Case?n(t.Fields[0]):"CountAll"===t.Case?i():"GroupKey"===t.Case?i():n(t.Fields[0])},i)},s=function(r){return function(o){return makeProperty(e,r,new List$2(new Transformation("GroupBy",[n,new List$2(o,i)]),t))}};return toList(delay(function(){return append$1(singleton$1(makeProperty(e,"then",ofArray([new Transformation("Empty",[]),new Transformation("GroupBy",[n,i])],t))),delay(function(){return append$1(r?empty():singleton$1(s("count all")(new Aggregation("CountAll",[]))),delay(function(){return collect$1(function(e){return o(e.Name)?empty():append$1(singleton$1(s("count distinct "+e.Name)(new Aggregation("CountDistinct",[e.Name]))),delay(function(){return append$1(singleton$1(s("return unique "+e.Name)(new Aggregation("ReturnUnique",[e.Name]))),delay(function(){return append$1(isConcatenable(e.Type)?singleton$1(s("concatenate values of "+e.Name)(new Aggregation("ConcatValues",[e.Name]))):empty(),delay(function(){return isNumeric(e.Type)?append$1(singleton$1(s("average "+e.Name)(new Aggregation("Mean",[e.Name]))),delay(function(){return singleton$1(s("sum "+e.Name)(new Aggregation("Sum",[e.Name])))})):empty()}))}))}))},e.Fields)}))}))}))}function handleGroupAggRequest(e,t,n,i){return makeObjectType(aggregationMembers(e,t,n,i))}function handleGroupRequest(e,t,n){var i=null==n.tail?"by ":"and ";return makeObjectType(toList(delay(function(){return append$1(map$5(function(r){return makeProperty(e,i+r.Name,new List$2(new Transformation("GroupBy",[new List$2(r.Name,n),new List$2]),t))},e.Fields),delay(function(){return null!=n.tail?aggregationMembers(e,t,n,ofArray([new Aggregation("GroupKey",[])])):empty()}))})))}function handleFilterEqNeqRequest(e,t,n,i,r){return function(o){return o.Delay(function(){var s=null==r.tail?t:new List$2(new Transformation("FilterBy",[r]),t),a=e.Root+"?"+Transform.toUrl(reverse$$1(new List$2(new Transformation("GetRange",[n]),s)));return o.Bind(Http.Request("GET",a),function(s){var a=JSON.parse(s);return o.Return(makeObjectType(toList(delay(function(){return map$5(function(o){return makeProperty(e,o,new List$2(new Transformation("FilterBy",[new List$2([n,i,o],r)]),t))},a)}))))})})}(singleton$2)}function handleFilterRequest(e,t,n){var i=null==n.tail?"":"and ";return makeObjectType(toList(delay(function(){return append$1(collect$1(function(r){return append$1(singleton$1(makeProperty(e,i+r.Name+" is",new List$2(new Transformation("FilterBy",[new List$2([r.Name,!0,"!"],n)]),t))),delay(function(){return singleton$1(makeProperty(e,i+r.Name+" is not",new List$2(new Transformation("FilterBy",[new List$2([r.Name,!1,"!"],n)]),t)))}))},e.Fields),delay(function(){return null!=n.tail?singleton$1(makeProperty(e,"then",ofArray([new Transformation("Empty",[]),new Transformation("FilterBy",[n])],t))):empty()}))})))}function makePivotTypeImmediate(e,t){return function(n){return n.Delay(function(){var i=null!=t.tail?[t.head,t.tail]:[new Transformation("Empty",[]),new List$2],r=function(){var t=Transform.transformFields(e.InputFields,reverse$$1(i[1]));return new Context$2(e.Root,e.LookupNamed,e.InputFields,t)}(),o=function(e){return n.Return(handleFilterRequest(r,i[1],e))},s=function(){return n.Return(function(){throw new Error("makePivotTypeImmediate: GetTheData, GetRange and Metadata shouldn't be of pivot type")}())};if("GetSeries"===i[0].Case){var a=i[0].Fields[0],l=i[0].Fields[1];return n.Return(handleGetSeriesRequest(r,i[1],a,l))}if("Paging"===i[0].Case){var u=i[0].Fields[0],c=fsFormat("pgid-%d")(function(e){return e})(sumBy(function(e){return"Paging"===e.Case?1:0},i[1]));return n.Return(handlePagingRequest(r,i[1],c,u))}if("SortBy"===i[0].Case){var p=i[0].Fields[0];return n.Return(handleSortRequest(r,i[1],p))}if("DropColumns"===i[0].Case){var h=i[0].Fields[0];return n.Return(handleDropRequest(r,i[1],h))}if("FilterBy"===i[0].Case){if(null!=i[0].Fields[0].tail){if("!"===i[0].Fields[0].head[2]){var f=i[0].Fields[0].tail,d=i[0].Fields[0].head[1],y=i[0].Fields[0].head[0];return n.ReturnFrom(handleFilterEqNeqRequest(r,i[1],y,d,f))}return o(i[0].Fields[0])}return o(i[0].Fields[0])}if("GroupBy"===i[0].Case){if(null==i[0].Fields[1].tail){var m=i[0].Fields[0];return n.Return(handleGroupRequest(r,i[1],m))}var g=i[0].Fields[1],v=i[0].Fields[0];return n.Return(handleGroupAggRequest(r,i[1],v,g))}return"GetTheData"===i[0].Case?s():"GetRange"===i[0].Case?s():"Metadata"===i[0].Case?s():n.Return(makeObjectType(ofArray([makeProperty(r,"group data",new List$2(new Transformation("GroupBy",[new List$2,new List$2]),i[1])),makeProperty(r,"filter data",new List$2(new Transformation("FilterBy",[new List$2]),i[1])),makeProperty(r,"sort data",new List$2(new Transformation("SortBy",[new List$2]),i[1])),makeProperty(r,"drop columns",new List$2(new Transformation("DropColumns",[new List$2]),i[1])),makeProperty(r,"paging",new List$2(new Transformation("Paging",[new List$2]),i[1])),makeProperty(r,"get series",new List$2(new Transformation("GetSeries",["!","!"]),i[1])),makeDataMember(r,"get the data",!1,i[1])])))})}(singleton$2)}function adjustForPreview(e){var t=function(){return e};if(null!=e.tail){if("GroupBy"===e.head.Case){if(null==e.head.Fields[0].tail){var n=e.tail;return n}if(null==e.head.Fields[1].tail){var i=e.head.Fields[0],r=e.tail;return new List$2(new Transformation("GroupBy",[i,ofArray([new Aggregation("GroupKey",[])])]),r)}return t()}if("GetSeries"===e.head.Case){var o=e.tail;return o}return t()}return t()}function withPreview(e,t,n){return"Object"===n.Case?function(){var i=makeDataMember(e,"preview",!0,adjustForPreview(t));return new Type("Object",[new ObjectType([i].concat(n.Fields[0].Members))])}():function(){throw new Error("withPreview: Expected object type")}()}function makePivotType(e,t){var n=Transform.toUrl(t),i=function(n){return n.Delay(function(){return n.TryWith(n.Delay(function(){return n.Bind(makePivotTypeImmediate(e,t),function(i){return n.Return(withPreview(e,t,i))})}),function(e){return Log.exn("providers","Failed when generating type for %O with exception %O",t,e),n.Return(function(){throw e}())})})}(singleton$2);return new Type("Delayed",["pivot: "+n,function(e){return function(t){return Async_CreateNamedFuture_Static(e,t)}}(n)(i)])}function providePivotType(e,t,n,i){var r=toList(delay(function(){return collect$1(function(e){return singleton$1(new Field(e[0],e[1]))},i)})),o=makePivotType(new Context$2(e,n,r,r),new List$2),s=ident("PivotContext"),a=new Metadata("http://schema.thegamma.net/pivot","Transformations",new List$2),l=new Metadata("http://schema.thegamma.net/pivot","Fields",r);return new ProvidedType("GlobalValue",[t,ofArray([a,l]),new Expression("NewExpression",[s,ofArray([str(e),new Expression("ArrayExpression",[new List$2,null])]),null]),o])}function pickMetaByType(e,t,n){return tryPick(function(n){return n.Context===e&&n.Type===t?n.Data:null},n)}function pickPivotFields(e){var t=e.Entity,n=function(e){var t=pickMetaByType("http://schema.thegamma.net/pivot","Fields",e);if(null!=t)return t},i=function(){return null};return null!=t?"ChainElement"===t.Kind.Case?n(t.Meta):"GlobalValue"===t.Kind.Case?n(t.Meta):"Variable"===t.Kind.Case?n(t.Kind.Fields[1].Meta):i():i()}function pickPivotTransformations(e){var t=e.Entity,n=function(){return null};if(null==t)return n();if("ChainElement"!==t.Kind.Case){if("GlobalValue"===t.Kind.Case){t.Meta;return new List$2}return n()}var i=t.Meta,r=pickMetaByType("http://schema.thegamma.net/pivot","Transformations",i);return null!=r?r:void 0}function commandAtLocation(e,t){return tryFind(function(t){return t.Range.Start<=e&&t.Range.End+1>=e},t.Body.Node)}function transformName(e){return"DropColumns"===e.Case?"drop columns":"Empty"===e.Case?"empty":"FilterBy"===e.Case?"filter by":"GetSeries"===e.Case?"get series":"GetTheData"===e.Case?"get the data":"GroupBy"===e.Case?"group by":"Paging"===e.Case?"paging":"SortBy"===e.Case?"sort by":function(){throw new Error("C:\\Tomas\\Public\\thegamma\\thegamma-script\\src\\thegamma\\live/pivot.fs",57,20)}()}function createPivotSections(e){var t=function e(t){return function(n){return function(i){var r=function(){return null==i.tail?function(){var e=new PivotSection(n[0],reverse$$1(n[1]));return reverse$$1(new List$2(e,t))}():function(){var r=i.head[1],o=i.head[0],s=new PivotSection(n[0],reverse$$1(n[1]));return e(new List$2(s,t))([r.head,ofArray([o]),r.length])(i.tail)}()};if(null!=i.tail){if(function(){var e=i.head[1];i.head[0];return transformName(e.head)===transformName(n[0])&&e.length===n[2]}()){var o=i.head[0],s=i.head[1],a=i.tail;return e(t)([s.head,new List$2(o,n[1]),n[2]])(a)}return r()}return r()}}},n=choose$$1(function(e){var t=pickPivotTransformations(e);if(null==t)return null;var n=filter$1(function(e){return"Empty"!==e.Case},t);return null==n.tail?null:[e,n]},e);if(null==n.tail)return new List$2;var i=n.head[1],r=n.head[0];return t(new List$2)([i.head,ofArray([r]),i.length])(n.tail)}function collectChain(e,t){var n=function(n,i){return collectChain(new List$2([i.Range.Start,t],e),n)},i=function(){return null};if("Call"===t.Node.Case)return null!=t.Node.Fields[0]?n(t.Node.Fields[0],t.Node.Fields[1]):i();if("Property"===t.Node.Case)return n(t.Node.Fields[0],t.Node.Fields[1]);if("Variable"===t.Node.Case){var r=t.Node.Fields[0];return new List$2([r.Range.Start,t],e)}return i()}function collectFirstChain(e){var t=collectChain(new List$2,e),n=function(){var t=_ExprLeaf_ExprNode_(e.Node);if("Choice2Of2"===t.Case){var n=function(){var n=t.Fields[0][0],i=t.Fields[0][1],r=function(){var t=function t(n){return function(r){return null!=r.tail?function(){var o=collectFirstChain(r.head);if(null==o)return t(new List$2(r.head,n))(r.tail);var s=function(){var t=o[0],s=o[1],a=function(o){var s=rebuildExprNode(r.head.Node,append$$1(reverse$$1(n),append$$1(ofArray([t(o)]),r.tail)),i);return new _Node(e.WhiteBefore,e.WhiteAfter,e.Range,s,e.Entity)};return{v:[a,s]}}();return"object"===("undefined"==typeof s?"undefined":_typeof$2(s))?s.v:void 0}():null}};return{v:{v:t(new List$2)(n)}}}();if("object"===("undefined"==typeof r?"undefined":_typeof$2(r)))return r.v}();if("object"===("undefined"==typeof n?"undefined":_typeof$2(n)))return n.v}};if(null!=t){if(null!=t.tail){var i=t;return[function(e){return e},i]}return n()}return n()}function withPivotState(e,t){return new LiveState(t.Globals,t.Code,t.Program,t.Mapper,t.Location,t.Selection,e,t.CurrentPreview)}function findPreview(e,t,n){var i=new Name("preview"),r=function(){var e=n.Type;return null!=e?function(e){return reduceType(e)}(e):e}(),o=function(){var i=evaluate(t,n),r=function(){var e=i;return null!=e?function(e){return e.Preview.value}(e):e}();if(null==r)return function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray([op_EqualsGreater("class","placeholder")]))(ofArray([text("Preview could not be evaluated")]));var o=function(){Log.trace("live","Found preview value: %O",r);var t=function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray([op_EqualsGreater("class","placeholder")]))(ofArray([text("Loading preview...")])),n=!1;return function(e){startImmediate(e)}(function(i){return i.Delay(function(){return i.Bind(table.create(r).render(),function(r){return i.Combine(n?function(){return e(new LiveEvent("CustomEvent",[new PivotEditorAction("UpdatePreview",[r])])),i.Zero()}():function(){return t=r,i.Zero()}(),i.Delay(function(){return Log.trace("live","Evaluated to a node"),i.Zero()}))})})}(singleton$2)),n=!0,Log.trace("live","After evaluation started: %O",t),{v:t}}();return"object"===("undefined"==typeof o?"undefined":_typeof$2(o))?o.v:void 0},s=function(){return function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray([op_EqualsGreater("class","placeholder")]))(ofArray([text("This block does not have a preview")]))};if(null!=r){if("Object"===r.Case){var a=_FindMethod___$1(i,r.Fields[0]);if(null!=a)return o();var l=_FindProperty___$1(i,r.Fields[0]);return null!=l?o():s()}return s()}return s()}function updateBody(e,t){var n=commandAtLocation(t.Location,t.Program);if(null!=n){var i=(t.Mapper.AbsoluteToLineCol(n.Range.End+1),function(n){var i=collectFirstChain(n);if(null!=i){var r=function(){var r=(i[0],i[1]),o=createPivotSections(map$4(function(e){return e[1]},r)),s=r.head,a=tryLast(filter$1(function(e){return t.Location>=e[0]},r)),l=function(){return null};if(null==a)return{v:l()};if(!function(){a[1];return!(null==o.tail)}())return{v:l()};var u=function(){var i=a[1],r=findPreview(e,t.Globals,i.Entity),l=function(){var e=new PivotEditorMenus("Hidden",[]),t=null,a=i.Entity;return new PivotEditorState(n,s[1],r,o,a,e,t)}();return{v:{v:function(e){return withPivotState(l,e)}(t)}}}();return"object"===("undefined"==typeof u?"undefined":_typeof$2(u))?u.v:void 0}();if("object"===("undefined"==typeof r?"undefined":_typeof$2(r)))return r.v}});return i("Let"===n.Node.Case?n.Node.Fields[1]:n.Node.Fields[0])}}function hideMenus(e){var t=function(){var t=new PivotEditorMenus("Hidden",[]);return new PivotEditorState(e.State.Body,e.State.FirstNode,e.State.Preview,e.State.Sections,e.State.SelectedEntity,t,e.State.Focus)}();return new LiveState(e.Globals,e.Code,e.Program,e.Mapper,e.Location,e.Selection,t,e.CurrentPreview)}function editorLocation(e,t,n){var i=e.AbsoluteToLineCol(t),r=e.AbsoluteToLineCol(n);return new LineColumnRange(i[0],i[1],r[0],r[1])}function selectName(e,t){var n=function(){var t=function(e){return e.Range};return"Call"===e.Node.Case?t(e.Node.Fields[1]):"Property"===e.Node.Case?t(e.Node.Fields[1]):e.Range}(),i=editorLocation(t.Mapper,n.Start,n.End+1),r=i;return new LiveState(t.Globals,t.Code,t.Program,t.Mapper,t.Location,r,t.State,t.CurrentPreview);
}function tryTransformChain(e,t){var n=collectFirstChain(t.State.Body);if(null!=n){var i=n[0],r=n[1],o=createPivotSections(map$4(function(e){return e[1]},r));return hideMenus(e(t.State.Body)(i)(map$4(function(e){return e[1]},r))(o))}return hideMenus(t)}function replaceAndSelectMarker(e,t){var n=t.Code.indexOf(marker),i=replace$$1(t.Code,marker,escapeIdent(e)),r=new LocationMapper(t.Code),o=editorLocation(r,n,n+escapeIdent(e).length),s=o;return new LiveState(t.Globals,i,t.Program,t.Mapper,t.Location,s,t.State,t.CurrentPreview)}function reconstructChain(e,t,n){var i=fold$1(function(e,t){return"Property"===t.Node.Case?function(){var n=new Expr("Property",[e,t.Node.Fields[1]]);return new _Node(t.WhiteBefore,t.WhiteAfter,t.Range,n,t.Entity)}():"Call"===t.Node.Case?function(){var n=new Expr("Call",[e,t.Node.Fields[1],t.Node.Fields[2]]);return new _Node(t.WhiteBefore,t.WhiteAfter,t.Range,n,t.Entity)}():function(){throw new Error("Unexpected node in call chain")}()},n.head,n.tail),r=trim(formatSingleExpression(i),"both"),o=e.Code.substr(0,t.Range.Start)+r+e.Code.substr(t.Range.End+1);return new LiveState(e.Globals,o,e.Program,e.Mapper,e.Location,e.Selection,e.State,e.CurrentPreview)}function createChainNode(e,t){var n=function(e){return node(new _Range(0,0),e)};if(null!=e){var i=map$4(function(e){return new Argument(null,n(e))},e);return n(new Expr("Call",[null,n(new Name(t)),n(i)]))}return n(new Expr("Property",[n(new Expr("Empty",[])),n(new Name(t))]))}function getWhiteBeforeAndAfterSections(e,t){var n=function(e){var t=toList(toList(countBy(function(e){return e},e)));return reduce(function(e){return function(t,n){return e(t)>e(n)?t:n}}(function(e){return""===e[0]?0:e[1]}),new List$2(["",0],t))[0]},i=[n(function(e){return map$4(function(e){return formatWhiteBeforeExpr(e)},e)}(map$4(function(e){return e.Nodes.head},t))),n(function(e){return map$4(function(e){return formatWhiteAfterExpr(e)},e)}(append$$1(ofArray([e]),map$4(function(e){return last(e.Nodes)},t))))];return Log.trace("live","Inserting whitespace before '%s' and after '%s' for sections: %O",i[0],i[1],t),[ofArray([new Token(new TokenKind("White",[i[0]]),new _Range(0,0))]),ofArray([new Token(new TokenKind("White",[i[1]]),new _Range(0,0))])]}function insertWhiteAroundSection(e,t,n){var i=n.Nodes.length-1;return new PivotSection(n.Transformation,mapIndexed$$1(function(n,r){var o=function(){var t=[e,r],i=function e(){var e=function(){return r};if(null!=t[0]){if("Call"===t[1].Node.Case){if(function(){t[1].Node.Fields[1],t[1].Node.Fields[0],t[0],t[1].Node.Fields[2];return 0===n}()){var i=t[1].Node.Fields[2],o=t[0],s=t[1].Node.Fields[0],a=t[1].Node.Fields[1],l=new Expr("Call",[s,new _Node(o,a.WhiteAfter,a.Range,a.Node,a.Entity),i]);return new _Node(r.WhiteBefore,r.WhiteAfter,r.Range,l,r.Entity)}return e()}return e()}return e()};if(null!=t[0]){if("Property"===t[1].Node.Case){if(function(){t[1].Node.Fields[1],t[1].Node.Fields[0],t[0];return 0===n}()){var o=t[0],s=t[1].Node.Fields[0],a=t[1].Node.Fields[1],l=new Expr("Property",[s,new _Node(o,a.WhiteAfter,a.Range,a.Node,a.Entity)]);return new _Node(r.WhiteBefore,r.WhiteAfter,r.Range,l,r.Entity)}return i()}return i()}return i()}(),s=function(){var e=[t,o],r=function(){return o};if(null!=e[0]){if(function(){e[0];return n===i}()){var s=e[0],a=e[1];return new _Node(a.WhiteBefore,s,a.Range,a.Node,a.Entity)}return r()}return r()}();return s},n.Nodes))}function updatePivotState(e,t,n){var i=function(){return function(t){return updateBody(e,t)}(hideMenus(t))};if("UpdateLocation"===n.Case)return i();if("InitializeGlobals"===n.Case)return t;if("CustomEvent"!==n.Case)return i();if("SwitchMenu"===n.Fields[0].Case)return withPivotState(new PivotEditorState(t.State.Body,t.State.FirstNode,t.State.Preview,t.State.Sections,t.State.SelectedEntity,n.Fields[0].Fields[0],t.State.Focus),t);if("SelectChainElement"===n.Fields[0].Case)return tryTransformChain(function(e){return function(e){return function(e){return function(i){var r=function e(n){return function(i){var r=function(){return null==i.tail?[n,n,n]:null==i.tail.tail?function(){var e=i.head;return[n,e,e]}():function(){var e=i.tail.head,t=i.head;return[n,t,e]}()};if(null!=i.tail){if(i.head.Range.End+1<t.Location){var o=i.head,s=i.tail;return e(o)(s)}return r()}return r()}},o=r(e.head)(e.tail);return selectName(n.Fields[0].Fields[0]<0?o[0]:n.Fields[0].Fields[0]>0?o[2]:o[1],t)}}}},t);if("SelectRange"===n.Fields[0].Case)return function(){var e=editorLocation(t.Mapper,n.Fields[0].Fields[0].Start,n.Fields[0].Fields[0].End+1);return new LiveState(t.Globals,t.Code,t.Program,t.Mapper,t.Location,e,t.State,t.CurrentPreview)}();if("ReplaceRange"!==n.Fields[0].Case)return"AddElement"===n.Fields[0].Case?tryTransformChain(function(e){return function(i){return function(i){return function(r){var o=collect$$1(function(e){return ofArray(equals(e.Entity.Symbol,n.Fields[0].Fields[0])?[e,createChainNode(n.Fields[0].Fields[2],marker)]:[e])},i);return function(e){return replaceAndSelectMarker(n.Fields[0].Fields[1],e)}(reconstructChain(t,e,o))}}}},t):"ReplaceElement"===n.Fields[0].Case?tryTransformChain(function(e){return function(i){return function(i){return function(r){var o=map$4(function(e){return equals(e.Entity.Symbol,n.Fields[0].Fields[0])?createChainNode(n.Fields[0].Fields[2],marker):e},i);return function(e){return replaceAndSelectMarker(n.Fields[0].Fields[1],e)}(reconstructChain(t,e,o))}}}},t):"RemoveElement"===n.Fields[0].Case?tryTransformChain(function(e){return function(i){return function(i){return function(r){var o=tryLast(toList(takeWhile(function(e){return!equals(e.Entity.Symbol,n.Fields[0].Fields[0])},i))),s=null!=o?o:i.head,a=filter$1(function(e){return!equals(e.Entity.Symbol,n.Fields[0].Fields[0])},i);return function(e){return selectName(s,e)}(reconstructChain(t,e,a))}}}},t):"RemoveSection"===n.Fields[0].Case?tryTransformChain(function(e){return function(i){return function(i){return function(r){var o=tryLast(toList(takeWhile(function(e){return!equals(e.Entity.Symbol,n.Fields[0].Fields[0])},map$4(function(e){return e.Nodes.head},r)))),s=null!=o?o:i.head,a=filter$1(function(e){return!equals(e.Nodes.head.Entity.Symbol,n.Fields[0].Fields[0])},r),l=new List$2(i.head,collect$$1(function(e){return e.Nodes},a));return function(e){return selectName(s,e)}(reconstructChain(t,e,l))}}}},t):"AddTransform"===n.Fields[0].Case?tryTransformChain(function(e){return function(i){return function(i){return function(r){var o=getWhiteBeforeAndAfterSections(i.head,r),s=tryPick(function(e){return pickPivotFields(e)},reverse$$1(collect$$1(function(e){return e.Nodes},r))),a="DropColumns"===n.Fields[0].Fields[0].Case?["drop columns",ofArray([marker,"then"])]:"SortBy"===n.Fields[0].Fields[0].Case?["sort data",ofArray([marker,"then"])]:"FilterBy"===n.Fields[0].Fields[0].Case?["filter data",ofArray([marker,"then"])]:"Paging"===n.Fields[0].Fields[0].Case?["paging",ofArray([marker,"then"])]:"GetSeries"===n.Fields[0].Fields[0].Case?["get series",ofArray([marker])]:"GetTheData"===n.Fields[0].Fields[0].Case?["get the data",ofArray([marker])]:"GroupBy"===n.Fields[0].Fields[0].Case?["group data",function(){var e=function(){return ofArray([marker,"by Property","then"])};if(null!=s){if(null!=s.tail){var t=s.head;return ofArray([marker,"by "+t.Name,"then"])}return e()}return e()}()]:"Empty"===n.Fields[0].Fields[0].Case?["",new List$2]:function(){throw new Error("C:\\Tomas\\Public\\thegamma\\thegamma-script\\src\\thegamma\\live/pivot.fs",365,16)}(),l=insertWhiteAroundSection(o[0],o[1],new PivotSection(n.Fields[0].Fields[0],map$4(function(){var e=null;return function(t){return createChainNode(e,t)}}(),a[1]))),u=function(e){return null==e.tail?new List$2:function(){var t=function(){var t=[e.head.Transformation,last(e.head.Nodes)],n=function n(){var n=function(){var t=append$$1(e.head.Nodes,ofArray([createChainNode(null,"then")]));return new PivotSection(e.head.Transformation,t)};if("Property"===t[1].Node.Case){if(function(){var e=t[1].Node.Fields[1];return"then"===e.Node.Name}()){t[1].Node.Fields[1];return e.head}return n()}return n()};if("Paging"===t[0].Case){if("Call"===t[1].Node.Case){if(function(){var e=t[1].Node.Fields[1];return"take"===e.Node.Name}()){t[1].Node.Fields[1];return e.head}return n()}return n()}return n()}();return new List$2(insertWhiteAroundSection(null,o[1],t),e.tail)}()},c=function(){var e=reverse$$1(r),t=function(e,t){return reverse$$1(ofArray([e,l],u(t)))},n=function(e){return reverse$$1(new List$2(l,u(e)))};return null!=e.tail?"GetSeries"===e.head.Transformation.Case?t(e.head,e.tail):"GetTheData"===e.head.Transformation.Case?t(e.head,e.tail):n(e):n(e)}();Log.trace("live","Inserted section: %O",_Array$from(c));var p=new List$2(i.head,collect$$1(function(e){return e.Nodes},c));return function(e){return replaceAndSelectMarker(a[0],e)}(reconstructChain(t,e,p))}}}},t):withPivotState(new PivotEditorState(t.State.Body,t.State.FirstNode,n.Fields[0].Fields[0],t.State.Sections,t.State.SelectedEntity,t.State.Menus,t.State.Focus),t);var r=function(){Log.trace("live","Replace '%s' with '%s'",t.Code.substr(n.Fields[0].Fields[0].Start,n.Fields[0].Fields[0].End-n.Fields[0].Fields[0].Start+1),n.Fields[0].Fields[1]);var e=t.Code.substr(0,n.Fields[0].Fields[0].Start)+n.Fields[0].Fields[1]+t.Code.substr(n.Fields[0].Fields[0].End+1),i=editorLocation(new LocationMapper(e),n.Fields[0].Fields[0].Start,n.Fields[0].Fields[0].Start+n.Fields[0].Fields[1].length);return{v:function(){var n=i;return new LiveState(t.Globals,e,t.Program,t.Mapper,t.Location,n,t.State,t.CurrentPreview)}()}}();return"object"===("undefined"==typeof r?"undefined":_typeof$2(r))?r.v:void 0}function renderNodeList(e,t){return toList(delay(function(){return collect$1(function(t){var n=function(){return empty()};if("Property"===t.Node.Case){if("then"!==t.Node.Fields[1].Node.Name){var i=t.Node.Fields[1];return singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("span")(new List$2)(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([op_EqualsBangGreater("click",e(new PivotEditorAction("SelectRange",[i.Range])))]))(ofArray([text(i.Node.Name)])),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([op_EqualsBangGreater("click",e(new PivotEditorAction("RemoveElement",[t.Entity.Symbol])))]))(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("i")(ofArray([op_EqualsGreater("class","fa fa-times")]))(new List$2)]))])))}return n()}return n()},t)}))}function renderContextMenu(e){return function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([op_EqualsGreater("class","right"),op_EqualsBangGreater("click",e(new PivotEditorAction("SwitchMenu",[new PivotEditorMenus("ContextualDropdownOpen",[])])))]))(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("i")(ofArray([op_EqualsGreater("class","fa fa-plus")]))(new List$2)]))}function renderAddPropertyMenu(e,t,n){return toList(delay(function(){var i=find(function(e){return"Property"!==e.Node.Case||function(){var t=e.Node.Fields[1];return"then"!==t.Node.Name}()},reverse$$1(n)),r=i.Entity.Type,o=function(){return empty()};if(null==r)return o();if("Object"!==r.Case)return o();var s=function(){var n=r.Fields[0],o=sortWith(function(e,t){return compare(e,t)},choose$1(function(e){var n=function(){return null};if("Property"===e.Case){if(t(e.Fields[0])){var i=e.Fields[0];return i}return n()}return n()},n.Members));return{v:singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("ul")(new List$2)(toList(delay(function(){return map$5(function(t){return function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(new List$2)(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([op_EqualsBangGreater("click",e(new PivotEditorAction("AddElement",[i.Entity.Symbol,t,null])))]))(ofArray([text(t)]))]))},o)}))))}}();return"object"===("undefined"==typeof s?"undefined":_typeof$2(s))?s.v:void 0}))}function renderSection(e,t){var n=function(t){return function(n){return function(n){n.cancelBubble=!0,e(new LiveEvent("CustomEvent",[t]))}}},i=function(t){return function(n){return function(i){i.cancelBubble=!0,e(new LiveEvent("CustomEvent",[t(n)]))}}},r=function(e){var t=function(){return["",null]};if(null!=e){if("Property"===e.Node.Case){if(null!=e.Entity){var n=e.Entity,i=e.Node.Fields[1];return[i.Node.Name,n.Symbol]}return t()}return t()}return t()};return toList(delay(function(){var o=function(){return empty()};if(null==t)return o();if("GetSeries"===t.Transformation.Case){var s=function(){var e=t.Nodes,n=null!=e.tail?null!=e.tail.tail?null!=e.tail.tail.tail?function(){var t=e.head,n=e.tail.head,i=e.tail.tail.head;return[t,n,i]}():function(){var t=e.head,n=e.tail.head;return[t,n,null]}():function(){var t=e.head;return[t,null,null]}():function(){throw new Error("No get series node in get series transformation")}(),o=r(n[1]),s=r(n[2]);return{v:append$1(function(){var e=n[0].Entity.Type,t=function(){return empty()};if(null==e)return t();if("Object"!==e.Case)return t();var r=function(){var t=e.Fields[0];return{v:append$1(singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("span")(new List$2)(ofArray([text("with key")]))),delay(function(){return singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("select")(ofArray([op_EqualsBangGreater("change",i(function(e){return null!=o[1]?new PivotEditorAction("ReplaceElement",[o[1],e.value,null]):new PivotEditorAction("AddElement",[n[0].Entity.Symbol,e.value,null])}))]))(toList(delay(function(){return append$1(""===o[0]?singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("option")(ofArray([op_EqualsGreater("value",""),op_EqualsGreater("selected","selected")]))(ofArray([text("")]))):empty(),delay(function(){return collect$1(function(e){var t=function(){return empty()};if("Property"!==e.Case)return t();if(0!==e.Fields[0].indexOf("with key"))return t();var n=function(){var t=e.Fields[0];return{v:singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("option")(toList(delay(function(){return append$1(singleton$1(op_EqualsGreater("value",t)),delay(function(){return o[0]===t?singleton$1(op_EqualsGreater("selected","selected")):empty()}))})))(ofArray([text(replace$$1(t,"with key ",""))])))}}();return"object"===("undefined"==typeof n?"undefined":_typeof$2(n))?n.v:void 0},t.Members)}))}))))}))}}();return"object"===("undefined"==typeof r?"undefined":_typeof$2(r))?r.v:void 0}(),delay(function(){var e=function(){return empty()};if(null==n[1])return e();if(null==n[1].Entity)return e();if(null==n[1].Entity.Type)return e();if("Object"!==n[1].Entity.Type.Case)return e();var t=function(){var e=n[1].Entity,t=n[1].Entity.Type.Fields[0];return{v:append$1(singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("span")(new List$2)(ofArray([text("and value")]))),delay(function(){return singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("select")(ofArray([op_EqualsBangGreater("change",i(function(t){return null!=s[1]?new PivotEditorAction("ReplaceElement",[s[1],t.value,null]):new PivotEditorAction("AddElement",[e.Symbol,t.value,null])}))]))(toList(delay(function(){return append$1(""===s[0]?singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("option")(ofArray([op_EqualsGreater("value",""),op_EqualsGreater("selected","selected")]))(ofArray([text("")]))):empty(),delay(function(){return collect$1(function(e){var t=function(){return empty()};if("Property"!==e.Case)return t();if(0!==e.Fields[0].indexOf("and value"))return t();var n=function(){var t=e.Fields[0];return{v:singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("option")(toList(delay(function(){return append$1(singleton$1(op_EqualsGreater("value",t)),delay(function(){return s[0]===t?singleton$1(op_EqualsGreater("selected","selected")):empty()}))})))(ofArray([text(replace$$1(t,"and value ",""))])))}}();return"object"===("undefined"==typeof n?"undefined":_typeof$2(n))?n.v:void 0},t.Members)}))}))))}))}}();return"object"===("undefined"==typeof t?"undefined":_typeof$2(t))?t.v:void 0}))}}();if("object"===("undefined"==typeof s?"undefined":_typeof$2(s)))return s.v}else if("GroupBy"===t.Transformation.Case){var a=function(){var e=t.Nodes,o=null!=e.tail?null!=e.tail.tail?function(){var t=e.tail.tail,n=e.head,i=e.tail.head;return[n,i,t]}():function(){var t=e.head;return[t,null,new List$2]}():function(){throw new Error("No group by node in group by transformation")}(),s=r(o[1]);return{v:append$1(function(){var e=o[0].Entity.Type,t=function(){return empty()};if(null==e)return t();if("Object"!==e.Case)return t();var n=function(){var t=e.Fields[0];return{v:singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("select")(ofArray([op_EqualsBangGreater("change",i(function(e){return null!=s[1]?new PivotEditorAction("ReplaceElement",[s[1],e.value,null]):new PivotEditorAction("AddElement",[o[0].Entity.Symbol,e.value,null])}))]))(toList(delay(function(){return append$1(""===s[0]?singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("option")(ofArray([op_EqualsGreater("value",""),op_EqualsGreater("selected","selected")]))(ofArray([text("")]))):empty(),delay(function(){return collect$1(function(e){var t=function(){return empty()};if("Property"!==e.Case)return t();if(0!==e.Fields[0].indexOf("by"))return t();var n=function(){var t=e.Fields[0];return{v:singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("option")(toList(delay(function(){return append$1(singleton$1(op_EqualsGreater("value",t)),delay(function(){return s[0]===t?singleton$1(op_EqualsGreater("selected","selected")):empty()}))})))(ofArray([text(t)])))}}();return"object"===("undefined"==typeof n?"undefined":_typeof$2(n))?n.v:void 0},t.Members)}))}))))}}();return"object"===("undefined"==typeof n?"undefined":_typeof$2(n))?n.v:void 0}(),delay(function(){return append$1(renderNodeList(n,o[2]),delay(function(){return singleton$1(renderContextMenu(n))}))}))}}();if("object"===("undefined"==typeof a?"undefined":_typeof$2(a)))return a.v}else if("Paging"===t.Transformation.Case){var l=function(){var i=t.Nodes,r=create$3(map$4(function(e){return"Call"===e.Node.Case?function(){var t=e.Node.Fields[1];return t.Node.Name}():""},i),new GenericComparer(function(e,t){return e<t?-1:e>t?1:0}));return{v:append$1(collect$1(function(t){var i=function(){return empty()};if("Call"!==t.Node.Case)return i();if(null==t.Node.Fields[2].Node.tail)return i();if(null!=t.Node.Fields[2].Node.tail.tail)return i();var r=function(){var i=t.Node.Fields[2].Node.head,r=t.Node.Fields[1],o="take"===r.Node.Name?new PivotEditorAction("ReplaceElement",[t.Entity.Symbol,"then",null]):new PivotEditorAction("RemoveElement",[t.Entity.Symbol]);return{v:singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("span")(new List$2)(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([op_EqualsBangGreater("click",n(new PivotEditorAction("SelectRange",[r.Range])))]))(ofArray([text(r.Node.Name)])),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("input")(ofArray([op_EqualsGreater("id","input-pg-"+r.Node.Name),op_EqualsBangGreater("input",function(t){return function(n){var r=t,o=parseProgram(r.value);0===o[1].length&&1===o[0].Body.Node.length?(t.setCustomValidity(""),e(new LiveEvent("CustomEvent",[new PivotEditorAction("ReplaceRange",[i.Value.Range,r.value])]))):t.setCustomValidity("Cannot parse expression")}}),op_EqualsGreater("value",formatSingleExpression(i.Value))]))(new List$2),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([op_EqualsBangGreater("click",n(o))]))(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("i")(ofArray([op_EqualsGreater("class","fa fa-times")]))(new List$2)]))])))}}();return"object"===("undefined"==typeof r?"undefined":_typeof$2(r))?r.v:void 0},i),delay(function(){return r.has("take")&&r.has("skip")?empty():singleton$1(renderContextMenu(n))}))}}();if("object"===("undefined"==typeof l?"undefined":_typeof$2(l)))return l.v}else{if("SortBy"!==t.Transformation.Case){if("DropColumns"===t.Transformation.Case){var u=t.Nodes;return append$1(renderNodeList(n,u.tail),delay(function(){return singleton$1(renderContextMenu(n))}))}return o()}var c=function(){var e=t.Nodes,i=choose$$1(function(e){var t=function(){return null};if("Property"===e.Node.Case){if(null!=e.Entity){if(function(){var t=(e.Entity.Symbol,e.Node.Fields[1]);return"then"!==t.Node.Name&&"sort data"!==t.Node.Name}()){var n=e.Node.Fields[1],i=e.Entity.Symbol;return[i,n]}return t()}return t()}return t()},e),r=tryLast(i);return{v:append$1(collect$1(function(e){return singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("span")(new List$2)(toList(delay(function(){return append$1(singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([op_EqualsBangGreater("click",n(new PivotEditorAction("SelectRange",[e[1].Range])))]))(ofArray([text(e[1].Node.Name)]))),delay(function(){return e[1].Node.Name===r[1].Node.Name?singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([op_EqualsBangGreater("click",n(new PivotEditorAction("RemoveElement",[e[0]])))]))(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("i")(ofArray([op_EqualsGreater("class","fa fa-times")]))(new List$2)]))):empty()}))}))))},i),delay(function(){return singleton$1(renderContextMenu(n))}))}}();if("object"===("undefined"==typeof c?"undefined":_typeof$2(c)))return c.v}}))}function renderPivot(e,t){var n=function(t){return function(n){return function(n){n.cancelBubble=!0,e(new LiveEvent("CustomEvent",[t]))}}},i=tryFind(function(e){return exists$1(function(e){return equals(t.State.SelectedEntity.Symbol,e.Entity.Symbol)},e.Nodes)},t.State.Sections),r=t.State.FirstNode,o=function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(toList(delay(function(){return append$1(singleton$1(op_EqualsGreater("class","pivot-preview")),delay(function(){return t.State.Menus.Equals(new PivotEditorMenus("Hidden",[]))?empty():singleton$1(op_EqualsBangGreater("click",n(new PivotEditorAction("SwitchMenu",[new PivotEditorMenus("Hidden",[])]))))}))})))(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("ul")(ofArray([op_EqualsGreater("class","tabs")]))(toList(delay(function(){return append$1(singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(ofArray([op_EqualsGreater("class",equals(t.State.SelectedEntity.Symbol,r.Entity.Symbol)?"selected":"")]))(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([op_EqualsBangGreater("click",n(new PivotEditorAction("SelectRange",[r.Range])))]))(toList(delay(function(){return singleton$1("Variable"===r.Node.Case?text(r.Node.Fields[0].Node.Name):text("data"))})))]))),delay(function(){return append$1(map$5(function(e){var i=exists$1(function(e){return equals(t.State.SelectedEntity.Symbol,e.Entity.Symbol)},e.Nodes),r=e.Nodes.head.Entity.Symbol,o=function(){var t=function(e){return e.Range},n=function(){throw new Error("Unexpected node in pivot call chain")};return null!=e.Nodes.tail?"Variable"===e.Nodes.head.Node.Case?t(e.Nodes.head.Node.Fields[0]):"Call"===e.Nodes.head.Node.Case?t(e.Nodes.head.Node.Fields[1]):"Property"===e.Nodes.head.Node.Case?t(e.Nodes.head.Node.Fields[1]):n():n()}();return function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(ofArray([op_EqualsGreater("class",i?"selected":"")]))(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([op_EqualsBangGreater("click",n(new PivotEditorAction("SelectRange",[o])))]))(ofArray([text(transformName(e.Transformation))])),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([op_EqualsBangGreater("click",n(new PivotEditorAction("RemoveSection",[r])))]))(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("i")(ofArray([op_EqualsGreater("class","fa fa-times")]))(new List$2)]))]))},t.State.Sections),delay(function(){return singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(ofArray([op_EqualsGreater("class",t.State.Menus.Equals(new PivotEditorMenus("AddDropdownOpen",[]))?"add selected":"add")]))(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([op_EqualsBangGreater("click",n(new PivotEditorAction("SwitchMenu",[new PivotEditorMenus("AddDropdownOpen",[])])))]))(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("i")(ofArray([op_EqualsGreater("class","fa fa-plus")]))(new List$2)]))])))}))}))}))),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray([op_EqualsGreater("class","add-menu")]))(toList(delay(function(){var e=function(e){return op_EqualsBangGreater("click",n(new PivotEditorAction("AddTransform",[e])))};return t.State.Menus.Equals(new PivotEditorMenus("AddDropdownOpen",[]))?singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("ul")(new List$2)(toList(delay(function(){return append$1(singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(new List$2)(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([e(new Transformation("DropColumns",[new List$2]))]))(ofArray([text("drop columns")]))]))),delay(function(){return append$1(singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(new List$2)(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([e(new Transformation("FilterBy",[new List$2]))]))(ofArray([text("filter by")]))]))),delay(function(){return append$1(singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(new List$2)(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([e(new Transformation("GroupBy",[new List$2,new List$2]))]))(ofArray([text("group by")]))]))),delay(function(){return append$1(singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(new List$2)(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([e(new Transformation("Paging",[new List$2]))]))(ofArray([text("paging")]))]))),delay(function(){return append$1(singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(new List$2)(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([e(new Transformation("SortBy",[new List$2]))]))(ofArray([text("sort by")]))]))),delay(function(){var n=exists$1(function(e){var t=function(){return!0};return"GetTheData"===e.Transformation.Case?t():"GetSeries"===e.Transformation.Case&&t()},t.State.Sections);return n?empty():append$1(singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(new List$2)(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([e(new Transformation("GetTheData",[]))]))(ofArray([text("get the data")]))]))),delay(function(){return singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(new List$2)(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([e(new Transformation("GetSeries",["!","!"]))]))(ofArray([text("get series")]))])))}))}))}))}))}))}))})))):empty()}))),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray([op_EqualsGreater("class","toolbar")]))(toList(delay(function(){return append$1(singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("span")(ofArray([op_EqualsGreater("class","navig")]))(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(new List$2)(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("i")(ofArray([op_EqualsBangGreater("click",n(new PivotEditorAction("SelectChainElement",[-1]))),op_EqualsGreater("class","fa fa-chevron-left")]))(new List$2)])),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(new List$2)(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("i")(ofArray([op_EqualsBangGreater("click",n(new PivotEditorAction("SelectChainElement",[0]))),op_EqualsGreater("class","fa fa-circle")]))(new List$2)])),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(new List$2)(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("i")(ofArray([op_EqualsBangGreater("click",n(new PivotEditorAction("SelectChainElement",[1]))),op_EqualsGreater("class","fa fa-chevron-right")]))(new List$2)]))]))),delay(function(){return renderSection(e,i)}))}))),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray([op_EqualsGreater("class","add-menu")]))(toList(delay(function(){var e=[t.State.Menus,i],r=function(){return empty()};if("ContextualDropdownOpen"!==e[0].Case)return r();if(null==e[1])return r();if("Paging"!==e[1].Transformation.Case){if("GroupBy"===e[1].Transformation.Case){var o=e[1].Nodes;return renderAddPropertyMenu(n,function(e){return"then"!==e&&"preview"!==e&&!(0===e.indexOf("and"))},o)}if("SortBy"===e[1].Transformation.Case){var s=e[1].Nodes;return renderAddPropertyMenu(n,function(e){return"then"!==e&&"preview"!==e},s)}if("DropColumns"===e[1].Transformation.Case){var a=e[1].Nodes;return renderAddPropertyMenu(n,function(e){return"then"!==e&&"preview"!==e},a)}return r()}var l=function(){var t=e[1].Nodes,i=new _Map(choose$$1(function(e){var t=function(e,t){return[t.Node.Name,e.Symbol]};return"Property"===e.Node.Case?t(e.Entity,e.Node.Fields[1]):"Call"===e.Node.Case?t(e.Entity,e.Node.Fields[1]):void 0},t)),r=last(t).Entity.Symbol,o=t.head.Entity.Symbol;return{v:singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("ul")(new List$2)(toList(delay(function(){return append$1(i.has("take")?empty():function(){var e=i.has("then")?new PivotEditorAction("ReplaceElement",[i.get("then"),"take",ofArray([new Expr("Number",[10])])]):new PivotEditorAction("AddElement",[r,"take",ofArray([new Expr("Number",[10])])]);return singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(new List$2)(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([op_EqualsBangGreater("click",n(e))]))(ofArray([text("take")]))])))}(),delay(function(){return i.has("skip")?empty():function(){var e=new PivotEditorAction("AddElement",[o,"skip",ofArray([new Expr("Number",[10])])]);return singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(new List$2)(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([op_EqualsBangGreater("click",n(e))]))(ofArray([text("skip")]))])))}()}))}))))}}();return"object"===("undefined"==typeof l?"undefined":_typeof$2(l))?l.v:void 0}))),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray([op_EqualsGreater("class","preview-body")]))(toList(delay(function(){return singleton$1(t.State.Preview)})))])),s=t.Mapper.AbsoluteToLineCol(t.State.Body.Range.End);return new LiveEditorZone(s[0],o)}function commandAtLocation$1(e,t){return tryFind(function(t){return t.Range.Start<=e&&t.Range.End+1>=e},t.Body.Node)}function updateBody$1(e,t){Log.trace("live","Showable - updating body");var n=commandAtLocation$1(t.Location,t.Program),i=function(){return null};if(null==n)return i();if("Expr"!==n.Node.Case)return i();if(null==n.Entity)return i();if("RunCommand"!==n.Entity.Kind.Case)return i();var r=function(){var e=n,i=(n.Node.Fields[0],n.Entity.Kind.Fields[0]),r=reduceType(i.Type);if("Object"===r.Case){var o=r.Fields[0].Members,s=o.some(function(e){var t=function(){return!1};return"Method"===e.Case&&"show"===e.Fields[0]&&null!=e.Fields[1].tail&&"Primitive"===e.Fields[1].head[2].Case&&"String"===e.Fields[1].head[2].Fields[0].Case?null==e.Fields[1].tail.tail||t():t();
});if(s){var a=function(){var n=evaluate(t.Globals,i);if(null!=n){var r=function(){var r=equals(i.Symbol,t.State.PreviewSymbol)?t.State.PreviewID:t.State.PreviewID+1,o=function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray([op_EqualsGreater("class","placeholder")]))(ofArray([text("Loading preview...")])),s=function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(new List$2)(ofArray([function(e){return function(t){return function(n){return h$$1.delayed(e,t,n)}}}(String(r))(o)(function(e){Log.trace("live","Show: %O",n.Value),n.Value.show(e)})]));return{v:{v:{v:function(){var n=new ShowableEditorState(e.Range.End,s,i.Symbol,r);return new LiveState(t.Globals,t.Code,t.Program,t.Mapper,t.Location,t.Selection,n,t.CurrentPreview)}()}}}}();if("object"===("undefined"==typeof r?"undefined":_typeof$2(r)))return r.v}}();if("object"===("undefined"==typeof a?"undefined":_typeof$2(a)))return a.v}}}();return"object"===("undefined"==typeof r?"undefined":_typeof$2(r))?r.v:void 0}function updateShowableState(e,t,n){var i=function(){return function(t){return updateBody$1(e,t)}(t)},r=function(){return t};return"UpdateLocation"===n.Case?i():"InitializeGlobals"===n.Case?r():"CustomEvent"===n.Case?r():i()}function renderShowable(e,t){var n=t.Mapper.AbsoluteToLineCol(t.State.EndLocation),i=function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray([op_EqualsGreater("class","pivot-preview")]))(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("ul")(ofArray([op_EqualsGreater("class","tabs")]))(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(ofArray([op_EqualsGreater("class","selected")]))(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(new List$2)(ofArray([text("preview")]))]))])),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray([op_EqualsGreater("class","preview-body")]))(toList(delay(function(){return singleton$1(t.State.Preview)})))]));return new LiveEditorZone(n[0],i)}function getColorClass(e){var t=function(){return"ident"},n=function(){return"keyword"};return"String"===e.Case?"string":"QIdent"===e.Case?t():"Ident"===e.Case?t():"Dot"===e.Case?"operator":"By"===e.Case?n():"To"===e.Case?n():"Let"===e.Case?n():"Boolean"===e.Case?n():"Fun"===e.Case?n():"Arrow"===e.Case?n():"Number"===e.Case?"number":""}function createCompletionProvider(e){var t,n,i;return n={},_defineProperty(n,_Symbol.reflection,{interfaces:["Fable.Import.monaco.languages.CompletionItemProvider"]}),t="triggerCharacters",i={},i[t]=i[t]||{},i[t].get=function(){return _Array$from(ofArray(["."]))},_defineProperty(n,"provideCompletionItems",function(t,n,i){return function(e){return startAsPromise(e)}(function(i){return i.Delay(function(){return i.TryWith(i.Delay(function(){var r=e(t.uri.toString()),o=t.getValue(1,!1);Log.event("editor","completions","",{source:o,position:n});var s=new LocationMapper(o),a=s.LineColToAbsolute(~~n.lineNumber,~~n.column);return i.Bind(r.TypeCheck(o),function(e){var t=tryPick(function(e){var t=function t(){var t=function(){return null};if("NamedMember"===e[1].Kind.Case){if(null!=e[1].Kind.Fields[1].Type){var n=e[1].Kind.Fields[0];e[1].Kind.Fields[1].Type;return Log.trace("completions","Ignoring '%s' at location %s-%s (current=%s)",n.Name,e[0].Start,e[0].End,a),null}return t()}return t()};if("NamedMember"!==e[1].Kind.Case)return t();if(null==e[1].Kind.Fields[1].Type)return t();if(!function(){e[1].Kind.Fields[1].Type;return a>=e[0].Start&&a<=e[0].End+1}())return t();var n=e[1].Kind.Fields[1].Type;Log.trace("completions","Antecedant at current location: %O",n);var i=reduceType(n);if("Object"===i.Case){var r=i.Fields[0].Members;return[e[0],r]}},e[1].Entities),n=function(e){var t=s.AbsoluteToLineCol(e.Start),n=s.AbsoluteToLineCol(e.End),i={};return i.startColumn=t[1],i.startLineNumber=t[0],i.endColumn=n[1]+1,i.endLineNumber=n[0],i};if(null==t)return Log.trace("completions","no members at %s",a),i.Return(_Array$from(new List$2));var r=function(){var e=t[0],r=t[1],o=n(e);Log.trace("completions","providing %s members at %O",r.length,o);var s=toList(delay(function(){return map$5(function(e){var t={},n="Property"===e.Case?[e.Fields[0],9]:[e.Fields[0],1];if(t.kind=n[1],t.label=n[0],t.insertText=escapeIdent(n[0]),t.filterText=n[0],"Method"===e.Case){var i=function(){var e=function(e){return function(t){return e[1].length>100?[new List$2(e[1],e[0]),t]:[e[0],""===e[1]?t:e[1]+","+t]}},t=[new List$2,""];return function(n){return fold$1(function(t,n){return e(t)(n)},[t[0],t[1]],n)}}()(toList(delay(function(){return collect$1(function(e){return singleton$1((e[1]?"?":"")+e[0])},e.Fields[1])}))),r=join(",\n",reverse$$1(new List$2(i[1],i[0])));t.documentation="("+r+")"}var s={};return s.text=escapeIdent(n[0]),s.range=o,t.textEdit=s,t},r)}));return Log.trace("completions","returning %O",_Array$from(s)),{v:i.Return(_Array$from(s))}}();return"object"===("undefined"==typeof r?"undefined":_typeof$2(r))?r.v:void 0})}),function(e){return Log.exn("completions","completions failed %O",e),i.Return([])})})}(singleton$2))}),_defineProperty(n,"resolveCompletionItem",function(e,t){return e}),_defineEnumerableProperties(n,i),n}function getService(e){return createdEditors.get(e)}function setupMonacoServices(){var e={};e.id="thegamma",monaco$1.languages.register(e),monaco$1.languages.setTokensProvider("thegamma",tokensProvider),monaco$1.languages.registerCompletionItemProvider("thegamma",createCompletionProvider(function(e){return getService(e)}))}function createMonacoEditor(e,t,n,i){0===createdEditors.size&&setupMonacoServices();var r={},o={},s={};s.vertical="none",s.horizontal="auto",o.scrollbar=s,o.value=t,o.language="thegamma",o.lineNumbersMinChars=3,o.contextmenu=!1,o.scrollBeyondLastLine=!1,o.overviewRulerLanes=0,i(o);var a=monaco$1.editor.create(document.getElementById(e),o,r);return createdEditors.set(a.getModel().uri.toString(),n),a}function buildGlobalsTable(e){return function(e){return function(t){return Async_StartAsNamedFuture_Static(e,t)}}("buildGlobalsTable")(function(t){return t.Delay(function(){var n=create$4(null,new GenericComparer(function(e,t){return e<t?-1:e>t?1:0})),i=function(e){return function(t){var i=tryFind$1(e,n);if(null==i)throw Log.error("Could not find named type '%s'",e),new Error(fsFormat("Could not find named type '%s'")(function(e){return e})(e));var r=i[1],o=i[0];if(r.length!==t.length)throw Log.error("Named type '%s' has mismatching length of type arguments",e),new Error(fsFormat("Named type '%s' has mismatching length of type arguments")(function(e){return e})(e));return r.length>0?new Type("App",[o,t]):o}};return t.Bind(e(i),function(e){var i=toList(delay(function(){return append$1(singleton$1(new ProvidedType("NamedType",["value",ofArray(["a"]),new Type("Any",[])])),delay(function(){return append$1(singleton$1(new ProvidedType("NamedType",["object",new List$2,new Type("Any",[])])),delay(function(){return append$1(singleton$1(new ProvidedType("NamedType",["seq",ofArray(["a"]),new Type("Any",[])])),delay(function(){return append$1(singleton$1(new ProvidedType("NamedType",["async",ofArray(["a"]),new Type("Any",[])])),delay(function(){return e}))}))}))}))}));n=create$4(choose$1(function(e){return"NamedType"===e.Case?[e.Fields[0],[e.Fields[2],e.Fields[1]]]:null},i),new GenericComparer(function(e,t){return e<t?-1:e>t?1:0}));var r=choose$$1(function(e){return"GlobalValue"===e.Case?globalEntity(e.Fields[0],e.Fields[1],e.Fields[3],e.Fields[2]):null},i);return t.Return(r)})})}(singleton$2))}function callShowMethod(e,t){var n=function(){return t};if("Expr"===t.Node.Case){if(null!=t.Node.Fields[0].Entity){if(null!=t.Node.Fields[0].Entity.Type){var i=t.Node.Fields[0],r=t.Node.Fields[0].Entity.Type,o=reduceType(r);if("Object"===o.Case){var s=o.Fields[0].Members,a=s.some(function(e){var t=function(){return!1};return"Method"===e.Case&&"show"===e.Fields[0]&&null!=e.Fields[1].tail&&"Primitive"===e.Fields[1].head[2].Case&&"String"===e.Fields[1].head[2].Fields[0].Case?null==e.Fields[1].tail.tail||t():t()});if(a){var l=new _Range(t.Range.End,t.Range.End),u=node(l,new Expr("String",[e])),c=ofArray([new Argument(null,u)]),p=node(l,new Expr("Call",[i,node(l,new Name("show")),node(l,c)]));return node(t.Range,new Command("Expr",[p]))}return t}return t}return n()}return n()}return n()}function _evaluate(ctx,code,outputId){return function(builder_){return builder_.Delay(function(){return builder_.Bind(ctx.checkingService.TypeCheck(code),function(_arg1){var newBody=null!=outputId?map$4(function(e){return callShowMethod(outputId,e)},_arg1[2].Body.Node):_arg1[2].Body.Node,prog=new Program$$1(new _Node(_arg1[2].Body.WhiteBefore,_arg1[2].Body.WhiteAfter,_arg1[2].Body.Range,newBody,_arg1[2].Body.Entity));return builder_.Bind(compile(ctx.providers.globals,code,prog),function(_arg2){var s=series.create(function(e){return e.Delay(function(){return e.Return([])})}(singleton$2),"","","");return new RuntimeContext("lol","","troll"),table.create(s),timeline.create(s),series.values(new Int32Array([1])),placeholder.create(""),builder_.Return(eval(_arg2))})})})}(singleton$2)}var commonjsGlobal="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},_defined=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e},defined=_defined,_toObject=function(e){return Object(defined(e))},hasOwnProperty={}.hasOwnProperty,_has=function(e,t){return hasOwnProperty.call(e,t)},toString$1={}.toString,_cof=function(e){return toString$1.call(e).slice(8,-1)},cof=_cof,_iobject=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==cof(e)?e.split(""):Object(e)},IObject=_iobject,defined$1=_defined,_toIobject=function(e){return IObject(defined$1(e))},ceil=Math.ceil,floor=Math.floor,_toInteger=function(e){return isNaN(e=+e)?0:(e>0?floor:ceil)(e)},toInteger=_toInteger,min=Math.min,_toLength=function(e){return e>0?min(toInteger(e),9007199254740991):0},toInteger$1=_toInteger,max=Math.max,min$1=Math.min,_toIndex=function(e,t){return e=toInteger$1(e),e<0?max(e+t,0):min$1(e,t)},toIObject$1=_toIobject,toLength=_toLength,toIndex=_toIndex,_arrayIncludes=function(e){return function(t,n,i){var r,o=toIObject$1(t),s=toLength(o.length),a=toIndex(i,s);if(e&&n!=n){for(;s>a;)if(r=o[a++],r!=r)return!0}else for(;s>a;a++)if((e||a in o)&&o[a]===n)return e||a||0;return!e&&-1}},_global=createCommonjsModule(function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),global$1=_global,SHARED="__core-js_shared__",store=global$1[SHARED]||(global$1[SHARED]={}),_shared=function(e){return store[e]||(store[e]={})},id=0,px=Math.random(),_uid=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++id+px).toString(36))},shared=_shared("keys"),uid=_uid,_sharedKey=function(e){return shared[e]||(shared[e]=uid(e))},has$1=_has,toIObject=_toIobject,arrayIndexOf=_arrayIncludes(!1),IE_PROTO=_sharedKey("IE_PROTO"),_objectKeysInternal=function(e,t){var n,i=toIObject(e),r=0,o=[];for(n in i)n!=IE_PROTO&&has$1(i,n)&&o.push(n);for(;t.length>r;)has$1(i,n=t[r++])&&(~arrayIndexOf(o,n)||o.push(n));return o},_enumBugKeys="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),$keys$1=_objectKeysInternal,enumBugKeys=_enumBugKeys,_objectKeys=Object.keys||function(e){return $keys$1(e,enumBugKeys)},_core=createCommonjsModule(function(e){var t=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=t)}),_aFunction=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},aFunction=_aFunction,_ctx=function(e,t,n){if(aFunction(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}},_isObject=function(e){return"object"==typeof e?null!==e:"function"==typeof e},isObject$1=_isObject,_anObject=function(e){if(!isObject$1(e))throw TypeError(e+" is not an object!");return e},_fails=function(e){try{return!!e()}catch(e){return!0}},_descriptors=!_fails(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),isObject$2=_isObject,document$1=_global.document,is=isObject$2(document$1)&&isObject$2(document$1.createElement),_domCreate=function(e){return is?document$1.createElement(e):{}},_ie8DomDefine=!_descriptors&&!_fails(function(){return 7!=Object.defineProperty(_domCreate("div"),"a",{get:function(){return 7}}).a}),isObject$3=_isObject,_toPrimitive=function(e,t){if(!isObject$3(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!isObject$3(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!isObject$3(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!isObject$3(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")},anObject=_anObject,IE8_DOM_DEFINE=_ie8DomDefine,toPrimitive=_toPrimitive,dP$1=Object.defineProperty,f=_descriptors?Object.defineProperty:function(e,t,n){if(anObject(e),t=toPrimitive(t,!0),anObject(n),IE8_DOM_DEFINE)try{return dP$1(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e},_objectDp={f:f},_propertyDesc=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},dP=_objectDp,createDesc=_propertyDesc,_hide=_descriptors?function(e,t,n){return dP.f(e,t,createDesc(1,n))}:function(e,t,n){return e[t]=n,e},global$2=_global,core$1=_core,ctx=_ctx,hide=_hide,PROTOTYPE="prototype",$export$1=function(e,t,n){var i,r,o,s=e&$export$1.F,a=e&$export$1.G,l=e&$export$1.S,u=e&$export$1.P,c=e&$export$1.B,p=e&$export$1.W,h=a?core$1:core$1[t]||(core$1[t]={}),f=h[PROTOTYPE],d=a?global$2:l?global$2[t]:(global$2[t]||{})[PROTOTYPE];a&&(n=t);for(i in n)r=!s&&d&&void 0!==d[i],r&&i in h||(o=r?d[i]:n[i],h[i]=a&&"function"!=typeof d[i]?n[i]:c&&r?ctx(o,global$2):p&&d[i]==o?function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t[PROTOTYPE]=e[PROTOTYPE],t}(o):u&&"function"==typeof o?ctx(Function.call,o):o,u&&((h.virtual||(h.virtual={}))[i]=o,e&$export$1.R&&f&&!f[i]&&hide(f,i,o)))};$export$1.F=1,$export$1.G=2,$export$1.S=4,$export$1.P=8,$export$1.B=16,$export$1.W=32,$export$1.U=64,$export$1.R=128;var _export=$export$1,$export=_export,core=_core,fails=_fails,_objectSap=function(e,t){var n=(core.Object||{})[e]||Object[e],i={};i[e]=t(n),$export($export.S+$export.F*fails(function(){n(1)}),"Object",i)},toObject=_toObject,$keys=_objectKeys;_objectSap("keys",function(){return function(e){return $keys(toObject(e))}});var keys$2=_core.Object.keys,keys$1=createCommonjsModule(function(e){e.exports={default:keys$2,__esModule:!0}}),_Object$keys=unwrapExports(keys$1),toInteger$2=_toInteger,defined$2=_defined,_stringAt=function(e){return function(t,n){var i,r,o=String(defined$2(t)),s=toInteger$2(n),a=o.length;return s<0||s>=a?e?"":void 0:(i=o.charCodeAt(s),i<55296||i>56319||s+1===a||(r=o.charCodeAt(s+1))<56320||r>57343?e?o.charAt(s):i:e?o.slice(s,s+2):(i-55296<<10)+(r-56320)+65536)}},_library=!0,_redefine=_hide,_iterators={},dP$2=_objectDp,anObject$2=_anObject,getKeys=_objectKeys,_objectDps=_descriptors?Object.defineProperties:function(e,t){anObject$2(e);for(var n,i=getKeys(t),r=i.length,o=0;r>o;)dP$2.f(e,n=i[o++],t[n]);return e},_html=_global.document&&document.documentElement,anObject$1=_anObject,dPs=_objectDps,enumBugKeys$1=_enumBugKeys,IE_PROTO$1=_sharedKey("IE_PROTO"),Empty=function(){},PROTOTYPE$1="prototype",createDict=function(){var e,t=_domCreate("iframe"),n=enumBugKeys$1.length,i="<",r=">";for(t.style.display="none",_html.appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(i+"script"+r+"document.F=Object"+i+"/script"+r),e.close(),createDict=e.F;n--;)delete createDict[PROTOTYPE$1][enumBugKeys$1[n]];return createDict()},_objectCreate=Object.create||function(e,t){var n;return null!==e?(Empty[PROTOTYPE$1]=anObject$1(e),n=new Empty,Empty[PROTOTYPE$1]=null,n[IE_PROTO$1]=e):n=createDict(),void 0===t?n:dPs(n,t)},_wks=createCommonjsModule(function(e){var t=_shared("wks"),n=_uid,i=_global.Symbol,r="function"==typeof i,o=e.exports=function(e){return t[e]||(t[e]=r&&i[e]||(r?i:n)("Symbol."+e))};o.store=t}),def=_objectDp.f,has$3=_has,TAG=_wks("toStringTag"),_setToStringTag=function(e,t,n){e&&!has$3(e=n?e:e.prototype,TAG)&&def(e,TAG,{configurable:!0,value:t})},create$1=_objectCreate,descriptor=_propertyDesc,setToStringTag$1=_setToStringTag,IteratorPrototype={};_hide(IteratorPrototype,_wks("iterator"),function(){return this});var _iterCreate=function(e,t,n){e.prototype=create$1(IteratorPrototype,{next:descriptor(1,n)}),setToStringTag$1(e,t+" Iterator")},has$4=_has,toObject$1=_toObject,IE_PROTO$2=_sharedKey("IE_PROTO"),ObjectProto=Object.prototype,_objectGpo=Object.getPrototypeOf||function(e){return e=toObject$1(e),has$4(e,IE_PROTO$2)?e[IE_PROTO$2]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?ObjectProto:null},LIBRARY=_library,$export$2=_export,redefine=_redefine,hide$1=_hide,has$2=_has,Iterators=_iterators,$iterCreate=_iterCreate,setToStringTag=_setToStringTag,getPrototypeOf=_objectGpo,ITERATOR=_wks("iterator"),BUGGY=!([].keys&&"next"in[].keys()),FF_ITERATOR="@@iterator",KEYS="keys",VALUES="values",returnThis=function(){return this},_iterDefine=function(e,t,n,i,r,o,s){$iterCreate(n,t,i);var a,l,u,c=function(e){if(!BUGGY&&e in d)return d[e];switch(e){case KEYS:return function(){return new n(this,e)};case VALUES:return function(){return new n(this,e)}}return function(){return new n(this,e)}},p=t+" Iterator",h=r==VALUES,f=!1,d=e.prototype,y=d[ITERATOR]||d[FF_ITERATOR]||r&&d[r],m=y||c(r),g=r?h?c("entries"):m:void 0,v="Array"==t?d.entries||y:y;if(v&&(u=getPrototypeOf(v.call(new e)),u!==Object.prototype&&(setToStringTag(u,p,!0),LIBRARY||has$2(u,ITERATOR)||hide$1(u,ITERATOR,returnThis))),h&&y&&y.name!==VALUES&&(f=!0,m=function(){return y.call(this)}),LIBRARY&&!s||!BUGGY&&!f&&d[ITERATOR]||hide$1(d,ITERATOR,m),Iterators[t]=m,Iterators[p]=returnThis,r)if(a={values:h?m:c(VALUES),keys:o?m:c(KEYS),entries:g},s)for(l in a)l in d||redefine(d,l,a[l]);else $export$2($export$2.P+$export$2.F*(BUGGY||f),t,a);return a},$at=_stringAt(!0);_iterDefine(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=$at(t,n),this._i+=e.length,{value:e,done:!1})});var anObject$3=_anObject,_iterCall=function(e,t,n,i){try{return i?t(anObject$3(n)[0],n[1]):t(n)}catch(t){var r=e.return;throw void 0!==r&&anObject$3(r.call(e)),t}},Iterators$1=_iterators,ITERATOR$1=_wks("iterator"),ArrayProto=Array.prototype,_isArrayIter=function(e){return void 0!==e&&(Iterators$1.Array===e||ArrayProto[ITERATOR$1]===e)},$defineProperty=_objectDp,createDesc$1=_propertyDesc,_createProperty=function(e,t,n){t in e?$defineProperty.f(e,t,createDesc$1(0,n)):e[t]=n},cof$1=_cof,TAG$1=_wks("toStringTag"),ARG="Arguments"==cof$1(function(){return arguments}()),tryGet$1=function(e,t){try{return e[t]}catch(e){}},_classof=function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=tryGet$1(t=Object(e),TAG$1))?n:ARG?cof$1(t):"Object"==(i=cof$1(t))&&"function"==typeof t.callee?"Arguments":i},classof=_classof,ITERATOR$2=_wks("iterator"),Iterators$2=_iterators,core_getIteratorMethod=_core.getIteratorMethod=function(e){if(void 0!=e)return e[ITERATOR$2]||e["@@iterator"]||Iterators$2[classof(e)]},ITERATOR$3=_wks("iterator"),SAFE_CLOSING=!1;try{var riter=[7][ITERATOR$3]();riter.return=function(){SAFE_CLOSING=!0},Array.from(riter,function(){throw 2})}catch(e){}var _iterDetect=function(e,t){if(!t&&!SAFE_CLOSING)return!1;var n=!1;try{var i=[7],r=i[ITERATOR$3]();r.next=function(){return{done:n=!0}},i[ITERATOR$3]=function(){return r},e(i)}catch(e){}return n},ctx$1=_ctx,$export$3=_export,toObject$2=_toObject,call=_iterCall,isArrayIter=_isArrayIter,toLength$1=_toLength,createProperty=_createProperty,getIterFn=core_getIteratorMethod;$export$3($export$3.S+$export$3.F*!_iterDetect(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,r,o=toObject$2(e),s="function"==typeof this?this:Array,a=arguments.length,l=a>1?arguments[1]:void 0,u=void 0!==l,c=0,p=getIterFn(o);if(u&&(l=ctx$1(l,a>2?arguments[2]:void 0,2)),void 0==p||s==Array&&isArrayIter(p))for(t=toLength$1(o.length),n=new s(t);t>c;c++)createProperty(n,c,u?l(o[c],c):o[c]);else for(r=p.call(o),n=new s;!(i=r.next()).done;c++)createProperty(n,c,u?call(r,l,[i.value,c],!0):i.value);return n.length=c,n}});var from$2=_core.Array.from,from$1=createCommonjsModule(function(e){e.exports={default:from$2,__esModule:!0}}),_Array$from=unwrapExports(from$1),classCallCheck=createCommonjsModule(function(e,t){t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}}),_classCallCheck=unwrapExports(classCallCheck),$export$4=_export;$export$4($export$4.S+$export$4.F*!_descriptors,"Object",{defineProperty:_objectDp.f});var $Object=_core.Object,defineProperty$3=function(e,t,n){return $Object.defineProperty(e,t,n)},defineProperty$1=createCommonjsModule(function(e){e.exports={default:defineProperty$3,__esModule:!0}}),createClass=createCommonjsModule(function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=defineProperty$1,r=n(i);t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,r.default)(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()}),_createClass=unwrapExports(createClass),_addToUnscopables=function(){},_iterStep=function(e,t){return{value:t,done:!!e}},addToUnscopables=_addToUnscopables,step=_iterStep,Iterators$4=_iterators,toIObject$2=_toIobject,es6_array_iterator=_iterDefine(Array,"Array",function(e,t){this._t=toIObject$2(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,step(1)):"keys"==t?step(0,n):"values"==t?step(0,e[n]):step(0,[n,e[n]])},"values");Iterators$4.Arguments=Iterators$4.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries");for(var global$3=_global,hide$2=_hide,Iterators$3=_iterators,TO_STRING_TAG=_wks("toStringTag"),collections=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],i=0;i<5;i++){var NAME=collections[i],Collection=global$3[NAME],proto=Collection&&Collection.prototype;proto&&!proto[TO_STRING_TAG]&&hide$2(proto,TO_STRING_TAG,NAME),Iterators$3[NAME]=Iterators$3.Array}var anObject$4=_anObject,get$1=core_getIteratorMethod,core_getIterator=_core.getIterator=function(e){var t=get$1(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return anObject$4(t.call(e))},getIterator$1=core_getIterator,getIterator=createCommonjsModule(function(e){e.exports={default:getIterator$1,__esModule:!0}}),_getIterator=unwrapExports(getIterator),hide$3=_hide,_redefineAll=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:hide$3(e,i,t[i]);return e},_anInstance=function(e,t,n,i){if(!(e instanceof t)||void 0!==i&&i in e)throw TypeError(n+": incorrect invocation!");return e},_forOf=createCommonjsModule(function(e){var t=_ctx,n=_iterCall,i=_isArrayIter,r=_anObject,o=_toLength,s=core_getIteratorMethod,a={},l={},u=e.exports=function(e,u,c,p,h){var f,d,y,m,g=h?function(){return e}:s(e),v=t(c,p,u?2:1),C=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(i(g)){for(f=o(e.length);f>C;C++)if(m=u?v(r(d=e[C])[0],d[1]):v(e[C]),m===a||m===l)return m}else for(y=g.call(e);!(d=y.next()).done;)if(m=n(y,v,d.value,u),m===a||m===l)return m};u.BREAK=a,u.RETURN=l}),global$4=_global,core$2=_core,dP$4=_objectDp,DESCRIPTORS$1=_descriptors,SPECIES=_wks("species"),_setSpecies=function(e){var t="function"==typeof core$2[e]?core$2[e]:global$4[e];DESCRIPTORS$1&&t&&!t[SPECIES]&&dP$4.f(t,SPECIES,{configurable:!0,get:function(){return this}})},_meta=createCommonjsModule(function(e){var t=_uid("meta"),n=_isObject,i=_has,r=_objectDp.f,o=0,s=Object.isExtensible||function(){return!0},a=!_fails(function(){return s(Object.preventExtensions({}))}),l=function(e){r(e,t,{value:{i:"O"+ ++o,w:{}}})},u=function(e,r){if(!n(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,t)){if(!s(e))return"F";if(!r)return"E";l(e)}return e[t].i},c=function(e,n){if(!i(e,t)){if(!s(e))return!0;if(!n)return!1;l(e)}return e[t].w},p=function(e){return a&&h.NEED&&s(e)&&!i(e,t)&&l(e),e},h=e.exports={KEY:t,NEED:!1,fastKey:u,getWeak:c,onFreeze:p}}),dP$3=_objectDp.f,create$2=_objectCreate,redefineAll=_redefineAll,ctx$2=_ctx,anInstance=_anInstance,defined$3=_defined,forOf=_forOf,$iterDefine=_iterDefine,step$1=_iterStep,setSpecies=_setSpecies,DESCRIPTORS=_descriptors,fastKey=_meta.fastKey,SIZE=DESCRIPTORS?"_s":"size",getEntry=function(e,t){var n,i=fastKey(t);if("F"!==i)return e._i[i];for(n=e._f;n;n=n.n)if(n.k==t)return n},_collectionStrong={getConstructor:function(e,t,n,i){var r=e(function(e,o){anInstance(e,r,t,"_i"),e._i=create$2(null),e._f=void 0,e._l=void 0,e[SIZE]=0,void 0!=o&&forOf(o,n,e[i],e)});return redefineAll(r.prototype,{clear:function(){for(var e=this,t=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete t[n.i];e._f=e._l=void 0,e[SIZE]=0},delete:function(e){var t=this,n=getEntry(t,e);if(n){var i=n.n,r=n.p;delete t._i[n.i],n.r=!0,r&&(r.n=i),i&&(i.p=r),t._f==n&&(t._f=i),t._l==n&&(t._l=r),t[SIZE]--}return!!n},forEach:function(e){anInstance(this,r,"forEach");for(var t,n=ctx$2(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.n:this._f;)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!getEntry(this,e)}}),DESCRIPTORS&&dP$3(r.prototype,"size",{get:function(){return defined$3(this[SIZE])}}),r},def:function(e,t,n){var i,r,o=getEntry(e,t);return o?o.v=n:(e._l=o={i:r=fastKey(t,!0),k:t,v:n,p:i=e._l,n:void 0,r:!1},e._f||(e._f=o),i&&(i.n=o),e[SIZE]++,"F"!==r&&(e._i[r]=o)),e},getEntry:getEntry,setStrong:function(e,t,n){$iterDefine(e,t,function(e,t){this._t=e,this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?step$1(0,n.k):"values"==t?step$1(0,n.v):step$1(0,[n.k,n.v]):(e._t=void 0,step$1(1))},n?"entries":"values",!n,!0),setSpecies(t)}},cof$2=_cof,_isArray=Array.isArray||function(e){return"Array"==cof$2(e)},isObject$5=_isObject,isArray$1=_isArray,SPECIES$1=_wks("species"),_arraySpeciesConstructor=function(e){var t;return isArray$1(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!isArray$1(t.prototype)||(t=void 0),isObject$5(t)&&(t=t[SPECIES$1],null===t&&(t=void 0))),void 0===t?Array:t},speciesConstructor=_arraySpeciesConstructor,_arraySpeciesCreate=function(e,t){return new(speciesConstructor(e))(t)},ctx$3=_ctx,IObject$1=_iobject,toObject$3=_toObject,toLength$2=_toLength,asc=_arraySpeciesCreate,_arrayMethods=function(e,t){var n=1==e,i=2==e,r=3==e,o=4==e,s=6==e,a=5==e||s,l=t||asc;return function(t,u,c){for(var p,h,f=toObject$3(t),d=IObject$1(f),y=ctx$3(u,c,3),m=toLength$2(d.length),g=0,v=n?l(t,m):i?l(t,0):void 0;m>g;g++)if((a||g in d)&&(p=d[g],h=y(p,g,f),e))if(n)v[g]=h;else if(h)switch(e){case 3:return!0;case 5:return p;case 6:return g;case 2:v.push(p)}else if(o)return!1;return s?-1:r||o?o:v}},global$5=_global,$export$5=_export,meta=_meta,fails$1=_fails,hide$4=_hide,redefineAll$1=_redefineAll,forOf$1=_forOf,anInstance$1=_anInstance,isObject$4=_isObject,setToStringTag$2=_setToStringTag,dP$5=_objectDp.f,each=_arrayMethods(0),DESCRIPTORS$2=_descriptors,_collection=function(e,t,n,i,r,o){var s=global$5[e],a=s,l=r?"set":"add",u=a&&a.prototype,c={};return DESCRIPTORS$2&&"function"==typeof a&&(o||u.forEach&&!fails$1(function(){(new a).entries().next()}))?(a=t(function(t,n){anInstance$1(t,a,e,"_c"),t._c=new s,void 0!=n&&forOf$1(n,r,t[l],t)}),each("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in u&&(!o||"clear"!=e)&&hide$4(a.prototype,e,function(n,i){if(anInstance$1(this,a,e),!t&&o&&!isObject$4(n))return"get"==e&&void 0;var r=this._c[e](0===n?0:n,i);return t?this:r})}),"size"in u&&dP$5(a.prototype,"size",{get:function(){return this._c.size}})):(a=i.getConstructor(t,e,r,l),redefineAll$1(a.prototype,n),meta.NEED=!0),setToStringTag$2(a,e),c[e]=a,$export$5($export$5.G+$export$5.W+$export$5.F,c),o||i.setStrong(a,e,r),a},strong=_collectionStrong,es6_map=_collection("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=strong.getEntry(this,e);return t&&t.v},set:function(e,t){return strong.def(this,0===e?0:e,t)}},strong,!0),forOf$2=_forOf,_arrayFromIterable=function(e,t){var n=[];return forOf$2(e,!1,n.push,n,t),n},classof$1=_classof,from$4=_arrayFromIterable,_collectionToJson=function(e){return function(){if(classof$1(this)!=e)throw TypeError(e+"#toJSON isn't generic");return from$4(this)}},$export$6=_export;$export$6($export$6.P+$export$6.R,"Map",{toJSON:_collectionToJson("Map")});var map$1=_core.Map,map=createCommonjsModule(function(e){e.exports={default:map$1,__esModule:!0}}),_Map=unwrapExports(map),defineProperty$5=createCommonjsModule(function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=defineProperty$1,r=n(i);t.default=function(e,t,n){return t in e?(0,r.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}}),_defineProperty=unwrapExports(defineProperty$5),fableGlobal=function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:null;return"undefined"==typeof e.__FABLE_CORE__&&(e.__FABLE_CORE__={types:new Map,symbols:{reflection:Symbol("reflection"),generics:Symbol("generics")}}),e.__FABLE_CORE__}(),_Symbol=fableGlobal.symbols,_createClass$3=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),NonDeclaredType=function(){function e(t,n,i){_classCallCheck$3(this,e),this.kind=t,this.name=n,this.generics=i||[]}return _createClass$3(e,[{key:"Equals",value:function(e){return this.kind===e.kind&&this.name===e.name&&equals(this.generics,e.generics)}}]),e}(),GenericNonDeclaredType=function(e){function t(e,n){return _classCallCheck$3(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,null,n))}return _inherits(t,e),_createClass$3(t,[{key:_Symbol.generics,value:function(){return this.generics}}]),t}(NonDeclaredType),Any=new NonDeclaredType("Any"),Unit=new NonDeclaredType("Unit"),_createClass$2=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),List$2=function(){function e(t,n){_classCallCheck$2(this,e),this.head=t,this.tail=n}return _createClass$2(e,[{key:"ToString",value:function(){return"["+Array.from(this).map(toString$2).join("; ")+"]"}},{key:"Equals",value:function(e){if(this===e)return!0;for(var t=this[Symbol.iterator](),n=e[Symbol.iterator]();;){var i=t.next(),r=n.next();if(i.done)return!!r.done;if(r.done)return!1;if(!equals(i.value,r.value))return!1}}},{key:"CompareTo",value:function(e){if(this===e)return 0;for(var t=0,n=this[Symbol.iterator](),i=e[Symbol.iterator]();;){var r=n.next(),o=i.next();if(r.done)return o.done?t:-1;if(o.done)return 1;if(t=compare(r.value,o.value),0!=t)return t}}},{key:Symbol.iterator,value:function(){var e=this;return{next:function(){var t=e;return e=e.tail,{done:null==t.tail,value:t.head}}}}},{key:_Symbol.reflection,value:function(){return{
type:"Microsoft.FSharp.Collections.FSharpList",interfaces:["System.IEquatable","System.IComparable"]}}},{key:"length",get:function(){for(var e=this,t=0;null!=e.tail;)e=e.tail,t++;return t}}]),e}(),_slicedToArray=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass$5=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),GenericComparer=function(){function e(t){_classCallCheck$5(this,e),this.Compare=t||compare}return _createClass$5(e,[{key:_Symbol.reflection,value:function(){return{interfaces:["System.IComparer"]}}}]),e}(),_createClass$4=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),MapTree=function e(t,n){_classCallCheck$4(this,e),this.Case=t,this.Fields=n},FMap=function(){function e(){_classCallCheck$4(this,e)}return _createClass$4(e,[{key:"ToString",value:function(){return"map ["+Array.from(this).map(toString$2).join("; ")+"]"}},{key:"Equals",value:function(e){return 0===this.CompareTo(e)}},{key:"CompareTo",value:function(e){var t=this;return this===e?0:compareWith(function(e,n){var i=t.comparer.Compare(e[0],n[0]);return 0!==i?i:compare(e[1],n[1])},this,e)}},{key:Symbol.iterator,value:function(){var e=tree_mkIterator$1(this.tree);return{next:function(){return tree_moveNext$1(e)}}}},{key:"entries",value:function(){return this[Symbol.iterator]()}},{key:"keys",value:function(){return map$5(function(e){return e[0]},this)}},{key:"values",value:function(){return map$5(function(e){return e[1]},this)}},{key:"get",value:function(e){return tree_find(this.comparer,e,this.tree)}},{key:"has",value:function(e){return tree_mem$1(this.comparer,e,this.tree)}},{key:"set",value:function(e,t){throw new Error("not supported")}},{key:"delete",value:function(e){throw new Error("not supported")}},{key:"clear",value:function(){throw new Error("not supported")}},{key:_Symbol.reflection,value:function(){return{type:"Microsoft.FSharp.Collections.FSharpMap",interfaces:["System.IEquatable","System.IComparable"]}}},{key:"size",get:function(){return tree_size(this.tree)}}]),e}(),_createClass$1=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),SetTree=function e(t,n){_classCallCheck$1(this,e),this.Case=t,this.Fields=n},tree_tolerance=2,FSet=function(){function e(){_classCallCheck$1(this,e)}return _createClass$1(e,[{key:"ToString",value:function(){return"set ["+Array.from(this).map(toString$2).join("; ")+"]"}},{key:"Equals",value:function(e){return 0===this.CompareTo(e)}},{key:"CompareTo",value:function(e){return this===e?0:tree_compare(this.comparer,this.tree,e.tree)}},{key:Symbol.iterator,value:function(){var e=tree_mkIterator(this.tree);return{next:function(){return tree_moveNext(e)}}}},{key:"values",value:function(){return this[Symbol.iterator]()}},{key:"has",value:function(e){return tree_mem(this.comparer,e,this.tree)}},{key:"add",value:function(e){throw new Error("not supported")}},{key:"delete",value:function(e){throw new Error("not supported")}},{key:"clear",value:function(){throw new Error("not supported")}},{key:_Symbol.reflection,value:function(){return{type:"Microsoft.FSharp.Collections.FSharpSet",interfaces:["System.IEquatable","System.IComparable"]}}},{key:"size",get:function(){return tree_count(this.tree)}}]),e}(),_typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fsFormatRegExp=/(^|[^%])%([0+ ]*)(-?\d+)?(?:\.(\d+))?(\w)/,formatRegExp=/\{(\d+)(,-?\d+)?(?:\:(.+?))?\}/g,_createClass$6=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Trampoline=function(){function e(){_classCallCheck$7(this,e),this.callCount=0}return _createClass$6(e,[{key:"incrementAndCheck",value:function(){return this.callCount++>e.maxTrampolineCallCount}},{key:"hijack",value:function(e){this.callCount=0,setTimeout(e,0)}}],[{key:"maxTrampolineCallCount",get:function(){return 2e3}}]),e}(),AsyncBuilder=function(){function e(){_classCallCheck$7(this,e)}return _createClass$6(e,[{key:"Bind",value:function(e,t){return protectedBind(e,t)}},{key:"Combine",value:function(e,t){return this.Bind(e,function(){return t})}},{key:"Delay",value:function(e){return protectedCont(function(t){return e()(t)})}},{key:"For",value:function(e,t){var n=e[Symbol.iterator](),i=n.next();return this.While(function(){return!i.done},this.Delay(function(){var e=t(i.value);return i=n.next(),e}))}},{key:"Return",value:function(e){return protectedReturn(e)}},{key:"ReturnFrom",value:function(e){return e}},{key:"TryFinally",value:function(e,t){return protectedCont(function(n){e({onSuccess:function(e){t(),n.onSuccess(e)},onError:function(e){t(),n.onError(e)},onCancel:function(e){t(),n.onCancel(e)},cancelToken:n.cancelToken,trampoline:n.trampoline})})}},{key:"TryWith",value:function(e,t){return protectedCont(function(n){e({onSuccess:n.onSuccess,onCancel:n.onCancel,cancelToken:n.cancelToken,trampoline:n.trampoline,onError:function(e){try{t(e)(n)}catch(e){n.onError(e)}}})})}},{key:"Using",value:function(e,t){return this.TryFinally(t(e),function(){return e.Dispose()})}},{key:"While",value:function(e,t){var n=this;return e()?this.Bind(t,function(){return n.While(e,t)}):this.Return(void 0)}},{key:"Zero",value:function(){return protectedCont(function(e){return e.onSuccess(void 0)})}}]),e}(),singleton$2=new AsyncBuilder,_createClass$7=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Choice=function(){function e(t,n){_classCallCheck$8(this,e),this.Case=t,this.Fields=n}return _createClass$7(e,[{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}},{key:_Symbol.reflection,value:function(){return{type:"Microsoft.FSharp.Core.FSharpChoice",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"]}}},{key:"valueIfChoice1",get:function(){return"Choice1Of2"===this.Case?this.Fields[0]:null}},{key:"valueIfChoice2",get:function(){return"Choice2Of2"===this.Case?this.Fields[0]:null}}]),e}(),Async$1=function e(){_classCallCheck$6(this,e)},defaultCancellationToken={isCancelled:!1},enabledCategories=isLocalHost()?create$3(new List$2,new GenericComparer(function(e,t){return e<t?-1:e>t?1:0})):create$3(new List$2,new GenericComparer(function(e,t){return e<t?-1:e>t?1:0})),Log=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Common.Log",properties:{}}}}],[{key:"setEnabled",value:function(e){enabledCategories=e}},{key:"event",value:function(e,t,n,i){"undefined"!=typeof logEvent&&logEvent(e,t,n,i)}},{key:"message",value:function(e,t,n){for(var i=arguments.length,r=Array(i>3?i-3:0),o=3;o<i;o++)r[o-3]=arguments[o];var s=null==r?[]:r,a=t.toLocaleUpperCase();if(isLocalHost()||"EXCEPTION"!==e||"undefined"!=typeof logEvent&&logEvent("system","exception","",{category:a,msg:n,args:s}),"EXCEPTION"===e||"ERROR"===e||enabledCategories.has(a)){var l=now(),u=function(e){return padLeft(String(e),2,"0")},c=function(e){return padLeft(String(e),4,"0")},p=fsFormat("[%s:%s:%s:%s] %s: ")(function(e){return e})(u(hour(l)))(u(minute(l)))(u(second(l)))(c(millisecond(l)))(a),h=function(){var t=null;switch(e){case"TRACE":t="color:#808080";break;case"EXCEPTION":t="color:#c00000";break;case"ERROR":t="color:#900000";break;default:t=""}return t}();console.log.apply(console,_Array$from(append$1(["%c"+p+n,h],s)))}}},{key:"trace",value:function(t,n){for(var i=arguments.length,r=Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];e.message.apply(e,["TRACE",t,n].concat(r))}},{key:"exn",value:function(t,n){for(var i=arguments.length,r=Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];e.message.apply(e,["EXCEPTION",t,n].concat(r))}},{key:"error",value:function(t,n){for(var i=arguments.length,r=Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];e.message.apply(e,["ERROR",t,n].concat(r))}}]),e}();setType("TheGamma.Common.Log",Log);var Http=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Common.Http",properties:{}}}}],[{key:"Request",value:function(e,t,n,i){return fromContinuations(function(r){var o=new XMLHttpRequest;o.open(e,t,!0);var s=function(){};if(null!=i)if(""!==i){var a=i;o.setRequestHeader("X-Cookie",a)}else s();else s();o.onreadystatechange=function(e){return o.readyState>3&&200===o.status&&r[0](o.responseText),{}},o.send(null!=n?n:"")})}}]),e}();setType("TheGamma.Common.Http",Http);var Async=function(e){var t=(e.Array=function(e){e.Parallel=function(e){e.map=function(e,t){return function(n){return n.Delay(function(){var i=new Array(t.length).fill(),r=parallel(toList(delay(function(){return map$5(function(n){return function(r){return r.Delay(function(){return r.Bind(e(t[n]),function(e){return i[n]=e,r.Zero()})})}(singleton$2)},range(0,t.length-1))})));return n.Bind(r,function(e){return n.Return(i)})})}(singleton$2)};return e}({}),e.map=function(e,t){return function(n){return n.Delay(function(){var i=new Array(t.length).fill();return n.Combine(n.For(range(0,t.length-1),function(r){return n.Bind(e(t[r]),function(e){return i[r]=e,n.Zero()})}),n.Delay(function(){return n.Return(i)}))})}(singleton$2)};return e}({}),e.collect=function(e,n){return function(i){return i.Delay(function(){return null==n.tail?i.Return(new List$2):i.Bind(e(n.head),function(r){return i.Bind(t(e,n.tail),function(e){return i.Return(append$$1(r,e))})})})}(singleton$2)}),n=e.choose=function(e,t){return function(i){return i.Delay(function(){return null==t.tail?i.Return(new List$2):i.Bind(e(t.head),function(r){return i.Bind(n(e,t.tail),function(e){return i.Return(null!=r?new List$2(r,e):e)})})})}(singleton$2)},i=e.map=function(e,t){return function(n){return n.Delay(function(){return null==t.tail?n.Return(new List$2):n.Bind(e(t.head),function(r){return n.Bind(i(e,t.tail),function(e){return n.Return(new List$2(r,e))})})})}(singleton$2)},r=e.foldMap=function(e,t,n){return function(i){return i.Delay(function(){return null==n.tail?i.Return([t,new List$2]):i.Bind(e(t)(n.head),function(t){return i.Bind(r(e,t[1],n.tail),function(e){return i.Return([e[0],new List$2(t[0],e[1])])})})})}(singleton$2)},o=e.fold=function(e,t,n){return function(i){return i.Delay(function(){return null==n.tail?i.Return(t):i.Bind(e(t)(n.head),function(t){return i.ReturnFrom(o(e,t,n.tail))})})}(singleton$2)};return e}({}),ListDictionaryNode=function(){function e(t,n){_classCallCheck(this,e),this.Result=t,this.Nested=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Common.ListDictionaryNode",interfaces:["FSharpRecord","System.IEquatable"],properties:{Result:Option(GenericParam("T")),Nested:makeGeneric(_Map,{TKey:GenericParam("K"),TValue:makeGeneric(e,{K:GenericParam("K"),T:GenericParam("T")})})}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.Common.ListDictionaryNode",ListDictionaryNode);var ListDictionaryModule=function(e){e.tryFind=function(e,t){var n=function e(t){return function(n){var i=[t,n],r=function(){return null};if(null!=i[0].tail){if(function(){var e=(i[0].tail,i[0].head),t=i[1].Nested;return t.has(e)}()){var o=i[1].Nested,s=i[0].head,a=i[0].tail;return e(a)(o.get(s))}return r()}if(null!=i[1].Result){var l=i[1].Result;return l}return r()}};return n(e)(new ListDictionaryNode(null,t))},e.set=function(e,t,n){var i=function e(n){return function(i){if(null==n.tail)throw new Error("Empty key not supported");i.has(n.head)||i.set(n.head,function(){var e=new _Map;return new ListDictionaryNode(null,e)}()),null==n.tail.tail?i.get(n.head).Result=t:e(n.tail)(i.get(n.head).Nested)}};i(e)(n)},e.count=function(e){var t=function e(t){var n=sumBy(function(t){return e(t[1])},t.Nested);return function(){return null!=t.Result}()?1+n:n};return sumBy(function(e){return t(e[1])},e)};return e}({}),List=function(e){e.groupWith=function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=_getIterator(t);!(i=(s=a.next()).done);i=!0){for(var l=s.value,u=!1,c=0;!u&&c<n.length;)e(l)(n[c][0])&&(n[c][1].push(l),u=!0),c+=1;u||n.push([l,_Array$from(ofArray([l]))])}}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return toList(map$5(function(e){return toList(e[1])},n))},e.unreduce=function(e,t){return toList(unfold(function(t){var n=e(t);return null!=n?function(e){return[e,e]}(n):n},t))};return e}({}),Position=function(){function e(t,n){_classCallCheck(this,e),this.line=t,this.column=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Babel.Position",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{line:"number",column:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Babel.Position",Position);var SourceLocation=function(){function e(t,n){_classCallCheck(this,e),this.start=t,this.end=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Babel.SourceLocation",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{start:Position,end:Position}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Babel.SourceLocation",SourceLocation);var AssignmentOperator=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Babel.AssignmentOperator",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{AssignAndBitwise:[],AssignDivide:[],AssignEqual:[],AssignMinus:[],AssignModulus:[],AssignMultiply:[],AssignOrBitwise:[],AssignPlus:[],AssignShiftLeft:[],AssignShiftRightSignPropagating:[],AssignShiftRightZeroFill:[],AssignXorBitwise:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Babel.AssignmentOperator",AssignmentOperator);var BinaryOperator=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Babel.BinaryOperator",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{BinaryAndBitwise:[],BinaryDivide:[],BinaryEqual:[],BinaryEqualStrict:[],BinaryExponent:[],BinaryGreater:[],BinaryGreaterOrEqual:[],BinaryIn:[],BinaryInstanceOf:[],BinaryLess:[],BinaryLessOrEqual:[],BinaryMinus:[],BinaryModulus:[],BinaryMultiply:[],BinaryOrBitwise:[],BinaryPlus:[],BinaryShiftLeft:[],BinaryShiftRightSignPropagating:[],BinaryShiftRightZeroFill:[],BinaryUnequal:[],BinaryUnequalStrict:[],BinaryXorBitwise:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Babel.BinaryOperator",BinaryOperator);var Pattern=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Babel.Pattern",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{IdentifierPattern:["string",Option(SourceLocation)]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Babel.Pattern",Pattern);var VariableDeclarationKind=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Babel.VariableDeclarationKind",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Const:[],Let:[],Var:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Babel.VariableDeclarationKind",VariableDeclarationKind);var VariableDeclarator=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Babel.VariableDeclarator",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{VariableDeclarator:[Pattern,Option(Expression),Option(SourceLocation)]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Babel.VariableDeclarator",VariableDeclarator);var Expression=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Babel.Expression",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{ArrayExpression:[makeGeneric(List$2,{T:e}),Option(SourceLocation)],AssignmentExpression:[AssignmentOperator,e,e,Option(SourceLocation)],BinaryExpression:[BinaryOperator,e,e,Option(SourceLocation)],BooleanLiteral:["boolean",Option(SourceLocation)],CallExpression:[e,makeGeneric(List$2,{T:e}),Option(SourceLocation)],FunctionExpression:[Option("string"),makeGeneric(List$2,{T:Pattern}),Statement,"boolean","boolean",Option(SourceLocation)],IdentifierExpression:["string",Option(SourceLocation)],MemberExpression:[e,e,"boolean",Option(SourceLocation)],NewExpression:[e,makeGeneric(List$2,{T:e}),Option(SourceLocation)],NullLiteral:[Option(SourceLocation)],NumericLiteral:["number",Option(SourceLocation)],StringLiteral:["string",Option(SourceLocation)]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Babel.Expression",Expression);var Statement=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Babel.Statement",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{BlockStatement:[makeGeneric(List$2,{T:e}),Option(SourceLocation)],EmptyStatement:[Option(SourceLocation)],ExpressionStatement:[Expression,Option(SourceLocation)],ReturnStatement:[Expression,Option(SourceLocation)],VariableDeclaration:[VariableDeclarationKind,makeGeneric(List$2,{T:VariableDeclarator}),Option(SourceLocation)]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Babel.Statement",Statement);var Program$1=function(){function e(t,n){_classCallCheck(this,e),this.location=t,this.body=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Babel.Program",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{location:Option(SourceLocation),body:makeGeneric(List$2,{T:Statement})}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Babel.Program",Program$1);var Serializer=function(e){var t=e.createObj=function(e){return createObj(concat$$1(e))},n=e.serializeBinaryOperator=function(e){return"BinaryUnequal"===e.Case?"!=":"BinaryEqualStrict"===e.Case?"===":"BinaryUnequalStrict"===e.Case?"!==":"BinaryLess"===e.Case?"<":"BinaryLessOrEqual"===e.Case?"<=":"BinaryGreater"===e.Case?">":"BinaryGreaterOrEqual"===e.Case?">=":"BinaryShiftLeft"===e.Case?"<<":"BinaryShiftRightSignPropagating"===e.Case?">>":"BinaryShiftRightZeroFill"===e.Case?">>>":"BinaryMinus"===e.Case?"-":"BinaryPlus"===e.Case?"+":"BinaryMultiply"===e.Case?"*":"BinaryDivide"===e.Case?"/":"BinaryModulus"===e.Case?"%":"BinaryExponent"===e.Case?"**":"BinaryOrBitwise"===e.Case?"|":"BinaryXorBitwise"===e.Case?"^":"BinaryAndBitwise"===e.Case?"&":"BinaryIn"===e.Case?"in":"BinaryInstanceOf"===e.Case?"instanceof":"=="},i=e.serializeAssignOperator=function(e){return"AssignMinus"===e.Case?"-=":"AssignPlus"===e.Case?"+=":"AssignMultiply"===e.Case?"*=":"AssignDivide"===e.Case?"/=":"AssignModulus"===e.Case?"%=":"AssignShiftLeft"===e.Case?"<<=":"AssignShiftRightSignPropagating"===e.Case?">>=":"AssignShiftRightZeroFill"===e.Case?">>>=":"AssignOrBitwise"===e.Case?"|=":"AssignXorBitwise"===e.Case?"^=":"AssignAndBitwise"===e.Case?"&=":"="},r=e.serializePattern=function(e){return t(ofArray([ofArray([["type","Identifier"]]),ofArray([["name",e.Fields[0]]]),function(){var t=e.Fields[1];return null!=t?ofArray([["loc",t]]):new List$2}()]))},o=e.serializeDeclarator=function(e){return t(ofArray([ofArray([["type","VariableDeclarator"]]),ofArray([["id",r(e.Fields[0])]]),function(){var t=function(){var t=e.Fields[1];return null!=t?function(e){return s(e)}(t):t}();return null!=t?ofArray([["init",t]]):new List$2}(),function(){var t=e.Fields[2];return null!=t?ofArray([["loc",t]]):new List$2}()]))},s=e.serializeExpression=function(e){return t("NewExpression"===e.Case?ofArray([ofArray([["type","NewExpression"]]),ofArray([["callee",s(e.Fields[0])]]),ofArray([["arguments",_Array$from(map$4(function(e){return s(e)},e.Fields[1]))]]),function(){var t=e.Fields[2];return null!=t?ofArray([["loc",t]]):new List$2}()]):"FunctionExpression"===e.Case?ofArray([ofArray([["type","FunctionExpression"]]),function(){var t=e.Fields[0];return null!=t?ofArray([["id",t]]):new List$2}(),ofArray([["params",_Array$from(map$4(function(e){return r(e)},e.Fields[1]))]]),ofArray([["body",a(e.Fields[2])]]),ofArray([["generator",e.Fields[3]]]),ofArray([["async",e.Fields[4]]]),function(){var t=e.Fields[5];return null!=t?ofArray([["loc",t]]):new List$2}()]):"AssignmentExpression"===e.Case?ofArray([ofArray([["type","AssignmentExpression"]]),ofArray([["left",s(e.Fields[1])]]),ofArray([["right",s(e.Fields[2])]]),ofArray([["operator",i(e.Fields[0])]]),function(){var t=e.Fields[3];return null!=t?ofArray([["loc",t]]):new List$2}()]):"CallExpression"===e.Case?ofArray([ofArray([["type","CallExpression"]]),ofArray([["callee",s(e.Fields[0])]]),ofArray([["arguments",_Array$from(map$4(function(e){return s(e)},e.Fields[1]))]]),function(){var t=e.Fields[2];return null!=t?ofArray([["loc",t]]):new List$2}()]):"MemberExpression"===e.Case?ofArray([ofArray([["type","MemberExpression"]]),ofArray([["object",s(e.Fields[0])]]),ofArray([["property",s(e.Fields[1])]]),ofArray([["computed",e.Fields[2]]]),function(){var t=e.Fields[3];return null!=t?ofArray([["loc",t]]):new List$2}()]):"BinaryExpression"===e.Case?ofArray([ofArray([["type","BinaryExpression"]]),ofArray([["left",s(e.Fields[1])]]),ofArray([["right",s(e.Fields[2])]]),ofArray([["operator",n(e.Fields[0])]]),function(){var t=e.Fields[3];return null!=t?ofArray([["loc",t]]):new List$2}()]):"ArrayExpression"===e.Case?ofArray([ofArray([["type","ArrayExpression"]]),ofArray([["elements",_Array$from(map$4(function(e){return s(e)},e.Fields[0]))]]),function(){var t=e.Fields[1];return null!=t?ofArray([["loc",t]]):new List$2}()]):"NullLiteral"===e.Case?ofArray([ofArray([["type","NullLiteral"]]),function(){var t=e.Fields[0];return null!=t?ofArray([["loc",t]]):new List$2}()]):"StringLiteral"===e.Case?ofArray([ofArray([["type","StringLiteral"]]),ofArray([["value",e.Fields[0]]]),function(){var t=e.Fields[1];return null!=t?ofArray([["loc",t]]):new List$2}()]):"BooleanLiteral"===e.Case?ofArray([ofArray([["type","BooleanLiteral"]]),ofArray([["value",e.Fields[0]]]),function(){var t=e.Fields[1];return null!=t?ofArray([["loc",t]]):new List$2}()]):"NumericLiteral"===e.Case?ofArray([ofArray([["type","NumericLiteral"]]),ofArray([["value",e.Fields[0]]]),function(){var t=e.Fields[1];return null!=t?ofArray([["loc",t]]):new List$2}()]):ofArray([ofArray([["type","Identifier"]]),ofArray([["name",e.Fields[0]]]),function(){var t=e.Fields[1];return null!=t?ofArray([["loc",t]]):new List$2}()]))},a=e.serializeStatement=function(e){return"BlockStatement"===e.Case?t(ofArray([ofArray([["type","BlockStatement"]]),function(){var t=e.Fields[1];return null!=t?ofArray([["loc",t]]):new List$2}(),ofArray([["body",_Array$from(map$4(function(e){return a(e)},e.Fields[0]))]])])):"EmptyStatement"===e.Case?t(ofArray([ofArray([["type","EmptyStatement"]]),function(){var t=e.Fields[0];return null!=t?ofArray([["loc",t]]):new List$2}()])):"ReturnStatement"===e.Case?t(ofArray([ofArray([["type","ReturnStatement"]]),function(){var t=e.Fields[1];return null!=t?ofArray([["loc",t]]):new List$2}(),ofArray([["argument",s(e.Fields[0])]])])):"VariableDeclaration"===e.Case?function(){var n="Let"===e.Fields[0].Case?"let":"Const"===e.Fields[0].Case?"const":"var";return t(ofArray([ofArray([["type","VariableDeclaration"]]),ofArray([["kind",n]]),ofArray([["declarations",_Array$from(map$4(function(e){return o(e)},e.Fields[1]))]]),function(){var t=e.Fields[2];return null!=t?ofArray([["loc",t]]):new List$2}()]))}():t(ofArray([ofArray([["type","ExpressionStatement"]]),function(){var t=e.Fields[1];return null!=t?ofArray([["loc",t]]):new List$2}(),ofArray([["expression",s(e.Fields[0])]])]))};e.serializeProgram=function(e){return t(ofArray([ofArray([["type","Program"]]),function(){var t=e.location;return null!=t?ofArray([["loc",t]]):new List$2}(),ofArray([["sourceType","module"]]),ofArray([["body",_Array$from(map$4(function(e){return a(e)},e.body))]]),ofArray([["directives",[]]])]))};return e}({}),_Range=function(){function e(t,n){_classCallCheck(this,e),this.Start=t,this.End=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Range",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{Start:"number",End:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Range",_Range);var _Error=function(){function e(t,n,i){_classCallCheck(this,e),this.Number=t,this.Message=n,this.Range=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Error",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{Number:"number",Message:"string",Range:GenericParam("Range")}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Error",_Error);var Operator=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Operator",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Divide:[],Equals:[],GreaterThan:[],GreaterThanOrEqual:[],LessThan:[],LessThanOrEqual:[],Minus:[],Multiply:[],Plus:[],Power:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Operator",Operator);var TokenKind=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TokenKind",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Arrow:[],Boolean:["boolean"],By:[],Comma:[],Dot:[],EndOfFile:[],Equals:[],Error:["string"],Fun:[],Ident:["string"],LParen:[],LSquare:[],Let:[],Newline:[],Number:["string","number"],Operator:[Operator],QIdent:["string"],RParen:[],RSquare:[],String:["string"],To:[],White:["string"]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.TokenKind",TokenKind);var Token=function(){function e(t,n){_classCallCheck(this,e),this.Token=t,this.Range=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Token",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{Token:TokenKind,Range:_Range}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Token",Token);var Emitter=function(){function e(t){_classCallCheck(this,e),this.Emit=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Emitter",interfaces:["FSharpRecord"],properties:{Emit:"function"}}}}]),e}();setType("TheGamma.Emitter",Emitter);var Metadata=function(){function e(t,n,i){_classCallCheck(this,e),this.Context=t,this.Type=n,this.Data=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Metadata",interfaces:["FSharpRecord","System.IEquatable"],properties:{Context:"string",Type:"string",Data:Any}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.Metadata",Metadata);var Documentation=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Documentation",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Details:["string","string"],None:[],Text:["string"]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Documentation",Documentation);var Member=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Member",interfaces:["FSharpUnion"],cases:{Method:["string",makeGeneric(List$2,{T:Tuple(["string","boolean",Type])}),Type,makeGeneric(List$2,{T:Metadata}),Emitter],Property:["string",Type,makeGeneric(List$2,{T:Metadata}),Emitter]}}}},{key:"Name",get:function(){var e=function(e){return e};return e("Method"===this.Case?this.Fields[0]:this.Fields[0])}}]),e}();setType("TheGamma.Member",Member);var ObjectType=function(){function e(t){_classCallCheck(this,e),this.Members=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.ObjectType",interfaces:["FSharpRecord"],properties:{Members:FArray(Member)}}}}]),e}();setType("TheGamma.ObjectType",ObjectType);var PrimitiveType=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.PrimitiveType",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Bool:[],Number:[],String:[],Unit:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.PrimitiveType",PrimitiveType);var Type=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{
type:"TheGamma.Type",interfaces:["FSharpUnion"],cases:{Any:[],App:[e,makeGeneric(List$2,{T:e})],Delayed:["string",Interface("TheGamma.Common.Future")],Forall:[makeGeneric(List$2,{T:"string"}),e],Function:[makeGeneric(List$2,{T:e}),e],List:[e],Object:[ObjectType],Parameter:["string"],Primitive:[PrimitiveType]}}}}]),e}();setType("TheGamma.Type",Type);var Name=function(){function e(t){_classCallCheck(this,e),this.Name=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Name",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{Name:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Name",Name);var Constant=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Constant",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Boolean:["boolean"],Empty:[],Number:["number"],String:["string"]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Constant",Constant);var EntityKind=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.EntityKind",interfaces:["FSharpUnion"],cases:{ArgumentList:[makeGeneric(List$2,{T:Entity})],Binding:[Name,Entity],CallSite:[Entity,Name,Choice],ChainElement:["boolean",Name,Entity,Option(Entity),Option(Entity)],Constant:[Constant],Function:[Entity,Entity],GlobalValue:[Name,Option(Expression)],LetCommand:[Entity,Entity],List:[makeGeneric(List$2,{T:Entity})],NamedMember:[Name,Entity],NamedParam:[Name,Entity],Operator:[Entity,Operator,Entity],Program:[makeGeneric(List$2,{T:Entity})],Root:[],RunCommand:[Entity],Variable:[Name,Entity]}}}}]),e}();setType("TheGamma.EntityKind",EntityKind);var Entity=function(){function e(t,n,i,r,o,s){_classCallCheck(this,e),this.Kind=t,this.Symbol=n,this.Value=i,this.Meta=r,this.Type=o,this.Errors=s}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Entity",interfaces:["FSharpRecord"],properties:{Kind:EntityKind,Symbol:Interface("TheGamma.Common.Symbol"),Value:Option(EntityValue),Meta:makeGeneric(List$2,{T:Metadata}),Type:Option(Type),Errors:makeGeneric(List$2,{T:makeGeneric(_Error,{Range:_Range})})}}}}]),e}();setType("TheGamma.Entity",Entity);var EntityValue=function(){function e(t,n){_classCallCheck(this,e),this.Value=t,this.Preview=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.EntityValue",interfaces:["FSharpRecord","System.IEquatable"],properties:{Value:Interface("TheGamma.RuntimeValue"),Preview:Any}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.EntityValue",EntityValue);var _Node=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.WhiteBefore=t,this.WhiteAfter=n,this.Range=i,this.Node=r,this.Entity=o}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Node",interfaces:["FSharpRecord"],properties:{WhiteBefore:makeGeneric(List$2,{T:Token}),WhiteAfter:makeGeneric(List$2,{T:Token}),Range:_Range,Node:GenericParam("T"),Entity:Option(Entity)}}}}]),e}();setType("TheGamma.Node",_Node);var Argument=function(){function e(t,n){_classCallCheck(this,e),this.Name=t,this.Value=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Argument",interfaces:["FSharpRecord"],properties:{Name:Option(makeGeneric(_Node,{T:Name})),Value:makeGeneric(_Node,{T:Expr})}}}}]),e}();setType("TheGamma.Argument",Argument);var Program$$1=function(){function e(t){_classCallCheck(this,e),this.Body=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Program",interfaces:["FSharpRecord"],properties:{Body:makeGeneric(_Node,{T:makeGeneric(List$2,{T:makeGeneric(_Node,{T:Command})})})}}}}]),e}();setType("TheGamma.Program",Program$$1);var Command=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Command",interfaces:["FSharpUnion"],cases:{Expr:[makeGeneric(_Node,{T:Expr})],Let:[makeGeneric(_Node,{T:Name}),makeGeneric(_Node,{T:Expr})]}}}}]),e}();setType("TheGamma.Command",Command);var Expr=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Expr",interfaces:["FSharpUnion"],cases:{Binary:[makeGeneric(_Node,{T:e}),makeGeneric(_Node,{T:Operator}),makeGeneric(_Node,{T:e})],Boolean:["boolean"],Call:[Option(makeGeneric(_Node,{T:e})),makeGeneric(_Node,{T:Name}),makeGeneric(_Node,{T:makeGeneric(List$2,{T:Argument})})],Empty:[],Function:[makeGeneric(_Node,{T:Name}),makeGeneric(_Node,{T:e})],List:[makeGeneric(List$2,{T:makeGeneric(_Node,{T:e})})],Number:["number"],Property:[makeGeneric(_Node,{T:e}),makeGeneric(_Node,{T:Name})],String:["string"],Variable:[makeGeneric(_Node,{T:Name})]}}}}]),e}();setType("TheGamma.Expr",Expr);var f$1=_wks,_wksExt={f:f$1},iterator$2=_wksExt.f("iterator"),iterator=createCommonjsModule(function(e){e.exports={default:iterator$2,__esModule:!0}}),global$7=_global,core$3=_core,LIBRARY$1=_library,wksExt$1=_wksExt,defineProperty$6=_objectDp.f,_wksDefine=function(e){var t=core$3.Symbol||(core$3.Symbol=LIBRARY$1?{}:global$7.Symbol||{});"_"==e.charAt(0)||e in t||defineProperty$6(t,e,{value:wksExt$1.f(e)})},getKeys$1=_objectKeys,toIObject$4=_toIobject,_keyof=function(e,t){for(var n,i=toIObject$4(e),r=getKeys$1(i),o=r.length,s=0;o>s;)if(i[n=r[s++]]===t)return n},f$2=Object.getOwnPropertySymbols,_objectGops={f:f$2},f$3={}.propertyIsEnumerable,_objectPie={f:f$3},getKeys$2=_objectKeys,gOPS=_objectGops,pIE=_objectPie,_enumKeys=function(e){var t=getKeys$2(e),n=gOPS.f;if(n)for(var i,r=n(e),o=pIE.f,s=0;r.length>s;)o.call(e,i=r[s++])&&t.push(i);return t},$keys$3=_objectKeysInternal,hiddenKeys=_enumBugKeys.concat("length","prototype"),f$5=Object.getOwnPropertyNames||function(e){return $keys$3(e,hiddenKeys)},_objectGopn={f:f$5},toIObject$5=_toIobject,gOPN$1=_objectGopn.f,toString$3={}.toString,windowNames="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],getWindowNames=function(e){try{return gOPN$1(e)}catch(e){return windowNames.slice()}},f$4=function(e){return windowNames&&"[object Window]"==toString$3.call(e)?getWindowNames(e):gOPN$1(toIObject$5(e))},_objectGopnExt={f:f$4},pIE$1=_objectPie,createDesc$3=_propertyDesc,toIObject$6=_toIobject,toPrimitive$2=_toPrimitive,has$6=_has,IE8_DOM_DEFINE$1=_ie8DomDefine,gOPD$1=Object.getOwnPropertyDescriptor,f$6=_descriptors?gOPD$1:function(e,t){if(e=toIObject$6(e),t=toPrimitive$2(t,!0),IE8_DOM_DEFINE$1)try{return gOPD$1(e,t)}catch(e){}if(has$6(e,t))return createDesc$3(!pIE$1.f.call(e,t),e[t])},_objectGopd={f:f$6},global$6=_global,has$5=_has,DESCRIPTORS$3=_descriptors,$export$7=_export,redefine$1=_redefine,META=_meta.KEY,$fails=_fails,shared$1=_shared,setToStringTag$3=_setToStringTag,uid$1=_uid,wks=_wks,wksExt=_wksExt,wksDefine=_wksDefine,keyOf=_keyof,enumKeys=_enumKeys,isArray$3=_isArray,anObject$5=_anObject,toIObject$3=_toIobject,toPrimitive$1=_toPrimitive,createDesc$2=_propertyDesc,_create=_objectCreate,gOPNExt=_objectGopnExt,$GOPD=_objectGopd,$DP=_objectDp,$keys$2=_objectKeys,gOPD=$GOPD.f,dP$6=$DP.f,gOPN=gOPNExt.f,$Symbol=global$6.Symbol,$JSON=global$6.JSON,_stringify=$JSON&&$JSON.stringify,PROTOTYPE$2="prototype",HIDDEN=wks("_hidden"),TO_PRIMITIVE=wks("toPrimitive"),isEnum={}.propertyIsEnumerable,SymbolRegistry=shared$1("symbol-registry"),AllSymbols=shared$1("symbols"),OPSymbols=shared$1("op-symbols"),ObjectProto$1=Object[PROTOTYPE$2],USE_NATIVE="function"==typeof $Symbol,QObject=global$6.QObject,setter=!QObject||!QObject[PROTOTYPE$2]||!QObject[PROTOTYPE$2].findChild,setSymbolDesc=DESCRIPTORS$3&&$fails(function(){return 7!=_create(dP$6({},"a",{get:function(){return dP$6(this,"a",{value:7}).a}})).a})?function(e,t,n){var i=gOPD(ObjectProto$1,t);i&&delete ObjectProto$1[t],dP$6(e,t,n),i&&e!==ObjectProto$1&&dP$6(ObjectProto$1,t,i)}:dP$6,wrap=function(e){var t=AllSymbols[e]=_create($Symbol[PROTOTYPE$2]);return t._k=e,t},isSymbol=USE_NATIVE&&"symbol"==typeof $Symbol.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof $Symbol},$defineProperty$1=function(e,t,n){return e===ObjectProto$1&&$defineProperty$1(OPSymbols,t,n),anObject$5(e),t=toPrimitive$1(t,!0),anObject$5(n),has$5(AllSymbols,t)?(n.enumerable?(has$5(e,HIDDEN)&&e[HIDDEN][t]&&(e[HIDDEN][t]=!1),n=_create(n,{enumerable:createDesc$2(0,!1)})):(has$5(e,HIDDEN)||dP$6(e,HIDDEN,createDesc$2(1,{})),e[HIDDEN][t]=!0),setSymbolDesc(e,t,n)):dP$6(e,t,n)},$defineProperties=function(e,t){anObject$5(e);for(var n,i=enumKeys(t=toIObject$3(t)),r=0,o=i.length;o>r;)$defineProperty$1(e,n=i[r++],t[n]);return e},$create=function(e,t){return void 0===t?_create(e):$defineProperties(_create(e),t)},$propertyIsEnumerable=function(e){var t=isEnum.call(this,e=toPrimitive$1(e,!0));return!(this===ObjectProto$1&&has$5(AllSymbols,e)&&!has$5(OPSymbols,e))&&(!(t||!has$5(this,e)||!has$5(AllSymbols,e)||has$5(this,HIDDEN)&&this[HIDDEN][e])||t)},$getOwnPropertyDescriptor=function(e,t){if(e=toIObject$3(e),t=toPrimitive$1(t,!0),e!==ObjectProto$1||!has$5(AllSymbols,t)||has$5(OPSymbols,t)){var n=gOPD(e,t);return!n||!has$5(AllSymbols,t)||has$5(e,HIDDEN)&&e[HIDDEN][t]||(n.enumerable=!0),n}},$getOwnPropertyNames=function(e){for(var t,n=gOPN(toIObject$3(e)),i=[],r=0;n.length>r;)has$5(AllSymbols,t=n[r++])||t==HIDDEN||t==META||i.push(t);return i},$getOwnPropertySymbols=function(e){for(var t,n=e===ObjectProto$1,i=gOPN(n?OPSymbols:toIObject$3(e)),r=[],o=0;i.length>o;)!has$5(AllSymbols,t=i[o++])||n&&!has$5(ObjectProto$1,t)||r.push(AllSymbols[t]);return r};USE_NATIVE||($Symbol=function(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor!");var e=uid$1(arguments.length>0?arguments[0]:void 0),t=function(n){this===ObjectProto$1&&t.call(OPSymbols,n),has$5(this,HIDDEN)&&has$5(this[HIDDEN],e)&&(this[HIDDEN][e]=!1),setSymbolDesc(this,e,createDesc$2(1,n))};return DESCRIPTORS$3&&setter&&setSymbolDesc(ObjectProto$1,e,{configurable:!0,set:t}),wrap(e)},redefine$1($Symbol[PROTOTYPE$2],"toString",function(){return this._k}),$GOPD.f=$getOwnPropertyDescriptor,$DP.f=$defineProperty$1,_objectGopn.f=gOPNExt.f=$getOwnPropertyNames,_objectPie.f=$propertyIsEnumerable,_objectGops.f=$getOwnPropertySymbols,DESCRIPTORS$3&&!_library&&redefine$1(ObjectProto$1,"propertyIsEnumerable",$propertyIsEnumerable,!0),wksExt.f=function(e){return wrap(wks(e))}),$export$7($export$7.G+$export$7.W+$export$7.F*!USE_NATIVE,{Symbol:$Symbol});for(var symbols="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),i$1=0;symbols.length>i$1;)wks(symbols[i$1++]);for(var symbols=$keys$2(wks.store),i$1=0;symbols.length>i$1;)wksDefine(symbols[i$1++]);$export$7($export$7.S+$export$7.F*!USE_NATIVE,"Symbol",{for:function(e){return has$5(SymbolRegistry,e+="")?SymbolRegistry[e]:SymbolRegistry[e]=$Symbol(e)},keyFor:function(e){if(isSymbol(e))return keyOf(SymbolRegistry,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){setter=!0},useSimple:function(){setter=!1}}),$export$7($export$7.S+$export$7.F*!USE_NATIVE,"Object",{create:$create,defineProperty:$defineProperty$1,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols}),$JSON&&$export$7($export$7.S+$export$7.F*(!USE_NATIVE||$fails(function(){var e=$Symbol();return"[null]"!=_stringify([e])||"{}"!=_stringify({a:e})||"{}"!=_stringify(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!isSymbol(e)){for(var t,n,i=[e],r=1;arguments.length>r;)i.push(arguments[r++]);return t=i[1],"function"==typeof t&&(n=t),!n&&isArray$3(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!isSymbol(t))return t}),i[1]=t,_stringify.apply($JSON,i)}}}),$Symbol[PROTOTYPE$2][TO_PRIMITIVE]||_hide($Symbol[PROTOTYPE$2],TO_PRIMITIVE,$Symbol[PROTOTYPE$2].valueOf),setToStringTag$3($Symbol,"Symbol"),setToStringTag$3(Math,"Math",!0),setToStringTag$3(global$6.JSON,"JSON",!0),_wksDefine("asyncIterator"),_wksDefine("observable");var index=_core.Symbol,symbol=createCommonjsModule(function(e){e.exports={default:index,__esModule:!0}}),_Symbol2=unwrapExports(symbol),_typeof_1=createCommonjsModule(function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=iterator,r=n(i),o=symbol,s=n(o),a="function"==typeof s.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":typeof e};t.default="function"==typeof s.default&&"symbol"===a(r.default)?function(e){return"undefined"==typeof e?"undefined":a(e)}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":"undefined"==typeof e?"undefined":a(e)}}),_typeof$2=unwrapExports(_typeof_1),ProvidedType=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.ProvidedType",interfaces:["FSharpUnion"],cases:{GlobalValue:["string",makeGeneric(List$2,{T:Metadata}),Expression,Type],NamedType:["string",makeGeneric(List$2,{T:"string"}),Type]}}}}]),e}();setType("TheGamma.TypeProviders.ProvidedType",ProvidedType);var ProviderHelpers=function(e){e.docMeta=function(e){return new Metadata("http://thegamma.net","Documentation",e)};return e}({}),FSharpProvider=function(e){var t=e.AnyType=function(){function e(t){_classCallCheck(this,e),this.kind=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.FSharpProvider.AnyType",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{kind:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.FSharpProvider.AnyType",t);var n=e.GenericParameterType=function(){function e(t,n){_classCallCheck(this,e),this.kind=t,this.name=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.FSharpProvider.GenericParameterType",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{kind:"string",name:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.FSharpProvider.GenericParameterType",n);var i=e.ArrayType=function(){function e(t,n){_classCallCheck(this,e),this.kind=t,this.element=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.FSharpProvider.ArrayType",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{kind:"string",element:t}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.FSharpProvider.ArrayType",i);var r=e.PrimitiveType=function(){function e(t,n){_classCallCheck(this,e),this.kind=t,this.name=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.FSharpProvider.PrimitiveType",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{kind:"string",name:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.FSharpProvider.PrimitiveType",r);var o=e.FunctionType=function(){function e(t,n,i){_classCallCheck(this,e),this.kind=t,this.arguments=n,this.returns=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.FSharpProvider.FunctionType",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{kind:"string",arguments:FArray(t),returns:t}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.FSharpProvider.FunctionType",o);var s=e.NamedType=function(){function e(t,n,i){_classCallCheck(this,e),this.kind=t,this.name=n,this.typargs=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.FSharpProvider.NamedType",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{kind:"string",name:"string",typargs:FArray(t)}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.FSharpProvider.NamedType",s);var a=e.Member=function(){function e(t){_classCallCheck(this,e),this.kind=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.FSharpProvider.Member",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{kind:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.FSharpProvider.Member",a);var l=e.Argument=function(){function e(t,n,i){_classCallCheck(this,e),this.name=t,this.optional=n,this.type=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.FSharpProvider.Argument",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{name:"string",optional:"boolean",type:t}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.FSharpProvider.Argument",l);var u=e.MethodMember=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.kind=t,this.name=n,this.typepars=i,this.arguments=r,this.returns=o}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.FSharpProvider.MethodMember",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{kind:"string",name:"string",typepars:FArray(t),arguments:FArray(l),returns:t}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.FSharpProvider.MethodMember",u);var c=e.PropertyMember=function(){function e(t,n,i){_classCallCheck(this,e),this.kind=t,this.name=n,this.returns=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.FSharpProvider.PropertyMember",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{kind:"string",name:"string",returns:t}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.FSharpProvider.PropertyMember",c);var p=e.ExportedType=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.name=t,this.typepars=n,this.static=i,this.instance=r,this.members=o}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.FSharpProvider.ExportedType",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{name:"string",typepars:FArray(t),static:"boolean",instance:FArray("string"),members:FArray(a)}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.FSharpProvider.ExportedType",p);e.provideFSharpTypes=function(e,t){var n=function t(n){var i=null;switch(n.kind){case"primitive":var r=n.name,o=null;switch(r){case"object":o=new Type("Any",[]);break;case"int":case"float":o=new Type("Primitive",[new PrimitiveType("Number",[])]);break;case"string":o=new Type("Primitive",[new PrimitiveType("String",[])]);break;case"bool":o=new Type("Primitive",[new PrimitiveType("Bool",[])]);break;case"unit":o=new Type("Primitive",[new PrimitiveType("Unit",[])]);break;default:throw new Error("provideFSharpType: Unsupported type: "+r)}i=o;break;case"function":var s=n;i=new Type("Function",[toList(s.arguments.map(t)),t(s.returns)]);break;case"named":var a=n;i=e(a.name)(ofArray(a.typargs.map(t)));break;case"parameter":i=new Type("Parameter",[n.name]);break;case"array":i=new Type("List",[t(n.element)]);break;default:throw new Error("provideFSharpType: Unexpected type")}return i},i=function(e){return ofArray(e.map(function(e){var t=n(e);if("Parameter"===t.Case)return t.Fields[0];throw new Error("importProvidedType: expected type parameter")}))},r=function(e){return function(e){return function(t){return Async_CreateNamedFuture_Static(e,t)}}(e.name)(function(t){return t.Delay(function(){var r=_Array$from(choose$1(function(e){return"method"===e.kind?function(){var t=e,r=toList(delay(function(){return map$5(function(e){return[e.name,e.optional,n(e.type)]},t.arguments)})),o=new Emitter(function(e){return new Expression("CallExpression",[new Expression("MemberExpression",[e[0],new Expression("IdentifierExpression",[t.name,null]),!1,null]),e[1],null])}),s=function(){var e=i(t.typepars);return null==e.tail?n(t.returns):new Type("Forall",[e,n(t.returns)])}();return new Member("Method",[t.name,r,s,ofArray([ProviderHelpers.docMeta(new Documentation("Text",[""]))]),o])}():null},e.members)),o=i(e.typepars);if(null==o.tail)return t.Return(new Type("Object",[new ObjectType(r)]));var s=new Type("Object",[new ObjectType(r)]);return t.Return(new Type("Forall",[o,s]))})}(singleton$2))};return function(e){return e.Delay(function(){return e.Bind(Http.Request("GET",t),function(n){var o=JSON.parse(n);return e.Return(toList(delay(function(){return map$5(function(e){var n=t+","+e.name,o=new Type("Delayed",[n,r(e)]);if(e.static){var s=fold$1(function(e,t){return null!=e?new Expression("MemberExpression",[e,new Expression("IdentifierExpression",[t,null]),!1,null]):new Expression("IdentifierExpression",[t,null])},null,e.instance),a=function(){var t=i(e.typepars);return null==t.tail?o:new Type("App",[o,toList(delay(function(){return map$5(function(e){return new Type("Any",[])},t)}))])}();return new ProvidedType("GlobalValue",[e.name,new List$2,s,a])}return new ProvidedType("NamedType",[e.name,i(e.typepars),o])},o)})))})})}(singleton$2)};return e}({}),RestProvider=function(e){var t=e.AnyType=function(){function e(t){_classCallCheck(this,e),this.kind=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.RestProvider.AnyType",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{kind:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.RestProvider.AnyType",t);var n=e.TypeNested=function(){function e(t,n){_classCallCheck(this,e),this.kind=t,this.endpoint=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.RestProvider.TypeNested",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{kind:"string",endpoint:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.RestProvider.TypeNested",n);var i=e.TypePrimitive=function(){function e(t,n,i){_classCallCheck(this,e),this.kind=t,this.type=n,this.endpoint=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.RestProvider.TypePrimitive",interfaces:["FSharpRecord","System.IEquatable"],properties:{kind:"string",type:Any,endpoint:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.RestProvider.TypePrimitive",i);var r=e.Parameter=function(){function e(t,n){_classCallCheck(this,e),this.name=t,this.type=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.RestProvider.Parameter",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{name:"string",type:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.RestProvider.Parameter",r);var o=e.Documentation=function(){function e(t,n){_classCallCheck(this,e),this.title=t,this.details=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.RestProvider.Documentation",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{title:Option("string"),details:Option("string")}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.RestProvider.Documentation",o);var s=e.Member=function(){function e(t,n,i,r,o,s){_classCallCheck(this,e),this.name=t,this.returns=n,this.parameters=i,this.documentation=r,this.schema=o,this.trace=s}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.RestProvider.Member",interfaces:["FSharpRecord","System.IEquatable"],properties:{name:"string",returns:t,parameters:Option(FArray(r)),documentation:Option(Any),schema:Option(Any),trace:FArray("string")}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.RestProvider.Member",s);var a=e.ResultType=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.RestProvider.ResultType",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Generic:["string",FArray(e)],Primitive:["string"],Record:[FArray(Tuple(["string",e]))]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.TypeProviders.RestProvider.ResultType",a);var l=e.RawField=function(){function e(t,n){_classCallCheck(this,e),this.name=t,this.type=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.RestProvider.RawField",interfaces:["FSharpRecord","System.IEquatable"],properties:{name:"string",type:Any}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.RestProvider.RawField",l);var u=e.RawResultType=function(){function e(t,n,i){_classCallCheck(this,e),this.name=t,this.fields=n,this.params=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.RestProvider.RawResultType",interfaces:["FSharpRecord","System.IEquatable"],properties:{name:"string",fields:FArray(l),params:FArray(Any)}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.RestProvider.RawResultType",u);var c=e.parseDoc=function(e){return function(){return null==e}()?new Documentation("None",[]):"string"==typeof e?new Documentation("Text",[e]):function(){var t=e,n=[t.title,t.details],i=function(){return new Documentation("None",[])};if(null!=n[0]){if(null!=n[1]){var r=n[1],o=n[0];return new Documentation("Details",[o,r])}return i()}return i()}()},p=e.fromRawType=function(e){return"string"==typeof e?new a("Primitive",[e]):function(){var t=e;return"record"===t.name?new a("Record",[t.fields.map(function(e){return[e.name,p(e.type)]})]):new a("Generic",[t.name,_Array$from(map$5(function(e){return p(e)},t.params))])}()},h=e.load=function(e,t){return function(n){return n.Delay(function(){return n.Bind(Http.Request("GET",e,null,t),function(e){var t=JSON.parse(e);return n.Return(t)})})}(singleton$2)},f=e.trimLeft=function(e,t){return _Array$from(skipWhile(function(t){return e===t},t.split(""))).join("")},d=e.trimRight=function(e,t){return _Array$from(skipWhile(function(t){return e===t},t.split("").slice().reverse())).slice().reverse().join("")},y=e.concatUrl=function(e,t){return d("/",e)+"/"+f("/",t)},m=e.addTraceCall=function(e,t){return isEmpty$1(t)?e:function(){var n=new Expression("StringLiteral",[join("&",t),null]),i=new Expression("MemberExpression",[e,new Expression("IdentifierExpression",["addTrace",null]),!1,null]);return new Expression("CallExpression",[i,ofArray([n]),null])}()},g=e.propAccess=function(e){return new Emitter(function(t){return m(t[0],e)})},v=e.methCall=function(e,t){return new Emitter(function(n){var i=m(n[0],t);return function(){var e=function(e){return function(t){var n=new Expression("BinaryExpression",[new BinaryOperator("BinaryPlus",[]),new Expression("StringLiteral",[t[0]+"=",null]),t[1],null]),i=new Expression("MemberExpression",[e,new Expression("IdentifierExpression",["addTrace",null]),!1,null]);return new Expression("CallExpression",[i,ofArray([n]),null])}};return function(t){return fold$1(function(t,n){return e(t)(n)},i,t)}}()(zip(e,n[1]))})},C=e.dataCall=function(e,t,n){return new Emitter(function(i){var r=g(t).Emit([i[0],i[1]]),o=new Expression("MemberExpression",[r,new Expression("IdentifierExpression",["getValue",null]),!1,null]);return e(new Expression("CallExpression",[o,ofArray([new Expression("StringLiteral",[n,null])]),null]))})},T=e.ident=function(e){return new Expression("IdentifierExpression",[e,null])},b=e.str=function(e){return new Expression("StringLiteral",[e,null])},w=e.op_Dynamic=function(e,t){return new Expression("MemberExpression",[e,new Expression("IdentifierExpression",[t,null]),!1,null])},$=e.op_DivideAtDivide=function(e,t){return new Expression("CallExpression",[e,t,null])},S=e.func=function(e,t){var n=new Statement("BlockStatement",[ofArray([new Statement("ReturnStatement",[t(T(e)),null])]),null]);return new Expression("FunctionExpression",[null,ofArray([new Pattern("IdentifierPattern",[e,null])]),n,!1,!1,null])},_=e.getTypeAndEmitter=function(e,t){var n=function(){return[new Type("Primitive",[new PrimitiveType("Number",[])]),function(e){return new Expression("CallExpression",[new Expression("IdentifierExpression",["Number",null]),ofArray([e]),null])}]},i=function(t){var n=_(e,t),i=e("series")(ofArray([new Type("Primitive",[new PrimitiveType("Number",[])]),n[0]]));return[i,function(e){return $(w(T("series"),"ordinal"),ofArray([$(T("convertSequence"),ofArray([S("v",n[1]),e])),b("key"),b("value"),b("")]))}]},r=function(){throw console.log("getTypeAndEmitter: Cannot handle %O",t),new Error("getTypeAndEmitter: Cannot handle type")};if("Generic"!==t.Case){if("Record"===t.Case){var o=t.Fields[0],s=o.map(function(t){var n=_(e,t[1]),i=new Emitter(function(e){return n[1](w(e[0],t[0]))});return new Member("Property",[t[0],n[0],ofArray([ProviderHelpers.docMeta(new Documentation("Text",[""]))]),i])}),a=new Type("Object",[new ObjectType(s)]);return[a,function(e){return e}]}return"string"===t.Fields[0]?[new Type("Primitive",[new PrimitiveType("String",[])]),function(e){return e}]:"int"===t.Fields[0]?n():"float"===t.Fields[0]?n():r()}if("seq"!==t.Fields[0])return r();if(1!==t.Fields[1].length)return r();if("Generic"!==t.Fields[1][0].Case)return i(t.Fields[1][0]);if("tuple"!==t.Fields[1][0].Fields[0])return i(t.Fields[1][0]);if(!function(){var e=t.Fields[1][0].Fields[1];return 2===e.length}())return i(t.Fields[1][0]);var l=t.Fields[1][0].Fields[1][0],u=t.Fields[1][0].Fields[1][1],c=function(){
var t=_(e,l),n=_(e,u),i=e("series")(ofArray([t[0],n[0]]));return{v:[i,function(e){return $(w(T("series"),"create"),ofArray([$(T("convertTupleSequence"),ofArray([S("v",t[1]),S("v",n[1]),e])),b("key"),b("value"),b("")]))}]}}();return"object"===("undefined"==typeof c?"undefined":_typeof$2(c))?c.v:void 0},k=e.mapParamType=function(e){var t=null;switch(e){case"int":case"float":t=new PrimitiveType("Number",[]);break;default:throw new Error("mapParamType: Unsupported parameter type")}return t},x=e.restTypeCache=new _Map,E=e.createRestType=function(e,t,n,i){var r=y(t,i)+n,o=tryGetValue(x,r);if(o[0])return o[1];var s=function(r){return r.Delay(function(){return r.Bind(h(y(t,i),n),function(i){return r.Return(new Type("Object",[new ObjectType(i.map(function(i){var r=null!=i.schema?ofArray([function(){var e=i.schema["@type"];return new Metadata("http://schema.org",e,i.schema)}()]):new List$2,o=i.returns.kind,s=null;switch(o){case"nested":var a=i.returns,l=E(e,t,n,a.endpoint);if(null==i.parameters)s=new Member("Property",[i.name,l,new List$2(ProviderHelpers.docMeta(c(i.documentation)),r),g(i.trace)]);else{var u=toList(delay(function(){return map$5(function(e){return[e.name,!1,new Type("Primitive",[k(e.type)])]},i.parameters)})),h=toList(delay(function(){return map$5(function(e){return e.name},i.parameters)}));s=new Member("Method",[i.name,u,l,ofArray([ProviderHelpers.docMeta(c(i.documentation))]),v(h,i.trace)])}break;case"primitive":var f=i.returns,d=p(f.type),y=_(e,d);s=new Member("Property",[i.name,y[0],new List$2(ProviderHelpers.docMeta(c(i.documentation)),r),C(y[1],i.trace,f.endpoint)]);break;default:throw new Error("?")}return s}))]))})})}(singleton$2),a=new Type("Delayed",[r,function(e){return function(t){return Async_CreateNamedFuture_Static(e,t)}}(r)(s)]);return x.set(r,a),a};e.provideRestType=function(e,t,n,i){var r=T("RuntimeContext");return new ProvidedType("GlobalValue",[t,new List$2,new Expression("NewExpression",[r,ofArray([b(n),b(i),b("")]),null]),E(e,n,i,"/")])};return e}({}),SeriesInternals=function(e){var t=(e.slice=function(e,t,n){return _Array$from(initialize$1(t-e+1,function(t){return n[e+t]}))},e.dictAny=function(e){return new _Map(e)}),n=e.zipUnsorted=function(e,n){var i=t(e),r=t(n),o=[],s=!0,a=!1,l=void 0;try{for(var u,c=_getIterator(i);!(s=(u=c.next()).done);s=!0){var p=u.value,h=r.has(p[0])?r.get(p[0]):null;o.push([p[0],[p[1],h]])}}catch(e){a=!0,l=e}finally{try{!s&&c.return&&c.return()}finally{if(a)throw l}}var f=!0,d=!1,y=void 0;try{for(var m,g=_getIterator(r);!(f=(m=g.next()).done);f=!0){var v=m.value;i.has(v[0])||o.push([v[0],[null,v[1]]])}}catch(e){d=!0,y=e}finally{try{!f&&g.return&&g.return()}finally{if(d)throw y}}return _Array$from(o)},i=e.isSortedUsing=function(e,t,n){var i=function i(r){return r===n.length||!!e(t(n[r-1]))(t(n[r]))&&i(r+1)};return 0===n.length||i(1)},r=e.zipSorted=function(e,t){for(var n=0,i=0,r=[];n<e.length&&i<t.length;){var o=[e[n],t[i]],s=o[1][1],a=o[0][1],l=o[1][0],u=o[0][0];!function(e){return function(t){return 0===(e<t?-1:e==t?0:1)}}(u)(l)?!function(e){return function(t){return(e<t?-1:e==t?0:1)<0}}(u)(l)?function(e){return function(t){return(e<t?-1:e==t?0:1)<0}}(l)(u)&&(r.push([l,[null,s]]),i+=1):(r.push([u,[a,null]]),n+=1):(r.push([u,[a,s]]),n+=1,i+=1)}for(;n<e.length;){var c=e[n];r.push([c[0],[c[1],null]]),n+=1}for(;i<t.length;){var p=t[i];r.push([p[0],[null,p[1]]]),i+=2}return _Array$from(r)};e.zipAny=function(e,t){var o=function(e){return function(t){return(e<t?-1:e==t?0:1)<=0}},s=function(e){return function(t){return(e<t?-1:e==t?0:1)>=0}};return!!i(o,function(e){return e[0]},e)&&i(o,function(e){return e[0]},t)?r(e,t):!!i(s,function(e){return e[0]},e)&&i(s,function(e){return e[0]},t)?r(e.slice().reverse(),t.slice().reverse()).slice().reverse():n(e,t)};return e}({}),helpers=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Series.helpers",properties:{}}}}]),e}();setType("TheGamma.Series.helpers",helpers);var series=function(){function e(t,n,i,r){_classCallCheck(this,e),this.data=t,this.keyName=n,this.valueName=i,this.seriesName=r}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Series.series",interfaces:["FSharpRecord","System.IEquatable"],properties:{data:Interface("TheGamma.Common.Future"),keyName:"string",valueName:"string",seriesName:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"set",value:function(t,n,i,r){return new e(t,null!=n?n:this.keyName,null!=i?i:this.valueName,null!=r?r:this.seriesName)}},{key:"setProperties",value:function(t,n,i){var r=null!=t?t:this.keyName,o=null!=n?n:this.valueName,s=null!=i?i:this.seriesName;return new e(this.data,r,o,s)}},{key:"sortKeys",value:function(t){return function(t){return function(n){var i=n,r=Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.Return(t(n))})})}(singleton$2));return new e(r,i.keyName,i.valueName,i.seriesName)}}(function(e){return(equals(t,!0)?function(e){return e.slice().reverse()}:function(e){return e})(_Array$from(sortWith(function(e,t){return e[0]<t[0]?-1:e[0]==t[0]?0:1},e)))})(this)}},{key:"sortValues",value:function(t){return function(t){return function(n){var i=n,r=Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.Return(t(n))})})}(singleton$2));return new e(r,i.keyName,i.valueName,i.seriesName)}}(function(e){return(equals(t,!0)?function(e){return e.slice().reverse()}:function(e){return e})(_Array$from(sortWith(function(e,t){return e[1]<t[1]?-1:e[1]==t[1]?0:1},e)))})(this)}},{key:"sortBy",value:function(t,n){return function(t){return function(n){var i=n,r=Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.Return(t(n))})})}(singleton$2));return new e(r,i.keyName,i.valueName,i.seriesName)}}(function(e){return(equals(n,!0)?function(e){return e.slice().reverse()}:function(e){return e})(_Array$from(sortWith(function(e,n){return t(e[1])<t(n[1])?-1:t(e[1])==t(n[1])?0:1},e)))})(this)}},{key:"reverse",value:function(){return function(t){return function(n){var i=n,r=Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.Return(t(n))})})}(singleton$2));return new e(r,i.keyName,i.valueName,i.seriesName)}}(function(e){return e.slice().reverse()})(this)}},{key:"take",value:function(t){return function(t){return function(n){var i=n,r=Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.Return(t(n))})})}(singleton$2));return new e(r,i.keyName,i.valueName,i.seriesName)}}(function(e){return SeriesInternals.slice(0,(e.length<t?e.length:t)-1,e)})(this)}},{key:"skip",value:function(t){return function(t){return function(n){var i=n,r=Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.Return(t(n))})})}(singleton$2));return new e(r,i.keyName,i.valueName,i.seriesName)}}(function(e){return SeriesInternals.slice(e.length<t?e.length:t,e.length-1,e)})(this)}},{key:"map",value:function(t){return function(t){return function(n){var i=n,r=Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.Return(t(n))})})}(singleton$2));return new e(r,i.keyName,i.valueName,i.seriesName)}}(function(){var e=function(e){return[e[0],t(e[1])]};return function(t){return t.map(e)}}())(this)}},{key:"mapKeys",value:function(t){return function(t){return function(n){var i=n,r=Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.Return(t(n))})})}(singleton$2));return new e(r,i.keyName,i.valueName,i.seriesName)}}(function(){var e=function(e){return[t(e[0]),e[1]]};return function(t){return t.map(e)}}())(this)}},{key:"mapPairs",value:function(t){return function(t){return function(n){var i=n,r=Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.Return(t(n))})})}(singleton$2));return new e(r,i.keyName,i.valueName,i.seriesName)}}(function(){var e=function(e){return[e[0],t(e[0])(e[1])]};return function(t){return t.map(e)}}())(this)}},{key:"filter",value:function(t){return function(t){return function(n){var i=n,r=Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.Return(t(n))})})}(singleton$2));return new e(r,i.keyName,i.valueName,i.seriesName)}}(function(){var e=function(e){return t(function(e){return e[1]}(e))};return function(t){return t.filter(e)}}())(this)}},{key:"choose",value:function(t){return function(t){return function(n){var i=n,r=Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.Return(t(n))})})}(singleton$2));return new e(r,i.keyName,i.valueName,i.seriesName)}}(function(){var e=function(e){var n=t(e[1]);if(null!=n)return[e[0],n]};return function(t){return _Array$from(choose$1(e,t))}}())(this)}},{key:"joinOuter",value:function(t){var n=this,i=function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(n.data),function(n){return e.Bind(Async_AwaitFuture_Static(t.data),function(t){return e.Return(SeriesInternals.zipAny(n,t))})})})}(singleton$2);return e.create(i,this.keyName,"Values",this.seriesName+" and "+t.seriesName)}},{key:"joinInner",value:function(e){return this.joinOuter(e).choose(function(e){var t=function(){return null};if(null!=e[0]){if(null!=e[1]){var n=e[0],i=e[1];return[n,i]}return t()}return t()})}},{key:"appendScalar",value:function(t,n){return function(t){return function(n){var i=n,r=Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.Return(t(n))})})}(singleton$2));return new e(r,i.keyName,i.valueName,i.seriesName)}}(function(e){return e.concat([[t,n]])})(this)}},{key:"append",value:function(e){var t=this;return this.set(Async_StartAsFuture_Static(function(n){return n.Delay(function(){return n.Bind(Async_AwaitFuture_Static(t.data),function(t){return n.Bind(Async_AwaitFuture_Static(e.data),function(e){return n.Return(t.concat(e))})})})}(singleton$2)))}},{key:"realign",value:function(t,n){return function(t){return function(n){var i=n,r=Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.ReturnFrom(t(n))})})}(singleton$2));return new e(r,i.keyName,i.valueName,i.seriesName)}}(function(e){return function(i){return i.Delay(function(){return i.Bind(Async_AwaitFuture_Static(t.data),function(t){var r=t.map(function(e){return e[1]}),o=create$4(e,new GenericComparer(function(e,t){return e<t?-1:e>t?1:0}));return i.Return(r.map(function(e){var t=tryFind$1(e,o);return null==t?[e,n]:[e,t]}))})})}(singleton$2)})(this)}},{key:"preview",value:function(){return this.take(10)}}],[{key:"create",value:function(t,n,i,r){return new e(Async_StartAsFuture_Static(t),n,i,r)}},{key:"values",value:function(t){var n=Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Return(_Array$from(mapIndexed$1(function(e,t){return[e,t]},t)))})}(singleton$2));return new e(n,"key","value","")}},{key:"range",value:function(t,n){return e.values(Int32Array.from(range(t,n)))}},{key:"rangeBy",value:function(t,n,i){return e.values(Int32Array.from(rangeStep(t,i,n)))}},{key:"ordinal",value:function(t,n,i,r){var o=Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(t,function(t){return e.Return(_Array$from(mapIndexed$1(function(e,t){return[e,t]},t)))})})}(singleton$2));return new e(o,n,i,r)}}]),e}();setType("TheGamma.Series.series",series);var RuntimeContext=function(){function e(t,n,i){_classCallCheck(this,e),this["root@19"]=t,this.cookies=n,this["trace@19"]=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProvidersRuntime.RuntimeContext",properties:{root:"string",trace:"string"}}}}]),_createClass(e,[{key:"addTrace",value:function(t){var n=this,i=toList(delay(function(){return append$1(isNullOrEmpty(n["trace@19"])?empty():singleton$1(n["trace@19"]),delay(function(){return isNullOrEmpty(t)?empty():singleton$1(t)}))}));return new e(this["root@19"],this.cookies,join("&",i))}},{key:"getValue",value:function(e){var t=this;return function(n){return n.Delay(function(){return n.Bind(Http.Request("POST",concatUrl(t["root@19"],e),t["trace@19"],t.cookies),function(e){return n.Return(JSON.parse(e))})})}(singleton$2)}},{key:"root",get:function(){return this["root@19"]}},{key:"trace",get:function(){return this["trace@19"]}}]),e}();setType("TheGamma.TypeProvidersRuntime.RuntimeContext",RuntimeContext);var PivotContext=function(){function e(t,n){_classCallCheck(this,e),this.root=t,this.calls=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProvidersRuntime.PivotContext",properties:{}}}}]),_createClass(e,[{key:"addCall",value:function(t,n){return new e(this.root,[[t,n]].concat(this.calls))}},{key:"getData",value:function(e,t){var n=this;return function(i){return i.Delay(function(){var r=function(){var t=function(e){return function(t){if(1!==t[1].length)throw new Error("PivotContext.getData: Expected one argument");return replace$$1(e,t[0],toString$2(t[1][0]))}};return function(n){return fold$1(function(e,n){return t(e)(n)},e,n)}}()(n.calls),o=n.root+"?"+r+(t?"&preview":"");return Log.trace("runtime","Pivot: %s",o),i.Bind(Http.Request("GET",o),function(e){return i.Return(JSON.parse(e))})})}(singleton$2)}}]),e}();setType("TheGamma.TypeProvidersRuntime.PivotContext",PivotContext);var ChartData=function(){function e(t){_classCallCheck(this,e),this.data=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.ChartData",interfaces:["FSharpRecord"],properties:{data:Async$1}}}}]),e}();setType("TheGamma.GoogleCharts.ChartData",ChartData);var LazyCharting=function(e){var t=e.chartsToDraw=[],n=(Object.defineProperty(e,"googleLoaded",{get:function(){return n},set:function(e){return n=e}}),!1);e.drawChartOnLoad=function(e){n?e():t.push(e)};return"undefined"!=typeof google&&google.load("visualization","1",{packages:["corechart"],callback:function(){!function(){n=!0;var e=!0,i=!1,r=void 0;try{for(var o,s=_getIterator(t);!(e=(o=s.next()).done);e=!0){var a=o.value;a()}}catch(e){i=!0,r=e}finally{try{!e&&s.return&&s.return()}finally{if(i)throw r}}}()}}),e}({}),Helpers=function(__exports){var copy=__exports.copy=function(e,t){return null==e?void 0:e[t]},orDefault=__exports.orDefault=function(e){return null!=e?e:void 0},right=__exports.right=function(e,t,n){return null!=n?n:null==e?void 0:e[t]},showChart=__exports.showChart=function(chart,outputId){LazyCharting.drawChartOnLoad(function(){!function(e){startImmediate(e)}(function(builder_){return builder_.Delay(function(){return builder_.TryWith(builder_.Delay(function(){return builder_.Bind(chart.data.data,function(_arg1){var ctor=eval("(function(a) { return new google.visualization."+chart.typeName+" (a); })"),ch=ctor(document.getElementById(outputId));return void 0==chart.options.height&&(chart.options.height=400),ch.draw(_arg1,chart.options),builder_.Zero()})}),function(e){return Log.error("google","Error when getting data or rendering chart: %O",e),builder_.Zero()})})}(singleton$2))})};return __exports}({}),ChartDataOperations=function(e){var t=e.collect=function(e,n){return function(i){return i.Delay(function(){return null==n.tail?i.Return(new List$2):i.Bind(e(n.head),function(r){return i.Bind(t(e,n.tail),function(e){return i.Return(append$$1(r,e))})})})}(singleton$2)};e.oneKeyValue=function(e,t){return new ChartData(function(n){return n.Delay(function(){var i=new google.visualization.DataTable;return i.addColumn(e,t.keyName),i.addColumn("number",t.seriesName),n.Bind(Async_AwaitFuture_Static(t.mapPairs(function(e){return function(t){return[e,t]}}).data),function(e){return function(e){i.addRows(e)}(e.map(function(e){return e[1]})),n.Return(i)})})}(singleton$2))},e.oneKeyTwoValues=function(e,t){return new ChartData(function(n){return n.Delay(function(){var i=new google.visualization.DataTable;return i.addColumn(e,t.keyName),i.addColumn("number",t.seriesName),i.addColumn("number",t.seriesName),n.Bind(Async_AwaitFuture_Static(t.mapPairs(function(e){return function(t){return[e,t[0],t[1]]}}).data),function(e){return function(e){i.addRows(e)}(e.map(function(e){return e[1]})),n.Return(i)})})}(singleton$2))},e.oneKeyAppendValues=function(e,n,i){return new ChartData(function(r){return r.Delay(function(){var o=new google.visualization.DataTable;return o.addColumn(e,n[0].keyName),o.addColumn("number",n[0].valueName),o.addColumn({type:"string",role:"style"}),r.Bind(t(function(e){return function(t){return t.Delay(function(){return t.Bind(Async_AwaitFuture_Static(e[0].mapPairs(function(t){return function(n){return[t,n,e[1]]}}).data),function(e){return t.Return(ofArray(e.map(function(e){return e[1]})))})})}(singleton$2)},ofArray(_Array$from(zip(n,i)))),function(e){return function(e){o.addRows(e)}(_Array$from(toList(sortWith(function(e,t){return-compare(function(e){return e[1]}(e),function(e){return e[1]}(t))},e))).map(function(e){return[e[0],e[1],e[2]]})),r.Return(o)})})}(singleton$2))},e.oneKeyNValues=function(e,t){return new ChartData(function(n){return n.Delay(function(){var i=new google.visualization.DataTable;return n.Bind(Async_AwaitFuture_Static(t.data),function(t){var r=t.map(function(e){return e[1]});return i.addColumn(e,r[0].keyName),n.Combine(n.For(range(0,r.length-1),function(e){return i.addColumn("number",r[e].seriesName),n.Zero()}),n.Delay(function(){var e=r[0].map(function(e){return create$4(ofArray([[0,e]]),new GenericComparer(function(e,t){return e<t?-1:e>t?1:0}))}),t=_Array$from(mapIndexed$1(function(e,t){return[e+1,t]},SeriesInternals.slice(1,r.length-1,r))),o=fold$1(function(e,t){return e.joinOuter(t[1]).map(function(e){var n=[null!=e[0]?e[0]:create$4(null,new GenericComparer(function(e,t){return e<t?-1:e>t?1:0})),e[1]];if(null==n[1])return n[0];var i=n[1];return add$2(t[0],i,n[0])})},e,t);return n.Bind(Async_AwaitFuture_Static(o.mapPairs(function(e){return function(t){var n=_Array$from(initialize$1(r.length,function(e){return null!=tryFind$1(e,t)?tryFind$1(e,t):void 0}));return _Array$from(append$1([e],n))}}).data),function(e){return function(e){i.addRows(e)}(e.map(function(e){return e[1]})),n.Return(i)})}))})})}(singleton$2))},e.twoValues=function(e,t){return new ChartData(function(n){return n.Delay(function(){var i=new google.visualization.DataTable;return i.addColumn("number",e.seriesName),i.addColumn("number",t.seriesName),n.Bind(Async_AwaitFuture_Static(e.joinInner(t).map(function(e){return[e[0],e[1]]}).data),function(e){return function(e){i.addRows(e)}(e.map(function(e){return e[1]})),n.Return(i)})})}(singleton$2))};return e}({}),ChartSizeAxis=function(){function e(t,n,i,r){_classCallCheck(this,e),this.maxSize=t,this.maxValue=n,this.minSize=i,this.minValue=r}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartSizeAxis",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{maxSize:"number",maxValue:"number",minSize:"number",minValue:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartSizeAxis",ChartSizeAxis);var ChartTextStyle=function(){function e(t,n,i,r,o,s,a){_classCallCheck(this,e),this.fontName=t,this.fontSize=n,this.bold=i,this.italic=r,this.color=o,this.auraColor=s,this.opacity=a}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartTextStyle",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{fontName:"string",fontSize:"number",bold:"boolean",italic:"boolean",color:"string",auraColor:"string",opacity:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartTextStyle",ChartTextStyle);var ChartTooltip=function(){function e(t,n,i,r){_classCallCheck(this,e),this.isHtml=t,this.showColorCode=n,this.textStyle=i,this.trigger=r}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartTooltip",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{isHtml:"boolean",showColorCode:"boolean",textStyle:ChartTextStyle,trigger:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartTooltip",ChartTooltip);var ChartLegend=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.alignment=t,this.maxLines=n,this.position=i,this.textStyle=r,this.numberFormat=o}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartLegend",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{alignment:"string",maxLines:"number",position:"string",textStyle:ChartTextStyle,numberFormat:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartLegend",ChartLegend);var ChartColorAxis=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.minValue=t,this.maxValue=n,this.values=i,this.colors=r,this.legend=o}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartColorAxis",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{minValue:"number",maxValue:"number",values:FArray("number"),colors:FArray("string"),legend:ChartLegend}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartColorAxis",ChartColorAxis);var GeoChartMagnifyingGlass=function(){function e(t,n){_classCallCheck(this,e),this.enable=t,this.zoomFactor=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.GeoChartMagnifyingGlass",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{enable:"boolean",zoomFactor:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.GeoChartMagnifyingGlass",GeoChartMagnifyingGlass);var GeoChartOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y){_classCallCheck(this,e),this.backgroundColor=t,this.colorAxis=n,this.datalessRegionColor=i,this.displayMode=r,this.enableRegionInteractivity=o,this.height=s,this.keepAspectRatio=a,this.legend=l,this.region=u,this.magnifyingGlass=c,this.markerOpacity=p,this.resolution=h,this.sizeAxis=f,this.tooltip=d,this.width=y}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.GeoChartOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{backgroundColor:Any,colorAxis:ChartColorAxis,datalessRegionColor:"string",displayMode:"string",enableRegionInteractivity:"boolean",height:"number",keepAspectRatio:"boolean",legend:ChartLegend,region:"string",magnifyingGlass:GeoChartMagnifyingGlass,markerOpacity:"number",resolution:"string",sizeAxis:ChartSizeAxis,tooltip:ChartTooltip,width:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.GeoChartOptions",GeoChartOptions);var ChartBoxStyleGradient=function(){function e(t,n,i,r,o,s,a){_classCallCheck(this,e),this.color1=t,this.color2=n,this.x1=i,this.y1=r,this.x2=o,this.y2=s,this.useObjectBoundingBoxUnits=a}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartBoxStyleGradient",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{color1:"string",color2:"string",x1:"string",y1:"string",x2:"string",y2:"string",useObjectBoundingBoxUnits:"boolean"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartBoxStyleGradient",ChartBoxStyleGradient);var ChartBoxStyle=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.stroke=t,this.strokeWidth=n,this.rx=i,this.ry=r,this.gradient=o}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartBoxStyle",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{stroke:"string",strokeWidth:"number",rx:"number",ry:"number",gradient:ChartBoxStyleGradient}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartBoxStyle",ChartBoxStyle);var ChartAnnotations=function(){function e(t,n){_classCallCheck(this,e),this.boxStyle=t,this.textStyle=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartAnnotations",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{boxStyle:ChartBoxStyle,textStyle:ChartTextStyle}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartAnnotations",ChartAnnotations);var ChartCrosshairFocused=function(){function e(t,n){_classCallCheck(this,e),this.color=t,this.opacity=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartCrosshairFocused",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{color:"string",opacity:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartCrosshairFocused",ChartCrosshairFocused);var ChartCrosshairSelected=function(){function e(t,n){_classCallCheck(this,e),this.color=t,this.opacity=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartCrosshairSelected",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{color:"string",opacity:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartCrosshairSelected",ChartCrosshairSelected);var ChartCrosshair=function(){function e(t,n,i,r,o,s){_classCallCheck(this,e),this.color=t,this.focused=n,this.opacity=i,this.orientation=r,this.selected=o,this.trigger=s}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartCrosshair",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{color:"string",focused:ChartCrosshairFocused,opacity:"number",orientation:"string",selected:ChartCrosshairSelected,trigger:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartCrosshair",ChartCrosshair);var ChartExplorer=function(){function e(t,n,i,r,o,s){_classCallCheck(this,e),this.actions=t,this.axis=n,this.keepInBounds=i,this.maxZoomIn=r,this.maxZoomOut=o,this.zoomDelta=s}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartExplorer",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{actions:FArray("string"),axis:"string",keepInBounds:"boolean",maxZoomIn:"number",maxZoomOut:"number",zoomDelta:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartExplorer",ChartExplorer);var ChartStroke=function(){function e(t,n,i){_classCallCheck(this,e),this.stroke=t,this.strokeWidth=n,this.fill=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartStroke",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{stroke:"string",strokeWidth:"number",fill:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartStroke",ChartStroke);var ChartArea=function(){function e(t,n,i,r){_classCallCheck(this,e),this.top=t,this.left=n,this.width=i,this.height=r}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartArea",interfaces:["FSharpRecord","System.IEquatable"],properties:{top:Any,left:Any,width:Any,height:Any}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartArea",ChartArea);var TransitionAnimation=function(){function e(t,n){_classCallCheck(this,e),this.duration=t,this.easing=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.TransitionAnimation",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{duration:"number",easing:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.TransitionAnimation",TransitionAnimation);var ChartGridlines=function(){function e(t,n){_classCallCheck(this,e),this.color=t,this.count=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartGridlines",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{color:"string",count:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartGridlines",ChartGridlines);var ChartViewWindow=function(){function e(t,n){_classCallCheck(this,e),this.max=t,this.min=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartViewWindow",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{max:"number",min:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartViewWindow",ChartViewWindow);var ChartAxis=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v,C,T,b,w,$){_classCallCheck(this,e),this.baseline=t,this.baselineColor=n,this.direction=i,this.format=r,this.gridlines=o,this.minorGridlines=s,this.logScale=a,this.textPosition=l,this.textStyle=u,this.ticks=c,this.title=p,this.titleTextStyle=h,this.allowContainerBoundaryTextCufoff=f,this.slantedText=d,this.slantedTextAngle=y,this.maxAlternation=m,this.maxTextLines=g,this.minTextSpacing=v,this.showTextEvery=C,this.maxValue=T,this.minValue=b,this.viewWindowMode=w,this.viewWindow=$}return _createClass(e,[{
key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartAxis",interfaces:["FSharpRecord","System.IEquatable"],properties:{baseline:"number",baselineColor:"string",direction:"number",format:"string",gridlines:ChartGridlines,minorGridlines:ChartGridlines,logScale:"boolean",textPosition:"string",textStyle:ChartTextStyle,ticks:FArray(Any),title:"string",titleTextStyle:ChartTextStyle,allowContainerBoundaryTextCufoff:"boolean",slantedText:"boolean",slantedTextAngle:"number",maxAlternation:"number",maxTextLines:"number",minTextSpacing:"number",showTextEvery:"number",maxValue:"number",minValue:"number",viewWindowMode:"string",viewWindow:ChartViewWindow}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartAxis",ChartAxis);var ChartBoundingBox=function(){function e(t,n,i,r){_classCallCheck(this,e),this.left=t,this.top=n,this.width=i,this.height=r}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartBoundingBox",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{left:"number",top:"number",width:"number",height:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartBoundingBox",ChartBoundingBox);var GroupWidth=function(){function e(t){_classCallCheck(this,e),this.groupWidth=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.GroupWidth",interfaces:["FSharpRecord","System.IEquatable"],properties:{groupWidth:Any}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.GroupWidth",GroupWidth);var Trendline=function(){function e(t,n,i,r,o,s,a,l,u){_classCallCheck(this,e),this.color=t,this.lineWidth=n,this.labelInLegend=i,this.opacity=r,this.pointSize=o,this.pointsVisible=s,this.showR2=a,this.type=l,this.visibleInLegend=u}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.Trendline",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{color:"string",lineWidth:"number",labelInLegend:"string",opacity:"number",pointSize:"number",pointsVisible:"boolean",showR2:"boolean",type:"string",visibleInLegend:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.Trendline",Trendline);var ScatterChartOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v,C,T,b,w,$,S,_,k,x,E,A,F){_classCallCheck(this,e),this.aggregationTarget=t,this.animation=n,this.annotations=i,this.axisTitlesPosition=r,this.backgroundColor=o,this.chartArea=s,this.colors=a,this.crosshair=l,this.curveType=u,this.dataOpacity=c,this.enableInteractivity=p,this.explorer=h,this.fontSize=f,this.fontName=d,this.forceIFrame=y,this.hAxis=m,this.height=g,this.legend=v,this.lineWidth=C,this.pointSize=T,this.selectionMode=b,this.series=w,this.theme=$,this.title=S,this.titlePosition=_,this.titleTextStyle=k,this.tooltip=x,this.trendlines=E,this.vAxis=A,this.width=F}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ScatterChartOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{aggregationTarget:"string",animation:TransitionAnimation,annotations:ChartAnnotations,axisTitlesPosition:"string",backgroundColor:Any,chartArea:ChartArea,colors:FArray("string"),crosshair:ChartCrosshair,curveType:"string",dataOpacity:"number",enableInteractivity:"boolean",explorer:ChartExplorer,fontSize:"number",fontName:"string",forceIFrame:"boolean",hAxis:ChartAxis,height:"number",legend:ChartLegend,lineWidth:"number",pointSize:"number",selectionMode:"string",series:Any,theme:"string",title:"string",titlePosition:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,trendlines:FArray(Trendline),vAxis:ChartAxis,width:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ScatterChartOptions",ScatterChartOptions);var ColumnChartOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v,C,T,b,w,$,S,_,k,x){_classCallCheck(this,e),this.aggregationTarget=t,this.animation=n,this.annotations=i,this.axisTitlesPosition=r,this.backgroundColor=o,this.bar=s,this.chartArea=a,this.colors=l,this.enableInteractivity=u,this.focusTarget=c,this.fontSize=p,this.fontName=h,this.hAxis=f,this.height=d,this.isStacked=y,this.legend=m,this.reverseCategories=g,this.selectionMode=v,this.series=C,this.theme=T,this.title=b,this.titlePosition=w,this.titleTextStyle=$,this.tooltip=S,this.vAxes=_,this.vAxis=k,this.width=x}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ColumnChartOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{aggregationTarget:"string",animation:TransitionAnimation,annotations:ChartAnnotations,axisTitlesPosition:"string",backgroundColor:Any,bar:GroupWidth,chartArea:ChartArea,colors:FArray("string"),enableInteractivity:"boolean",focusTarget:"string",fontSize:"number",fontName:"string",hAxis:ChartAxis,height:"number",isStacked:"boolean",legend:ChartLegend,reverseCategories:"boolean",selectionMode:"string",series:Any,theme:"string",title:"string",titlePosition:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,vAxes:Any,vAxis:ChartAxis,width:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ColumnChartOptions",ColumnChartOptions);var LineChartOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v,C,T,b,w,$,S,_,k,x,E,A,F,N,P,H){_classCallCheck(this,e),this.aggregationTarget=t,this.animation=n,this.annotations=i,this.axisTitlesPosition=r,this.backgroundColor=o,this.chartArea=s,this.colors=a,this.crosshair=l,this.curveType=u,this.dataOpacity=c,this.enableInteractivity=p,this.explorer=h,this.focusTarget=f,this.fontSize=d,this.fontName=y,this.hAxis=m,this.height=g,this.interpolateNulls=v,this.legend=C,this.lineWidth=T,this.orientation=b,this.pointSize=w,this.reverseCategories=$,this.selectionMode=S,this.series=_,this.theme=k,this.title=x,this.titlePosition=E,this.titleTextStyle=A,this.tooltip=F,this.vAxes=N,this.vAxis=P,this.width=H}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.LineChartOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{aggregationTarget:"string",animation:TransitionAnimation,annotations:ChartAnnotations,axisTitlesPosition:"string",backgroundColor:Any,chartArea:ChartArea,colors:FArray("string"),crosshair:ChartCrosshair,curveType:"string",dataOpacity:"number",enableInteractivity:"boolean",explorer:ChartExplorer,focusTarget:"string",fontSize:"number",fontName:"string",hAxis:ChartAxis,height:"number",interpolateNulls:"boolean",legend:ChartLegend,lineWidth:"number",orientation:"string",pointSize:"number",reverseCategories:"boolean",selectionMode:"string",series:Any,theme:"string",title:"string",titlePosition:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,vAxes:Any,vAxis:ChartAxis,width:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.LineChartOptions",LineChartOptions);var BarChartOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v,C,T,b,w,$,S,_,k,x,E){_classCallCheck(this,e),this.aggregationTarget=t,this.animation=n,this.annotations=i,this.axisTitlesPosition=r,this.backgroundColor=o,this.bar=s,this.chartArea=a,this.colors=l,this.dataOpacity=u,this.enableInteractivity=c,this.focusTarget=p,this.fontSize=h,this.fontName=f,this.hAxes=d,this.hAxis=y,this.height=m,this.isStacked=g,this.legend=v,this.reverseCategories=C,this.series=T,this.theme=b,this.title=w,this.titlePosition=$,this.titleTextStyle=S,this.tooltip=_,this.vAxes=k,this.vAxis=x,this.width=E}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.BarChartOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{aggregationTarget:"string",animation:TransitionAnimation,annotations:ChartAnnotations,axisTitlesPosition:"string",backgroundColor:Any,bar:GroupWidth,chartArea:ChartArea,colors:FArray("string"),dataOpacity:"number",enableInteractivity:"boolean",focusTarget:"string",fontSize:"number",fontName:"string",hAxes:Any,hAxis:ChartAxis,height:"number",isStacked:"boolean",legend:ChartLegend,reverseCategories:"boolean",series:Any,theme:"string",title:"string",titlePosition:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,vAxes:Any,vAxis:ChartAxis,width:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.BarChartOptions",BarChartOptions);var HistogramHistogram=function(){function e(t,n,i){_classCallCheck(this,e),this.bucketSize=t,this.hideBucketItems=n,this.lastBucketPercentile=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.HistogramHistogram",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{bucketSize:"number",hideBucketItems:"boolean",lastBucketPercentile:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.HistogramHistogram",HistogramHistogram);var HistogramOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v,C,T,b,w,$,S,_,k,x,E){_classCallCheck(this,e),this.animation=t,this.axisTitlesPosition=n,this.backgroundColor=i,this.bar=r,this.chartArea=o,this.colors=s,this.dataOpacity=a,this.enableInteractivity=l,this.focusTarget=u,this.fontSize=c,this.fontName=p,this.hAxis=h,this.histogram=f,this.height=d,this.interpolateNulls=y,this.isStacked=m,this.legend=g,this.orientation=v,this.reverseCategories=C,this.series=T,this.theme=b,this.title=w,this.titlePosition=$,this.titleTextStyle=S,this.tooltip=_,this.vAxes=k,this.vAxis=x,this.width=E}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.HistogramOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{animation:TransitionAnimation,axisTitlesPosition:"string",backgroundColor:Any,bar:GroupWidth,chartArea:ChartArea,colors:FArray("string"),dataOpacity:"number",enableInteractivity:"boolean",focusTarget:"string",fontSize:"number",fontName:"string",hAxis:ChartAxis,histogram:HistogramHistogram,height:"number",interpolateNulls:"boolean",isStacked:"boolean",legend:ChartLegend,orientation:"string",reverseCategories:"boolean",series:Any,theme:"string",title:"string",titlePosition:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,vAxes:Any,vAxis:ChartAxis,width:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.HistogramOptions",HistogramOptions);var AreaChartOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v,C,T,b,w,$,S,_,k,x,E,A,F,N,P,H){_classCallCheck(this,e),this.aggregationTarget=t,this.animation=n,this.areaOpacity=i,this.axisTitlesPosition=r,this.backgroundColor=o,this.chartArea=s,this.colors=a,this.crosshair=l,this.dataOpacity=u,this.enableInteractivity=c,this.explorer=p,this.focusTarget=h,this.fontSize=f,this.fontName=d,this.hAxis=y,this.height=m,this.interpolateNulls=g,this.isStacked=v,this.legend=C,this.lineWidth=T,this.orientation=b,this.pointSize=w,this.reverseCategories=$,this.selectionMode=S,this.series=_,this.theme=k,this.title=x,this.titlePosition=E,this.titleTextStyle=A,this.tooltip=F,this.vAxes=N,this.vAxis=P,this.width=H}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.AreaChartOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{aggregationTarget:"string",animation:TransitionAnimation,areaOpacity:"number",axisTitlesPosition:"string",backgroundColor:Any,chartArea:ChartArea,colors:FArray("string"),crosshair:ChartCrosshair,dataOpacity:"number",enableInteractivity:"boolean",explorer:ChartExplorer,focusTarget:"string",fontSize:"number",fontName:"string",hAxis:ChartAxis,height:"number",interpolateNulls:"boolean",isStacked:"boolean",legend:ChartLegend,lineWidth:"number",orientation:"string",pointSize:"number",reverseCategories:"boolean",selectionMode:"string",series:Any,theme:"string",title:"string",titlePosition:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,vAxes:Any,vAxis:ChartAxis,width:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.AreaChartOptions",AreaChartOptions);var AnnotationChartOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v,C,T,b,w,$,S){_classCallCheck(this,e),this.allowHtml=t,this.allValuesSuffix=n,this.annotationsWidth=i,this.colors=r,this.dateFormat=o,this.displayAnnotations=s,this.displayAnnotationsFilter=a,this.displayDateTimeBarSeparator=l,this.displayExactValues=u,this.displayLegendDots=c,this.displayLegendValues=p,this.displayRangeSelector=h,this.displayZoomButtons=f,this.fill=d,this.legendPosition=y,this.max=m,this.min=g,this.numberFormats=v,this.scaleColumns=C,this.scaleFormat=T,this.scaleType=b,this.thickness=w,this.zoomEndTime=$,this.zoomStartTime=S}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.AnnotationChartOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{allowHtml:"boolean",allValuesSuffix:"string",annotationsWidth:"number",colors:FArray("string"),dateFormat:"string",displayAnnotations:"boolean",displayAnnotationsFilter:"boolean",displayDateTimeBarSeparator:"boolean",displayExactValues:"boolean",displayLegendDots:"boolean",displayLegendValues:"boolean",displayRangeSelector:"boolean",displayZoomButtons:"boolean",fill:"number",legendPosition:"string",max:"number",min:"number",numberFormats:Any,scaleColumns:FArray("number"),scaleFormat:"string",scaleType:"string",thickness:"number",zoomEndTime:Date,zoomStartTime:Date}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.AnnotationChartOptions",AnnotationChartOptions);var SteppedAreaChartOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v,C,T,b,w,$,S,_,k,x,E){_classCallCheck(this,e),this.aggregationTarget=t,this.animation=n,this.areaOpacity=i,this.axisTitlesPosition=r,this.backgroundColor=o,this.chartArea=s,this.colors=a,this.connectSteps=l,this.enableInteractivity=u,this.focusTarget=c,this.fontSize=p,this.fontName=h,this.hAxis=f,this.height=d,this.interpolateNulls=y,this.isStacked=m,this.legend=g,this.reverseCategories=v,this.selectionMode=C,this.series=T,this.theme=b,this.title=w,this.titlePosition=$,this.titleTextStyle=S,this.tooltip=_,this.vAxes=k,this.vAxis=x,this.width=E}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.SteppedAreaChartOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{aggregationTarget:"string",animation:TransitionAnimation,areaOpacity:"number",axisTitlesPosition:"string",backgroundColor:Any,chartArea:ChartArea,colors:FArray("string"),connectSteps:"boolean",enableInteractivity:"boolean",focusTarget:"string",fontSize:"number",fontName:"string",hAxis:ChartAxis,height:"number",interpolateNulls:"boolean",isStacked:"boolean",legend:ChartLegend,reverseCategories:"boolean",selectionMode:"string",series:Any,theme:"string",title:"string",titlePosition:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,vAxes:Any,vAxis:ChartAxis,width:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.SteppedAreaChartOptions",SteppedAreaChartOptions);var PieChartOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v,C,T,b,w,$){_classCallCheck(this,e),this.backgroundColor=t,this.chartArea=n,this.colors=i,this.enableInteractivity=r,this.fontSize=o,this.fontName=s,this.height=a,this.is3D=l,this.legend=u,this.pieHole=c,this.pieSliceBorderColor=p,this.pieSliceText=h,this.pieSliceTextStyle=f,this.pieStartAngle=d,this.reverseCategories=y,this.pieResidueSliceColor=m,this.pieResidueSliceLabel=g,this.slices=v,this.sliceVisibilityThreshold=C,this.title=T,this.titleTextStyle=b,this.tooltip=w,this.width=$}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.PieChartOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{backgroundColor:Any,chartArea:ChartArea,colors:FArray("string"),enableInteractivity:"boolean",fontSize:"number",fontName:"string",height:"number",is3D:"boolean",legend:ChartLegend,pieHole:"number",pieSliceBorderColor:"string",pieSliceText:"string",pieSliceTextStyle:ChartTextStyle,pieStartAngle:"number",reverseCategories:"boolean",pieResidueSliceColor:"string",pieResidueSliceLabel:"string",slices:Any,sliceVisibilityThreshold:"number",title:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,width:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.PieChartOptions",PieChartOptions);var ChartBubble=function(){function e(t,n,i){_classCallCheck(this,e),this.opacity=t,this.stroke=n,this.textStyle=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartBubble",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{opacity:"number",stroke:"string",textStyle:ChartTextStyle}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartBubble",ChartBubble);var BubbleChartOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v,C,T,b,w,$,S,_,k){_classCallCheck(this,e),this.animation=t,this.axisTitlesPosition=n,this.backgroundColor=i,this.bubble=r,this.chartArea=o,this.colors=s,this.colorAxis=a,this.enableInteractivity=l,this.explorer=u,this.fontSize=c,this.fontName=p,this.forceIFrame=h,this.hAxis=f,this.height=d,this.legend=y,this.selectionMode=m,this.series=g,this.sizeAxis=v,this.sortBubblesBySize=C,this.theme=T,this.title=b,this.titlePosition=w,this.titleTextStyle=$,this.tooltip=S,this.vAxis=_,this.width=k}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.BubbleChartOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{animation:TransitionAnimation,axisTitlesPosition:"string",backgroundColor:Any,bubble:ChartBubble,chartArea:ChartArea,colors:FArray("string"),colorAxis:ChartColorAxis,enableInteractivity:"boolean",explorer:ChartExplorer,fontSize:"number",fontName:"string",forceIFrame:"boolean",hAxis:ChartAxis,height:"number",legend:ChartLegend,selectionMode:"string",series:Any,sizeAxis:ChartSizeAxis,sortBubblesBySize:"boolean",theme:"string",title:"string",titlePosition:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,vAxis:ChartAxis,width:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.BubbleChartOptions",BubbleChartOptions);var TreeMapOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v,C,T,b,w,$,S){_classCallCheck(this,e),this.fontColor=t,this.fontFamily=n,this.fontSize=i,this.forceIFrame=r,this.headerColor=o,this.headerHeight=s,this.headerHighlightColor=a,this.hintOpacity=l,this.maxColor=u,this.maxDepth=c,this.maxHighlightColor=p,this.maxPostDepth=h,this.maxColorValue=f,this.midColor=d,this.midHighlightColor=y,this.minColor=m,this.minHighlightColor=g,this.minColorValue=v,this.showScale=C,this.showTooltips=T,this.textStyle=b,this.title=w,this.titleTextStyle=$,this.useWeightedAverageForAggregation=S}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.TreeMapOptions",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{fontColor:"string",fontFamily:"string",fontSize:"number",forceIFrame:"boolean",headerColor:"string",headerHeight:"number",headerHighlightColor:"string",hintOpacity:"number",maxColor:"string",maxDepth:"number",maxHighlightColor:"string",maxPostDepth:"number",maxColorValue:"number",midColor:"string",midHighlightColor:"string",minColor:"string",minHighlightColor:"string",minColorValue:"number",showScale:"boolean",showTooltips:"boolean",textStyle:ChartTextStyle,title:"string",titleTextStyle:ChartTextStyle,useWeightedAverageForAggregation:"boolean"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.TreeMapOptions",TreeMapOptions);var CssClassNames=function(){function e(t,n,i,r,o,s,a,l){_classCallCheck(this,e),this.headerRow=t,this.tableRow=n,this.oddTableRow=i,this.selectedTableRow=r,this.hoverTableRow=o,this.headerCell=s,this.tableCell=a,this.rowNumberCell=l}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.CssClassNames",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{headerRow:"string",tableRow:"string",oddTableRow:"string",selectedTableRow:"string",hoverTableRow:"string",headerCell:"string",tableCell:"string",rowNumberCell:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.CssClassNames",CssClassNames);var TableOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y){_classCallCheck(this,e),this.allowHtml=t,this.alternatingRowStyle=n,this.cssClassName=i,this.firstRowNumber=r,this.height=o,this.page=s,this.pageSize=a,this.rtlTable=l,this.scrollLeftStartPosition=u,this.showRowNumber=c,this.sort=p,this.sortAscending=h,this.sortColumn=f,this.startPage=d,this.width=y}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.TableOptions",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{allowHtml:"boolean",alternatingRowStyle:"boolean",cssClassName:CssClassNames,firstRowNumber:"number",height:"string",page:"string",pageSize:"number",rtlTable:"boolean",scrollLeftStartPosition:"number",showRowNumber:"boolean",sort:"string",sortAscending:"boolean",sortColumn:"number",startPage:"number",width:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.TableOptions",TableOptions);var LabelStyle=function(){function e(t,n,i){_classCallCheck(this,e),this.color=t,this.fontName=n,this.fontSize=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.LabelStyle",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{color:"string",fontName:"string",fontSize:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.LabelStyle",LabelStyle);var TimelineTimeline=function(){function e(t,n,i,r,o,s){_classCallCheck(this,e),this.barLabelStyle=t,this.colorByRowLabel=n,this.groupByRowLabel=i,this.rowLabelStyle=r,this.showRowLabels=o,this.singleColor=s}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.TimelineTimeline",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{barLabelStyle:LabelStyle,colorByRowLabel:"boolean",groupByRowLabel:"boolean",rowLabelStyle:LabelStyle,showRowLabels:"boolean",singleColor:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.TimelineTimeline",TimelineTimeline);var TimelineOptions=function(){function e(t,n,i,r,o,s,a,l){_classCallCheck(this,e),this.avoidOverlappingGridLines=t,this.backgroundColor=n,this.colors=i,this.enableInteractivity=r,this.forceIFrame=o,this.height=s,this.timeline=a,this.width=l}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.TimelineOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{avoidOverlappingGridLines:"boolean",backgroundColor:Any,colors:FArray("string"),enableInteractivity:"boolean",forceIFrame:"boolean",height:"number",timeline:TimelineTimeline,width:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.TimelineOptions",TimelineOptions);var CandlestickCandlestick=function(){function e(t,n,i){_classCallCheck(this,e),this.hollowIsRising=t,this.fallingColor=n,this.risingColor=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.CandlestickCandlestick",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{hollowIsRising:"boolean",fallingColor:ChartStroke,risingColor:ChartStroke}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.CandlestickCandlestick",CandlestickCandlestick);var CandlestickChartOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v,C,T,b,w,$,S,_,k,x){_classCallCheck(this,e),this.aggregationTarget=t,this.animation=n,this.axisTitlesPosition=i,this.backgroundColor=r,this.bar=o,this.candlestick=s,this.chartArea=a,this.colors=l,this.enableInteractivity=u,this.focusTarget=c,this.fontSize=p,this.fontName=h,this.hAxis=f,this.height=d,this.legend=y,this.orientation=m,this.reverseCategories=g,this.selectionMode=v,this.series=C,this.theme=T,this.title=b,this.titlePosition=w,this.titleTextStyle=$,this.tooltip=S,this.vAxes=_,this.vAxis=k,this.width=x}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.CandlestickChartOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{aggregationTarget:"string",animation:TransitionAnimation,axisTitlesPosition:"string",backgroundColor:Any,bar:GroupWidth,candlestick:CandlestickCandlestick,chartArea:ChartArea,colors:FArray("string"),enableInteractivity:"boolean",focusTarget:"string",fontSize:"number",fontName:"string",hAxis:ChartAxis,height:"number",legend:ChartLegend,orientation:"string",reverseCategories:"boolean",selectionMode:"string",series:Any,theme:"string",title:"string",titlePosition:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,vAxes:Any,vAxis:ChartAxis,width:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.CandlestickChartOptions",CandlestickChartOptions);var Geo=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.Geo",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:GeoChartOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c){var p=this,h=function(){var e=Helpers.right(p.options,"backgroundColor",t),h=Helpers.right(p.options,"datalessRegionColor",n),f=Helpers.right(p.options,"displayMode",i),d=Helpers.right(p.options,"enableRegionInteractivity",r),y=Helpers.right(p.options,"height",o),m=Helpers.right(p.options,"keepAspectRatio",s),g=Helpers.right(p.options,"region",a),v=Helpers.right(p.options,"markerOpacity",l),C=Helpers.right(p.options,"resolution",u),T=Helpers.right(p.options,"width",c);return new GeoChartOptions(e,p.options.colorAxis,h,f,d,y,m,p.options.legend,g,p.options.magnifyingGlass,v,C,p.options.sizeAxis,p.options.tooltip,T)}();return new e(this.data,this.typeName,h)}},{key:"colorAxis",value:function(t,n,i,r){var o=this.options.colorAxis,s=new ChartColorAxis(Helpers.right(o,"minValue",t),Helpers.right(o,"maxValue",n),Helpers.right(o,"values",function(){var e=i;return null!=e?function(e){return Float64Array.from(e)}(e):e}()),Helpers.right(o,"colors",function(){var e=r;return null!=e?function(e){return _Array$from(e)}(e):e}()),Helpers.copy(o,"legend")),a=new GeoChartOptions(this.options.backgroundColor,s,this.options.datalessRegionColor,this.options.displayMode,this.options.enableRegionInteractivity,this.options.height,this.options.keepAspectRatio,this.options.legend,this.options.region,this.options.magnifyingGlass,this.options.markerOpacity,this.options.resolution,this.options.sizeAxis,this.options.tooltip,this.options.width);return new e(this.data,this.typeName,a)}},{key:"legend",value:function(t,n,i,r){var o=this.options.legend,s=function(){var e=Helpers.right(o,"alignment",t),s=Helpers.right(o,"maxLines",n),a=Helpers.right(o,"position",i),l=Helpers.right(o,"numberFormat",r);return new ChartLegend(e,s,a,Helpers.copy(o,"textStyle"),l)}(),a=new GeoChartOptions(this.options.backgroundColor,this.options.colorAxis,this.options.datalessRegionColor,this.options.displayMode,this.options.enableRegionInteractivity,this.options.height,this.options.keepAspectRatio,s,this.options.region,this.options.magnifyingGlass,this.options.markerOpacity,this.options.resolution,this.options.sizeAxis,this.options.tooltip,this.options.width);return new e(this.data,this.typeName,a)}},{key:"magnifyingGlass",value:function(t,n){var i=this.options.magnifyingGlass,r=new GeoChartMagnifyingGlass(Helpers.right(i,"enable",t),Helpers.right(i,"zoomFactor",n)),o=new GeoChartOptions(this.options.backgroundColor,this.options.colorAxis,this.options.datalessRegionColor,this.options.displayMode,this.options.enableRegionInteractivity,this.options.height,this.options.keepAspectRatio,this.options.legend,this.options.region,r,this.options.markerOpacity,this.options.resolution,this.options.sizeAxis,this.options.tooltip,this.options.width);return new e(this.data,this.typeName,o)}},{key:"sizeAxis",value:function(t,n,i,r){var o=this.options.sizeAxis,s=new ChartSizeAxis(Helpers.right(o,"maxSize",t),Helpers.right(o,"maxValue",n),Helpers.right(o,"minSize",i),Helpers.right(o,"minValue",r)),a=new GeoChartOptions(this.options.backgroundColor,this.options.colorAxis,this.options.datalessRegionColor,this.options.displayMode,this.options.enableRegionInteractivity,this.options.height,this.options.keepAspectRatio,this.options.legend,this.options.region,this.options.magnifyingGlass,this.options.markerOpacity,this.options.resolution,s,this.options.tooltip,this.options.width);return new e(this.data,this.typeName,a)}},{key:"tooltip",value:function(t,n,i){var r=this.options.tooltip,o=function(){var e=Helpers.right(r,"isHtml",t),o=Helpers.right(r,"showColorCode",n),s=Helpers.right(r,"trigger",i);return new ChartTooltip(e,o,Helpers.copy(r,"textStyle"),s)}(),s=new GeoChartOptions(this.options.backgroundColor,this.options.colorAxis,this.options.datalessRegionColor,this.options.displayMode,this.options.enableRegionInteractivity,this.options.height,this.options.keepAspectRatio,this.options.legend,this.options.region,this.options.magnifyingGlass,this.options.markerOpacity,this.options.resolution,this.options.sizeAxis,o,this.options.width);return new e(this.data,this.typeName,s)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.Geo",Geo);var Scatter=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{
key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.Scatter",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:ScatterChartOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v,C){var T=this,b=function(){var e=Helpers.right(T.options,"aggregationTarget",t),b=Helpers.right(T.options,"axisTitlesPosition",n),w=Helpers.right(T.options,"backgroundColor",i),$=Helpers.right(T.options,"colors",function(){var e=r;return null!=e?function(e){return _Array$from(e)}(e):e}()),S=Helpers.right(T.options,"curveType",o),_=Helpers.right(T.options,"dataOpacity",s),k=Helpers.right(T.options,"enableInteractivity",a),x=Helpers.right(T.options,"fontSize",l),E=Helpers.right(T.options,"fontName",u),A=Helpers.right(T.options,"forceIFrame",c),F=Helpers.right(T.options,"height",p),N=Helpers.right(T.options,"lineWidth",h),P=Helpers.right(T.options,"pointSize",f),H=Helpers.right(T.options,"selectionMode",d),O=Helpers.right(T.options,"series",y),L=Helpers.right(T.options,"theme",m),R=Helpers.right(T.options,"title",g),G=Helpers.right(T.options,"titlePosition",v),I=Helpers.right(T.options,"width",C);return new ScatterChartOptions(e,T.options.animation,T.options.annotations,b,w,T.options.chartArea,$,T.options.crosshair,S,_,k,T.options.explorer,x,E,A,T.options.hAxis,F,T.options.legend,N,P,H,O,L,R,G,T.options.titleTextStyle,T.options.tooltip,T.options.trendlines,T.options.vAxis,I)}();return new e(this.data,this.typeName,b)}},{key:"trendlines",value:function(t){var n=this,i=function(){var e=Helpers.right(n.options,"trendlines",function(){var e=t;return null!=e?function(e){return _Array$from(e)}(e):e}());return new ScatterChartOptions(n.options.aggregationTarget,n.options.animation,n.options.annotations,n.options.axisTitlesPosition,n.options.backgroundColor,n.options.chartArea,n.options.colors,n.options.crosshair,n.options.curveType,n.options.dataOpacity,n.options.enableInteractivity,n.options.explorer,n.options.fontSize,n.options.fontName,n.options.forceIFrame,n.options.hAxis,n.options.height,n.options.legend,n.options.lineWidth,n.options.pointSize,n.options.selectionMode,n.options.series,n.options.theme,n.options.title,n.options.titlePosition,n.options.titleTextStyle,n.options.tooltip,e,n.options.vAxis,n.options.width)}();return new e(this.data,this.typeName,i)}},{key:"animation",value:function(t,n){var i=this.options.animation,r=new TransitionAnimation(Helpers.right(i,"duration",t),Helpers.right(i,"easing",n)),o=new ScatterChartOptions(this.options.aggregationTarget,r,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.lineWidth,this.options.pointSize,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.trendlines,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,o)}},{key:"chartArea",value:function(t,n,i,r){var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",t),Helpers.right(o,"left",n),Helpers.right(o,"width",i),Helpers.right(o,"height",r)),a=new ScatterChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,s,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.lineWidth,this.options.pointSize,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.trendlines,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"crosshair",value:function(t,n,i,r){var o=this.options.crosshair,s=function(){var e=Helpers.right(o,"color",t),s=Helpers.right(o,"opacity",n),a=Helpers.right(o,"orientation",i),l=Helpers.right(o,"trigger",r);return new ChartCrosshair(e,Helpers.copy(o,"focused"),s,a,Helpers.copy(o,"selected"),l)}(),a=new ScatterChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,s,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.lineWidth,this.options.pointSize,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.trendlines,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"explorer",value:function(t,n,i,r,o,s){var a=this.options.explorer,l=new ChartExplorer(Helpers.right(a,"actions",function(){var e=t;return null!=e?function(e){return _Array$from(e)}(e):e}()),Helpers.right(a,"axis",n),Helpers.right(a,"keepInBounds",i),Helpers.right(a,"maxZoomIn",r),Helpers.right(a,"maxZoomOut",o),Helpers.right(a,"zoomDelta",s)),u=new ScatterChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,l,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.lineWidth,this.options.pointSize,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.trendlines,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,u)}},{key:"hAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v){var C=this.options.hAxis,T=function(){var e=Helpers.right(C,"baseline",t),T=Helpers.right(C,"baselineColor",n),b=Helpers.right(C,"direction",i),w=Helpers.right(C,"format",r),$=Helpers.right(C,"logScale",o),S=Helpers.right(C,"textPosition",s),_=Helpers.right(C,"ticks",function(){var e=a;return null!=e?function(e){return _Array$from(e)}(e):e}()),k=Helpers.right(C,"title",l),x=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),E=Helpers.right(C,"slantedText",c),A=Helpers.right(C,"slantedTextAngle",p),F=Helpers.right(C,"maxAlternation",h),N=Helpers.right(C,"maxTextLines",f),P=Helpers.right(C,"minTextSpacing",d),H=Helpers.right(C,"showTextEvery",y),O=Helpers.right(C,"maxValue",m),L=Helpers.right(C,"minValue",g),R=Helpers.right(C,"viewWindowMode",v);return new ChartAxis(e,T,b,w,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),$,S,Helpers.copy(C,"textStyle"),_,k,Helpers.copy(C,"titleTextStyle"),x,E,A,F,N,P,H,O,L,R,Helpers.copy(C,"viewWindow"))}(),b=new ScatterChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,T,this.options.height,this.options.legend,this.options.lineWidth,this.options.pointSize,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.trendlines,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,b)}},{key:"legend",value:function(t,n,i,r){var o=this.options.legend,s=function(){var e=Helpers.right(o,"alignment",t),s=Helpers.right(o,"maxLines",n),a=Helpers.right(o,"position",i),l=Helpers.right(o,"numberFormat",r);return new ChartLegend(e,s,a,Helpers.copy(o,"textStyle"),l)}(),a=new ScatterChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,s,this.options.lineWidth,this.options.pointSize,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.trendlines,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"titleTextStyle",value:function(t,n,i,r,o,s,a){var l=this.options.titleTextStyle,u=new ChartTextStyle(Helpers.right(l,"fontName",t),Helpers.right(l,"fontSize",n),Helpers.right(l,"bold",i),Helpers.right(l,"italic",r),Helpers.right(l,"color",o),Helpers.right(l,"auraColor",s),Helpers.right(l,"opacity",a)),c=new ScatterChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.lineWidth,this.options.pointSize,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,u,this.options.tooltip,this.options.trendlines,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,c)}},{key:"tooltip",value:function(t,n,i){var r=this.options.tooltip,o=function(){var e=Helpers.right(r,"isHtml",t),o=Helpers.right(r,"showColorCode",n),s=Helpers.right(r,"trigger",i);return new ChartTooltip(e,o,Helpers.copy(r,"textStyle"),s)}(),s=new ScatterChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.lineWidth,this.options.pointSize,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,o,this.options.trendlines,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,s)}},{key:"vAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v){var C=this.options.vAxis,T=function(){var e=Helpers.right(C,"baseline",t),T=Helpers.right(C,"baselineColor",n),b=Helpers.right(C,"direction",i),w=Helpers.right(C,"format",r),$=Helpers.right(C,"logScale",o),S=Helpers.right(C,"textPosition",s),_=Helpers.right(C,"ticks",function(){var e=a;return null!=e?function(e){return _Array$from(e)}(e):e}()),k=Helpers.right(C,"title",l),x=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),E=Helpers.right(C,"slantedText",c),A=Helpers.right(C,"slantedTextAngle",p),F=Helpers.right(C,"maxAlternation",h),N=Helpers.right(C,"maxTextLines",f),P=Helpers.right(C,"minTextSpacing",d),H=Helpers.right(C,"showTextEvery",y),O=Helpers.right(C,"maxValue",m),L=Helpers.right(C,"minValue",g),R=Helpers.right(C,"viewWindowMode",v);return new ChartAxis(e,T,b,w,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),$,S,Helpers.copy(C,"textStyle"),_,k,Helpers.copy(C,"titleTextStyle"),x,E,A,F,N,P,H,O,L,R,Helpers.copy(C,"viewWindow"))}(),b=new ScatterChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.lineWidth,this.options.pointSize,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.trendlines,T,this.options.width);return new e(this.data,this.typeName,b)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.Scatter",Scatter);var Column=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.Column",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:ColumnChartOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v){var C=this,T=function(){var e=Helpers.right(C.options,"aggregationTarget",t),T=Helpers.right(C.options,"axisTitlesPosition",n),b=Helpers.right(C.options,"backgroundColor",i),w=Helpers.right(C.options,"colors",function(){var e=r;return null!=e?function(e){return _Array$from(e)}(e):e}()),$=Helpers.right(C.options,"enableInteractivity",o),S=Helpers.right(C.options,"focusTarget",s),_=Helpers.right(C.options,"fontSize",a),k=Helpers.right(C.options,"fontName",l),x=Helpers.right(C.options,"height",u),E=Helpers.right(C.options,"isStacked",c),A=Helpers.right(C.options,"reverseCategories",p),F=Helpers.right(C.options,"selectionMode",h),N=Helpers.right(C.options,"series",f),P=Helpers.right(C.options,"theme",d),H=Helpers.right(C.options,"title",y),O=Helpers.right(C.options,"titlePosition",m),L=Helpers.right(C.options,"vAxes",g),R=Helpers.right(C.options,"width",v);return new ColumnChartOptions(e,C.options.animation,C.options.annotations,T,b,C.options.bar,C.options.chartArea,w,$,S,_,k,C.options.hAxis,x,E,C.options.legend,A,F,N,P,H,O,C.options.titleTextStyle,C.options.tooltip,L,C.options.vAxis,R)}();return new e(this.data,this.typeName,T)}},{key:"animation",value:function(t,n){var i=this.options.animation,r=new TransitionAnimation(Helpers.right(i,"duration",t),Helpers.right(i,"easing",n)),o=new ColumnChartOptions(this.options.aggregationTarget,r,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,o)}},{key:"bar",value:function(t){var n=this.options.bar,i=new GroupWidth(Helpers.right(n,"groupWidth",t)),r=new ColumnChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,i,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,r)}},{key:"chartArea",value:function(t,n,i,r){var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",t),Helpers.right(o,"left",n),Helpers.right(o,"width",i),Helpers.right(o,"height",r)),a=new ColumnChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,s,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"hAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v){var C=this.options.hAxis,T=function(){var e=Helpers.right(C,"baseline",t),T=Helpers.right(C,"baselineColor",n),b=Helpers.right(C,"direction",i),w=Helpers.right(C,"format",r),$=Helpers.right(C,"logScale",o),S=Helpers.right(C,"textPosition",s),_=Helpers.right(C,"ticks",function(){var e=a;return null!=e?function(e){return _Array$from(e)}(e):e}()),k=Helpers.right(C,"title",l),x=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),E=Helpers.right(C,"slantedText",c),A=Helpers.right(C,"slantedTextAngle",p),F=Helpers.right(C,"maxAlternation",h),N=Helpers.right(C,"maxTextLines",f),P=Helpers.right(C,"minTextSpacing",d),H=Helpers.right(C,"showTextEvery",y),O=Helpers.right(C,"maxValue",m),L=Helpers.right(C,"minValue",g),R=Helpers.right(C,"viewWindowMode",v);return new ChartAxis(e,T,b,w,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),$,S,Helpers.copy(C,"textStyle"),_,k,Helpers.copy(C,"titleTextStyle"),x,E,A,F,N,P,H,O,L,R,Helpers.copy(C,"viewWindow"))}(),b=new ColumnChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,T,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,b)}},{key:"legend",value:function(t,n,i,r){var o=this.options.legend,s=function(){var e=Helpers.right(o,"alignment",t),s=Helpers.right(o,"maxLines",n),a=Helpers.right(o,"position",i),l=Helpers.right(o,"numberFormat",r);return new ChartLegend(e,s,a,Helpers.copy(o,"textStyle"),l)}(),a=new ColumnChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.isStacked,s,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"titleTextStyle",value:function(t,n,i,r,o,s,a){var l=this.options.titleTextStyle,u=new ChartTextStyle(Helpers.right(l,"fontName",t),Helpers.right(l,"fontSize",n),Helpers.right(l,"bold",i),Helpers.right(l,"italic",r),Helpers.right(l,"color",o),Helpers.right(l,"auraColor",s),Helpers.right(l,"opacity",a)),c=new ColumnChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,u,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,c)}},{key:"tooltip",value:function(t,n,i){var r=this.options.tooltip,o=function(){var e=Helpers.right(r,"isHtml",t),o=Helpers.right(r,"showColorCode",n),s=Helpers.right(r,"trigger",i);return new ChartTooltip(e,o,Helpers.copy(r,"textStyle"),s)}(),s=new ColumnChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,o,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,s)}},{key:"vAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v){var C=this.options.vAxis,T=function(){var e=Helpers.right(C,"baseline",t),T=Helpers.right(C,"baselineColor",n),b=Helpers.right(C,"direction",i),w=Helpers.right(C,"format",r),$=Helpers.right(C,"logScale",o),S=Helpers.right(C,"textPosition",s),_=Helpers.right(C,"ticks",function(){var e=a;return null!=e?function(e){return _Array$from(e)}(e):e}()),k=Helpers.right(C,"title",l),x=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),E=Helpers.right(C,"slantedText",c),A=Helpers.right(C,"slantedTextAngle",p),F=Helpers.right(C,"maxAlternation",h),N=Helpers.right(C,"maxTextLines",f),P=Helpers.right(C,"minTextSpacing",d),H=Helpers.right(C,"showTextEvery",y),O=Helpers.right(C,"maxValue",m),L=Helpers.right(C,"minValue",g),R=Helpers.right(C,"viewWindowMode",v);return new ChartAxis(e,T,b,w,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),$,S,Helpers.copy(C,"textStyle"),_,k,Helpers.copy(C,"titleTextStyle"),x,E,A,F,N,P,H,O,L,R,Helpers.copy(C,"viewWindow"))}(),b=new ColumnChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,T,this.options.width);return new e(this.data,this.typeName,b)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.Column",Column);var Line=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.Line",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:LineChartOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v,C,T,b,w,$){var S=this,_=function(){var e=Helpers.right(S.options,"aggregationTarget",t),_=Helpers.right(S.options,"axisTitlesPosition",n),k=Helpers.right(S.options,"backgroundColor",i),x=Helpers.right(S.options,"colors",function(){var e=r;return null!=e?function(e){return _Array$from(e)}(e):e}()),E=Helpers.right(S.options,"curveType",o),A=Helpers.right(S.options,"dataOpacity",s),F=Helpers.right(S.options,"enableInteractivity",a),N=Helpers.right(S.options,"focusTarget",l),P=Helpers.right(S.options,"fontSize",u),H=Helpers.right(S.options,"fontName",c),O=Helpers.right(S.options,"height",p),L=Helpers.right(S.options,"interpolateNulls",h),R=Helpers.right(S.options,"lineWidth",f),G=Helpers.right(S.options,"orientation",d),I=Helpers.right(S.options,"pointSize",y),D=Helpers.right(S.options,"reverseCategories",m),M=Helpers.right(S.options,"selectionMode",g),B=Helpers.right(S.options,"series",v),q=Helpers.right(S.options,"theme",C),j=Helpers.right(S.options,"title",T),V=Helpers.right(S.options,"titlePosition",b),z=Helpers.right(S.options,"vAxes",w),W=Helpers.right(S.options,"width",$);return new LineChartOptions(e,S.options.animation,S.options.annotations,_,k,S.options.chartArea,x,S.options.crosshair,E,A,F,S.options.explorer,N,P,H,S.options.hAxis,O,L,S.options.legend,R,G,I,D,M,B,q,j,V,S.options.titleTextStyle,S.options.tooltip,z,S.options.vAxis,W)}();return new e(this.data,this.typeName,_)}},{key:"animation",value:function(t,n){var i=this.options.animation,r=new TransitionAnimation(Helpers.right(i,"duration",t),Helpers.right(i,"easing",n)),o=new LineChartOptions(this.options.aggregationTarget,r,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,o)}},{key:"chartArea",value:function(t,n,i,r){var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",t),Helpers.right(o,"left",n),Helpers.right(o,"width",i),Helpers.right(o,"height",r)),a=new LineChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,s,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"crosshair",value:function(t,n,i,r){var o=this.options.crosshair,s=function(){var e=Helpers.right(o,"color",t),s=Helpers.right(o,"opacity",n),a=Helpers.right(o,"orientation",i),l=Helpers.right(o,"trigger",r);return new ChartCrosshair(e,Helpers.copy(o,"focused"),s,a,Helpers.copy(o,"selected"),l)}(),a=new LineChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,s,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"explorer",value:function(t,n,i,r,o,s){var a=this.options.explorer,l=new ChartExplorer(Helpers.right(a,"actions",function(){var e=t;return null!=e?function(e){return _Array$from(e)}(e):e}()),Helpers.right(a,"axis",n),Helpers.right(a,"keepInBounds",i),Helpers.right(a,"maxZoomIn",r),Helpers.right(a,"maxZoomOut",o),Helpers.right(a,"zoomDelta",s)),u=new LineChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,l,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,u)}},{key:"hAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v){var C=this.options.hAxis,T=function(){var e=Helpers.right(C,"baseline",t),T=Helpers.right(C,"baselineColor",n),b=Helpers.right(C,"direction",i),w=Helpers.right(C,"format",r),$=Helpers.right(C,"logScale",o),S=Helpers.right(C,"textPosition",s),_=Helpers.right(C,"ticks",function(){var e=a;return null!=e?function(e){return _Array$from(e)}(e):e}()),k=Helpers.right(C,"title",l),x=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),E=Helpers.right(C,"slantedText",c),A=Helpers.right(C,"slantedTextAngle",p),F=Helpers.right(C,"maxAlternation",h),N=Helpers.right(C,"maxTextLines",f),P=Helpers.right(C,"minTextSpacing",d),H=Helpers.right(C,"showTextEvery",y),O=Helpers.right(C,"maxValue",m),L=Helpers.right(C,"minValue",g),R=Helpers.right(C,"viewWindowMode",v);return new ChartAxis(e,T,b,w,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),$,S,Helpers.copy(C,"textStyle"),_,k,Helpers.copy(C,"titleTextStyle"),x,E,A,F,N,P,H,O,L,R,Helpers.copy(C,"viewWindow"))}(),b=new LineChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,T,this.options.height,this.options.interpolateNulls,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,b)}},{key:"legend",value:function(t,n,i,r){var o=this.options.legend,s=function(){var e=Helpers.right(o,"alignment",t),s=Helpers.right(o,"maxLines",n),a=Helpers.right(o,"position",i),l=Helpers.right(o,"numberFormat",r);return new ChartLegend(e,s,a,Helpers.copy(o,"textStyle"),l);
}(),a=new LineChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,s,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"titleTextStyle",value:function(t,n,i,r,o,s,a){var l=this.options.titleTextStyle,u=new ChartTextStyle(Helpers.right(l,"fontName",t),Helpers.right(l,"fontSize",n),Helpers.right(l,"bold",i),Helpers.right(l,"italic",r),Helpers.right(l,"color",o),Helpers.right(l,"auraColor",s),Helpers.right(l,"opacity",a)),c=new LineChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,u,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,c)}},{key:"tooltip",value:function(t,n,i){var r=this.options.tooltip,o=function(){var e=Helpers.right(r,"isHtml",t),o=Helpers.right(r,"showColorCode",n),s=Helpers.right(r,"trigger",i);return new ChartTooltip(e,o,Helpers.copy(r,"textStyle"),s)}(),s=new LineChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,o,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,s)}},{key:"vAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v){var C=this.options.vAxis,T=function(){var e=Helpers.right(C,"baseline",t),T=Helpers.right(C,"baselineColor",n),b=Helpers.right(C,"direction",i),w=Helpers.right(C,"format",r),$=Helpers.right(C,"logScale",o),S=Helpers.right(C,"textPosition",s),_=Helpers.right(C,"ticks",function(){var e=a;return null!=e?function(e){return _Array$from(e)}(e):e}()),k=Helpers.right(C,"title",l),x=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),E=Helpers.right(C,"slantedText",c),A=Helpers.right(C,"slantedTextAngle",p),F=Helpers.right(C,"maxAlternation",h),N=Helpers.right(C,"maxTextLines",f),P=Helpers.right(C,"minTextSpacing",d),H=Helpers.right(C,"showTextEvery",y),O=Helpers.right(C,"maxValue",m),L=Helpers.right(C,"minValue",g),R=Helpers.right(C,"viewWindowMode",v);return new ChartAxis(e,T,b,w,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),$,S,Helpers.copy(C,"textStyle"),_,k,Helpers.copy(C,"titleTextStyle"),x,E,A,F,N,P,H,O,L,R,Helpers.copy(C,"viewWindow"))}(),b=new LineChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,T,this.options.width);return new e(this.data,this.typeName,b)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.Line",Line);var Bar=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.Bar",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:BarChartOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v,C){var T=this,b=function(){var e=Helpers.right(T.options,"aggregationTarget",t),b=Helpers.right(T.options,"axisTitlesPosition",n),w=Helpers.right(T.options,"backgroundColor",i),$=Helpers.right(T.options,"colors",function(){var e=r;return null!=e?function(e){return _Array$from(e)}(e):e}()),S=Helpers.right(T.options,"dataOpacity",o),_=Helpers.right(T.options,"enableInteractivity",s),k=Helpers.right(T.options,"focusTarget",a),x=Helpers.right(T.options,"fontSize",l),E=Helpers.right(T.options,"fontName",u),A=Helpers.right(T.options,"hAxes",c),F=Helpers.right(T.options,"height",p),N=Helpers.right(T.options,"isStacked",h),P=Helpers.right(T.options,"reverseCategories",f),H=Helpers.right(T.options,"series",d),O=Helpers.right(T.options,"theme",y),L=Helpers.right(T.options,"title",m),R=Helpers.right(T.options,"titlePosition",g),G=Helpers.right(T.options,"vAxes",v),I=Helpers.right(T.options,"width",C);return new BarChartOptions(e,T.options.animation,T.options.annotations,b,w,T.options.bar,T.options.chartArea,$,S,_,k,x,E,A,T.options.hAxis,F,N,T.options.legend,P,H,O,L,R,T.options.titleTextStyle,T.options.tooltip,G,T.options.vAxis,I)}();return new e(this.data,this.typeName,b)}},{key:"animation",value:function(t,n){var i=this.options.animation,r=new TransitionAnimation(Helpers.right(i,"duration",t),Helpers.right(i,"easing",n)),o=new BarChartOptions(this.options.aggregationTarget,r,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxes,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,o)}},{key:"bar",value:function(t){var n=this.options.bar,i=new GroupWidth(Helpers.right(n,"groupWidth",t)),r=new BarChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,i,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxes,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,r)}},{key:"chartArea",value:function(t,n,i,r){var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",t),Helpers.right(o,"left",n),Helpers.right(o,"width",i),Helpers.right(o,"height",r)),a=new BarChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,s,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxes,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"hAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v){var C=this.options.hAxis,T=function(){var e=Helpers.right(C,"baseline",t),T=Helpers.right(C,"baselineColor",n),b=Helpers.right(C,"direction",i),w=Helpers.right(C,"format",r),$=Helpers.right(C,"logScale",o),S=Helpers.right(C,"textPosition",s),_=Helpers.right(C,"ticks",function(){var e=a;return null!=e?function(e){return _Array$from(e)}(e):e}()),k=Helpers.right(C,"title",l),x=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),E=Helpers.right(C,"slantedText",c),A=Helpers.right(C,"slantedTextAngle",p),F=Helpers.right(C,"maxAlternation",h),N=Helpers.right(C,"maxTextLines",f),P=Helpers.right(C,"minTextSpacing",d),H=Helpers.right(C,"showTextEvery",y),O=Helpers.right(C,"maxValue",m),L=Helpers.right(C,"minValue",g),R=Helpers.right(C,"viewWindowMode",v);return new ChartAxis(e,T,b,w,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),$,S,Helpers.copy(C,"textStyle"),_,k,Helpers.copy(C,"titleTextStyle"),x,E,A,F,N,P,H,O,L,R,Helpers.copy(C,"viewWindow"))}(),b=new BarChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxes,T,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,b)}},{key:"legend",value:function(t,n,i,r){var o=this.options.legend,s=function(){var e=Helpers.right(o,"alignment",t),s=Helpers.right(o,"maxLines",n),a=Helpers.right(o,"position",i),l=Helpers.right(o,"numberFormat",r);return new ChartLegend(e,s,a,Helpers.copy(o,"textStyle"),l)}(),a=new BarChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxes,this.options.hAxis,this.options.height,this.options.isStacked,s,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"titleTextStyle",value:function(t,n,i,r,o,s,a){var l=this.options.titleTextStyle,u=new ChartTextStyle(Helpers.right(l,"fontName",t),Helpers.right(l,"fontSize",n),Helpers.right(l,"bold",i),Helpers.right(l,"italic",r),Helpers.right(l,"color",o),Helpers.right(l,"auraColor",s),Helpers.right(l,"opacity",a)),c=new BarChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxes,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,u,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,c)}},{key:"tooltip",value:function(t,n,i){var r=this.options.tooltip,o=function(){var e=Helpers.right(r,"isHtml",t),o=Helpers.right(r,"showColorCode",n),s=Helpers.right(r,"trigger",i);return new ChartTooltip(e,o,Helpers.copy(r,"textStyle"),s)}(),s=new BarChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxes,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,o,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,s)}},{key:"vAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v){var C=this.options.vAxis,T=function(){var e=Helpers.right(C,"baseline",t),T=Helpers.right(C,"baselineColor",n),b=Helpers.right(C,"direction",i),w=Helpers.right(C,"format",r),$=Helpers.right(C,"logScale",o),S=Helpers.right(C,"textPosition",s),_=Helpers.right(C,"ticks",function(){var e=a;return null!=e?function(e){return _Array$from(e)}(e):e}()),k=Helpers.right(C,"title",l),x=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),E=Helpers.right(C,"slantedText",c),A=Helpers.right(C,"slantedTextAngle",p),F=Helpers.right(C,"maxAlternation",h),N=Helpers.right(C,"maxTextLines",f),P=Helpers.right(C,"minTextSpacing",d),H=Helpers.right(C,"showTextEvery",y),O=Helpers.right(C,"maxValue",m),L=Helpers.right(C,"minValue",g),R=Helpers.right(C,"viewWindowMode",v);return new ChartAxis(e,T,b,w,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),$,S,Helpers.copy(C,"textStyle"),_,k,Helpers.copy(C,"titleTextStyle"),x,E,A,F,N,P,H,O,L,R,Helpers.copy(C,"viewWindow"))}(),b=new BarChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxes,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,T,this.options.width);return new e(this.data,this.typeName,b)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.Bar",Bar);var Histogram=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.Histogram",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:HistogramOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v,C){var T=this,b=function(){var e=Helpers.right(T.options,"axisTitlesPosition",t),b=Helpers.right(T.options,"backgroundColor",n),w=Helpers.right(T.options,"colors",function(){var e=i;return null!=e?function(e){return _Array$from(e)}(e):e}()),$=Helpers.right(T.options,"dataOpacity",r),S=Helpers.right(T.options,"enableInteractivity",o),_=Helpers.right(T.options,"focusTarget",s),k=Helpers.right(T.options,"fontSize",a),x=Helpers.right(T.options,"fontName",l),E=Helpers.right(T.options,"height",u),A=Helpers.right(T.options,"interpolateNulls",c),F=Helpers.right(T.options,"isStacked",p),N=Helpers.right(T.options,"orientation",h),P=Helpers.right(T.options,"reverseCategories",f),H=Helpers.right(T.options,"series",d),O=Helpers.right(T.options,"theme",y),L=Helpers.right(T.options,"title",m),R=Helpers.right(T.options,"titlePosition",g),G=Helpers.right(T.options,"vAxes",v),I=Helpers.right(T.options,"width",C);return new HistogramOptions(T.options.animation,e,b,T.options.bar,T.options.chartArea,w,$,S,_,k,x,T.options.hAxis,T.options.histogram,E,A,F,T.options.legend,N,P,H,O,L,R,T.options.titleTextStyle,T.options.tooltip,G,T.options.vAxis,I)}();return new e(this.data,this.typeName,b)}},{key:"animation",value:function(t,n){var i=this.options.animation,r=new TransitionAnimation(Helpers.right(i,"duration",t),Helpers.right(i,"easing",n)),o=new HistogramOptions(r,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.histogram,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,o)}},{key:"bar",value:function(t){var n=this.options.bar,i=new GroupWidth(Helpers.right(n,"groupWidth",t)),r=new HistogramOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,i,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.histogram,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,r)}},{key:"chartArea",value:function(t,n,i,r){var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",t),Helpers.right(o,"left",n),Helpers.right(o,"width",i),Helpers.right(o,"height",r)),a=new HistogramOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,s,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.histogram,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"hAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v){var C=this.options.hAxis,T=function(){var e=Helpers.right(C,"baseline",t),T=Helpers.right(C,"baselineColor",n),b=Helpers.right(C,"direction",i),w=Helpers.right(C,"format",r),$=Helpers.right(C,"logScale",o),S=Helpers.right(C,"textPosition",s),_=Helpers.right(C,"ticks",function(){var e=a;return null!=e?function(e){return _Array$from(e)}(e):e}()),k=Helpers.right(C,"title",l),x=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),E=Helpers.right(C,"slantedText",c),A=Helpers.right(C,"slantedTextAngle",p),F=Helpers.right(C,"maxAlternation",h),N=Helpers.right(C,"maxTextLines",f),P=Helpers.right(C,"minTextSpacing",d),H=Helpers.right(C,"showTextEvery",y),O=Helpers.right(C,"maxValue",m),L=Helpers.right(C,"minValue",g),R=Helpers.right(C,"viewWindowMode",v);return new ChartAxis(e,T,b,w,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),$,S,Helpers.copy(C,"textStyle"),_,k,Helpers.copy(C,"titleTextStyle"),x,E,A,F,N,P,H,O,L,R,Helpers.copy(C,"viewWindow"))}(),b=new HistogramOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,T,this.options.histogram,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,b)}},{key:"histogram",value:function(t,n,i){var r=this.options.histogram,o=new HistogramHistogram(Helpers.right(r,"bucketSize",t),Helpers.right(r,"hideBucketItems",n),Helpers.right(r,"lastBucketPercentile",i)),s=new HistogramOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,o,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,s)}},{key:"legend",value:function(t,n,i,r){var o=this.options.legend,s=function(){var e=Helpers.right(o,"alignment",t),s=Helpers.right(o,"maxLines",n),a=Helpers.right(o,"position",i),l=Helpers.right(o,"numberFormat",r);return new ChartLegend(e,s,a,Helpers.copy(o,"textStyle"),l)}(),a=new HistogramOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.histogram,this.options.height,this.options.interpolateNulls,this.options.isStacked,s,this.options.orientation,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"titleTextStyle",value:function(t,n,i,r,o,s,a){var l=this.options.titleTextStyle,u=new ChartTextStyle(Helpers.right(l,"fontName",t),Helpers.right(l,"fontSize",n),Helpers.right(l,"bold",i),Helpers.right(l,"italic",r),Helpers.right(l,"color",o),Helpers.right(l,"auraColor",s),Helpers.right(l,"opacity",a)),c=new HistogramOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.histogram,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,u,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,c)}},{key:"tooltip",value:function(t,n,i){var r=this.options.tooltip,o=function(){var e=Helpers.right(r,"isHtml",t),o=Helpers.right(r,"showColorCode",n),s=Helpers.right(r,"trigger",i);return new ChartTooltip(e,o,Helpers.copy(r,"textStyle"),s)}(),s=new HistogramOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.histogram,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,o,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,s)}},{key:"vAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v){var C=this.options.vAxis,T=function(){var e=Helpers.right(C,"baseline",t),T=Helpers.right(C,"baselineColor",n),b=Helpers.right(C,"direction",i),w=Helpers.right(C,"format",r),$=Helpers.right(C,"logScale",o),S=Helpers.right(C,"textPosition",s),_=Helpers.right(C,"ticks",function(){var e=a;return null!=e?function(e){return _Array$from(e)}(e):e}()),k=Helpers.right(C,"title",l),x=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),E=Helpers.right(C,"slantedText",c),A=Helpers.right(C,"slantedTextAngle",p),F=Helpers.right(C,"maxAlternation",h),N=Helpers.right(C,"maxTextLines",f),P=Helpers.right(C,"minTextSpacing",d),H=Helpers.right(C,"showTextEvery",y),O=Helpers.right(C,"maxValue",m),L=Helpers.right(C,"minValue",g),R=Helpers.right(C,"viewWindowMode",v);return new ChartAxis(e,T,b,w,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),$,S,Helpers.copy(C,"textStyle"),_,k,Helpers.copy(C,"titleTextStyle"),x,E,A,F,N,P,H,O,L,R,Helpers.copy(C,"viewWindow"))}(),b=new HistogramOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.histogram,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,T,this.options.width);return new e(this.data,this.typeName,b)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.Histogram",Histogram);var Area=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.Area",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:AreaChartOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v,C,T,b,w,$,S){var _=this,k=function(){var e=Helpers.right(_.options,"aggregationTarget",t),k=Helpers.right(_.options,"areaOpacity",n),x=Helpers.right(_.options,"axisTitlesPosition",i),E=Helpers.right(_.options,"backgroundColor",r),A=Helpers.right(_.options,"colors",function(){var e=o;return null!=e?function(e){return _Array$from(e)}(e):e}()),F=Helpers.right(_.options,"dataOpacity",s),N=Helpers.right(_.options,"enableInteractivity",a),P=Helpers.right(_.options,"focusTarget",l),H=Helpers.right(_.options,"fontSize",u),O=Helpers.right(_.options,"fontName",c),L=Helpers.right(_.options,"height",p),R=Helpers.right(_.options,"interpolateNulls",h),G=Helpers.right(_.options,"isStacked",f),I=Helpers.right(_.options,"lineWidth",d),D=Helpers.right(_.options,"orientation",y),M=Helpers.right(_.options,"pointSize",m),B=Helpers.right(_.options,"reverseCategories",g),q=Helpers.right(_.options,"selectionMode",v),j=Helpers.right(_.options,"series",C),V=Helpers.right(_.options,"theme",T),z=Helpers.right(_.options,"title",b),W=Helpers.right(_.options,"titlePosition",w),K=Helpers.right(_.options,"vAxes",$),U=Helpers.right(_.options,"width",S);return new AreaChartOptions(e,_.options.animation,k,x,E,_.options.chartArea,A,_.options.crosshair,F,N,_.options.explorer,P,H,O,_.options.hAxis,L,R,G,_.options.legend,I,D,M,B,q,j,V,z,W,_.options.titleTextStyle,_.options.tooltip,K,_.options.vAxis,U)}();return new e(this.data,this.typeName,k)}},{key:"animation",value:function(t,n){var i=this.options.animation,r=new TransitionAnimation(Helpers.right(i,"duration",t),Helpers.right(i,"easing",n)),o=new AreaChartOptions(this.options.aggregationTarget,r,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,o)}},{key:"chartArea",value:function(t,n,i,r){var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",t),Helpers.right(o,"left",n),Helpers.right(o,"width",i),Helpers.right(o,"height",r)),a=new AreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,s,this.options.colors,this.options.crosshair,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"crosshair",value:function(t,n,i,r){var o=this.options.crosshair,s=function(){var e=Helpers.right(o,"color",t),s=Helpers.right(o,"opacity",n),a=Helpers.right(o,"orientation",i),l=Helpers.right(o,"trigger",r);return new ChartCrosshair(e,Helpers.copy(o,"focused"),s,a,Helpers.copy(o,"selected"),l)}(),a=new AreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,s,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);
return new e(this.data,this.typeName,a)}},{key:"explorer",value:function(t,n,i,r,o,s){var a=this.options.explorer,l=new ChartExplorer(Helpers.right(a,"actions",function(){var e=t;return null!=e?function(e){return _Array$from(e)}(e):e}()),Helpers.right(a,"axis",n),Helpers.right(a,"keepInBounds",i),Helpers.right(a,"maxZoomIn",r),Helpers.right(a,"maxZoomOut",o),Helpers.right(a,"zoomDelta",s)),u=new AreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.dataOpacity,this.options.enableInteractivity,l,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,u)}},{key:"hAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v){var C=this.options.hAxis,T=function(){var e=Helpers.right(C,"baseline",t),T=Helpers.right(C,"baselineColor",n),b=Helpers.right(C,"direction",i),w=Helpers.right(C,"format",r),$=Helpers.right(C,"logScale",o),S=Helpers.right(C,"textPosition",s),_=Helpers.right(C,"ticks",function(){var e=a;return null!=e?function(e){return _Array$from(e)}(e):e}()),k=Helpers.right(C,"title",l),x=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),E=Helpers.right(C,"slantedText",c),A=Helpers.right(C,"slantedTextAngle",p),F=Helpers.right(C,"maxAlternation",h),N=Helpers.right(C,"maxTextLines",f),P=Helpers.right(C,"minTextSpacing",d),H=Helpers.right(C,"showTextEvery",y),O=Helpers.right(C,"maxValue",m),L=Helpers.right(C,"minValue",g),R=Helpers.right(C,"viewWindowMode",v);return new ChartAxis(e,T,b,w,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),$,S,Helpers.copy(C,"textStyle"),_,k,Helpers.copy(C,"titleTextStyle"),x,E,A,F,N,P,H,O,L,R,Helpers.copy(C,"viewWindow"))}(),b=new AreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,T,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,b)}},{key:"legend",value:function(t,n,i,r){var o=this.options.legend,s=function(){var e=Helpers.right(o,"alignment",t),s=Helpers.right(o,"maxLines",n),a=Helpers.right(o,"position",i),l=Helpers.right(o,"numberFormat",r);return new ChartLegend(e,s,a,Helpers.copy(o,"textStyle"),l)}(),a=new AreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,s,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"titleTextStyle",value:function(t,n,i,r,o,s,a){var l=this.options.titleTextStyle,u=new ChartTextStyle(Helpers.right(l,"fontName",t),Helpers.right(l,"fontSize",n),Helpers.right(l,"bold",i),Helpers.right(l,"italic",r),Helpers.right(l,"color",o),Helpers.right(l,"auraColor",s),Helpers.right(l,"opacity",a)),c=new AreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,u,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,c)}},{key:"tooltip",value:function(t,n,i){var r=this.options.tooltip,o=function(){var e=Helpers.right(r,"isHtml",t),o=Helpers.right(r,"showColorCode",n),s=Helpers.right(r,"trigger",i);return new ChartTooltip(e,o,Helpers.copy(r,"textStyle"),s)}(),s=new AreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,o,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,s)}},{key:"vAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v){var C=this.options.vAxis,T=function(){var e=Helpers.right(C,"baseline",t),T=Helpers.right(C,"baselineColor",n),b=Helpers.right(C,"direction",i),w=Helpers.right(C,"format",r),$=Helpers.right(C,"logScale",o),S=Helpers.right(C,"textPosition",s),_=Helpers.right(C,"ticks",function(){var e=a;return null!=e?function(e){return _Array$from(e)}(e):e}()),k=Helpers.right(C,"title",l),x=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),E=Helpers.right(C,"slantedText",c),A=Helpers.right(C,"slantedTextAngle",p),F=Helpers.right(C,"maxAlternation",h),N=Helpers.right(C,"maxTextLines",f),P=Helpers.right(C,"minTextSpacing",d),H=Helpers.right(C,"showTextEvery",y),O=Helpers.right(C,"maxValue",m),L=Helpers.right(C,"minValue",g),R=Helpers.right(C,"viewWindowMode",v);return new ChartAxis(e,T,b,w,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),$,S,Helpers.copy(C,"textStyle"),_,k,Helpers.copy(C,"titleTextStyle"),x,E,A,F,N,P,H,O,L,R,Helpers.copy(C,"viewWindow"))}(),b=new AreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,T,this.options.width);return new e(this.data,this.typeName,b)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.Area",Area);var Annotation=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.Annotation",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:AnnotationChartOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v,C,T,b,w,$,S){var _=new AnnotationChartOptions(Helpers.right(this.options,"allowHtml",t),Helpers.right(this.options,"allValuesSuffix",n),Helpers.right(this.options,"annotationsWidth",i),Helpers.right(this.options,"colors",function(){var e=r;return null!=e?function(e){return _Array$from(e)}(e):e}()),Helpers.right(this.options,"dateFormat",o),Helpers.right(this.options,"displayAnnotations",s),Helpers.right(this.options,"displayAnnotationsFilter",a),Helpers.right(this.options,"displayDateTimeBarSeparator",l),Helpers.right(this.options,"displayExactValues",u),Helpers.right(this.options,"displayLegendDots",c),Helpers.right(this.options,"displayLegendValues",p),Helpers.right(this.options,"displayRangeSelector",h),Helpers.right(this.options,"displayZoomButtons",f),Helpers.right(this.options,"fill",d),Helpers.right(this.options,"legendPosition",y),Helpers.right(this.options,"max",m),Helpers.right(this.options,"min",g),Helpers.right(this.options,"numberFormats",v),Helpers.right(this.options,"scaleColumns",function(){var e=C;return null!=e?function(e){return Float64Array.from(e)}(e):e}()),Helpers.right(this.options,"scaleFormat",T),Helpers.right(this.options,"scaleType",b),Helpers.right(this.options,"thickness",w),Helpers.right(this.options,"zoomEndTime",$),Helpers.right(this.options,"zoomStartTime",S));return new e(this.data,this.typeName,_)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.Annotation",Annotation);var SteppedArea=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.SteppedArea",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:SteppedAreaChartOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v,C,T,b){var w=this,$=function(){var e=Helpers.right(w.options,"aggregationTarget",t),$=Helpers.right(w.options,"areaOpacity",n),S=Helpers.right(w.options,"axisTitlesPosition",i),_=Helpers.right(w.options,"backgroundColor",r),k=Helpers.right(w.options,"colors",function(){var e=o;return null!=e?function(e){return _Array$from(e)}(e):e}()),x=Helpers.right(w.options,"connectSteps",s),E=Helpers.right(w.options,"enableInteractivity",a),A=Helpers.right(w.options,"focusTarget",l),F=Helpers.right(w.options,"fontSize",u),N=Helpers.right(w.options,"fontName",c),P=Helpers.right(w.options,"height",p),H=Helpers.right(w.options,"interpolateNulls",h),O=Helpers.right(w.options,"isStacked",f),L=Helpers.right(w.options,"reverseCategories",d),R=Helpers.right(w.options,"selectionMode",y),G=Helpers.right(w.options,"series",m),I=Helpers.right(w.options,"theme",g),D=Helpers.right(w.options,"title",v),M=Helpers.right(w.options,"titlePosition",C),B=Helpers.right(w.options,"vAxes",T),q=Helpers.right(w.options,"width",b);return new SteppedAreaChartOptions(e,w.options.animation,$,S,_,w.options.chartArea,k,x,E,A,F,N,w.options.hAxis,P,H,O,w.options.legend,L,R,G,I,D,M,w.options.titleTextStyle,w.options.tooltip,B,w.options.vAxis,q)}();return new e(this.data,this.typeName,$)}},{key:"animation",value:function(t,n){var i=this.options.animation,r=new TransitionAnimation(Helpers.right(i,"duration",t),Helpers.right(i,"easing",n)),o=new SteppedAreaChartOptions(this.options.aggregationTarget,r,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.connectSteps,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,o)}},{key:"chartArea",value:function(t,n,i,r){var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",t),Helpers.right(o,"left",n),Helpers.right(o,"width",i),Helpers.right(o,"height",r)),a=new SteppedAreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,s,this.options.colors,this.options.connectSteps,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"hAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v){var C=this.options.hAxis,T=function(){var e=Helpers.right(C,"baseline",t),T=Helpers.right(C,"baselineColor",n),b=Helpers.right(C,"direction",i),w=Helpers.right(C,"format",r),$=Helpers.right(C,"logScale",o),S=Helpers.right(C,"textPosition",s),_=Helpers.right(C,"ticks",function(){var e=a;return null!=e?function(e){return _Array$from(e)}(e):e}()),k=Helpers.right(C,"title",l),x=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),E=Helpers.right(C,"slantedText",c),A=Helpers.right(C,"slantedTextAngle",p),F=Helpers.right(C,"maxAlternation",h),N=Helpers.right(C,"maxTextLines",f),P=Helpers.right(C,"minTextSpacing",d),H=Helpers.right(C,"showTextEvery",y),O=Helpers.right(C,"maxValue",m),L=Helpers.right(C,"minValue",g),R=Helpers.right(C,"viewWindowMode",v);return new ChartAxis(e,T,b,w,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),$,S,Helpers.copy(C,"textStyle"),_,k,Helpers.copy(C,"titleTextStyle"),x,E,A,F,N,P,H,O,L,R,Helpers.copy(C,"viewWindow"))}(),b=new SteppedAreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.connectSteps,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,T,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,b)}},{key:"legend",value:function(t,n,i,r){var o=this.options.legend,s=function(){var e=Helpers.right(o,"alignment",t),s=Helpers.right(o,"maxLines",n),a=Helpers.right(o,"position",i),l=Helpers.right(o,"numberFormat",r);return new ChartLegend(e,s,a,Helpers.copy(o,"textStyle"),l)}(),a=new SteppedAreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.connectSteps,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,s,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"titleTextStyle",value:function(t,n,i,r,o,s,a){var l=this.options.titleTextStyle,u=new ChartTextStyle(Helpers.right(l,"fontName",t),Helpers.right(l,"fontSize",n),Helpers.right(l,"bold",i),Helpers.right(l,"italic",r),Helpers.right(l,"color",o),Helpers.right(l,"auraColor",s),Helpers.right(l,"opacity",a)),c=new SteppedAreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.connectSteps,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,u,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,c)}},{key:"tooltip",value:function(t,n,i){var r=this.options.tooltip,o=function(){var e=Helpers.right(r,"isHtml",t),o=Helpers.right(r,"showColorCode",n),s=Helpers.right(r,"trigger",i);return new ChartTooltip(e,o,Helpers.copy(r,"textStyle"),s)}(),s=new SteppedAreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.connectSteps,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,o,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,s)}},{key:"vAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v){var C=this.options.vAxis,T=function(){var e=Helpers.right(C,"baseline",t),T=Helpers.right(C,"baselineColor",n),b=Helpers.right(C,"direction",i),w=Helpers.right(C,"format",r),$=Helpers.right(C,"logScale",o),S=Helpers.right(C,"textPosition",s),_=Helpers.right(C,"ticks",function(){var e=a;return null!=e?function(e){return _Array$from(e)}(e):e}()),k=Helpers.right(C,"title",l),x=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),E=Helpers.right(C,"slantedText",c),A=Helpers.right(C,"slantedTextAngle",p),F=Helpers.right(C,"maxAlternation",h),N=Helpers.right(C,"maxTextLines",f),P=Helpers.right(C,"minTextSpacing",d),H=Helpers.right(C,"showTextEvery",y),O=Helpers.right(C,"maxValue",m),L=Helpers.right(C,"minValue",g),R=Helpers.right(C,"viewWindowMode",v);return new ChartAxis(e,T,b,w,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),$,S,Helpers.copy(C,"textStyle"),_,k,Helpers.copy(C,"titleTextStyle"),x,E,A,F,N,P,H,O,L,R,Helpers.copy(C,"viewWindow"))}(),b=new SteppedAreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.connectSteps,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,T,this.options.width);return new e(this.data,this.typeName,b)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.SteppedArea",SteppedArea);var Pie=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.Pie",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:PieChartOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v){var C=this,T=function(){var e=Helpers.right(C.options,"backgroundColor",t),T=Helpers.right(C.options,"colors",function(){var e=n;return null!=e?function(e){return _Array$from(e)}(e):e}()),b=Helpers.right(C.options,"enableInteractivity",i),w=Helpers.right(C.options,"fontSize",r),$=Helpers.right(C.options,"fontName",o),S=Helpers.right(C.options,"height",s),_=Helpers.right(C.options,"is3D",a),k=Helpers.right(C.options,"pieHole",l),x=Helpers.right(C.options,"pieSliceBorderColor",u),E=Helpers.right(C.options,"pieSliceText",c),A=Helpers.right(C.options,"pieStartAngle",p),F=Helpers.right(C.options,"reverseCategories",h),N=Helpers.right(C.options,"pieResidueSliceColor",f),P=Helpers.right(C.options,"pieResidueSliceLabel",d),H=Helpers.right(C.options,"slices",y),O=Helpers.right(C.options,"sliceVisibilityThreshold",m),L=Helpers.right(C.options,"title",g),R=Helpers.right(C.options,"width",v);return new PieChartOptions(e,C.options.chartArea,T,b,w,$,S,_,C.options.legend,k,x,E,C.options.pieSliceTextStyle,A,F,N,P,H,O,L,C.options.titleTextStyle,C.options.tooltip,R)}();return new e(this.data,this.typeName,T)}},{key:"chartArea",value:function(t,n,i,r){var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",t),Helpers.right(o,"left",n),Helpers.right(o,"width",i),Helpers.right(o,"height",r)),a=new PieChartOptions(this.options.backgroundColor,s,this.options.colors,this.options.enableInteractivity,this.options.fontSize,this.options.fontName,this.options.height,this.options.is3D,this.options.legend,this.options.pieHole,this.options.pieSliceBorderColor,this.options.pieSliceText,this.options.pieSliceTextStyle,this.options.pieStartAngle,this.options.reverseCategories,this.options.pieResidueSliceColor,this.options.pieResidueSliceLabel,this.options.slices,this.options.sliceVisibilityThreshold,this.options.title,this.options.titleTextStyle,this.options.tooltip,this.options.width);return new e(this.data,this.typeName,a)}},{key:"legend",value:function(t,n,i,r){var o=this.options.legend,s=function(){var e=Helpers.right(o,"alignment",t),s=Helpers.right(o,"maxLines",n),a=Helpers.right(o,"position",i),l=Helpers.right(o,"numberFormat",r);return new ChartLegend(e,s,a,Helpers.copy(o,"textStyle"),l)}(),a=new PieChartOptions(this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.fontSize,this.options.fontName,this.options.height,this.options.is3D,s,this.options.pieHole,this.options.pieSliceBorderColor,this.options.pieSliceText,this.options.pieSliceTextStyle,this.options.pieStartAngle,this.options.reverseCategories,this.options.pieResidueSliceColor,this.options.pieResidueSliceLabel,this.options.slices,this.options.sliceVisibilityThreshold,this.options.title,this.options.titleTextStyle,this.options.tooltip,this.options.width);return new e(this.data,this.typeName,a)}},{key:"pieSliceTextStyle",value:function(t,n,i,r,o,s,a){var l=this.options.pieSliceTextStyle,u=new ChartTextStyle(Helpers.right(l,"fontName",t),Helpers.right(l,"fontSize",n),Helpers.right(l,"bold",i),Helpers.right(l,"italic",r),Helpers.right(l,"color",o),Helpers.right(l,"auraColor",s),Helpers.right(l,"opacity",a)),c=new PieChartOptions(this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.fontSize,this.options.fontName,this.options.height,this.options.is3D,this.options.legend,this.options.pieHole,this.options.pieSliceBorderColor,this.options.pieSliceText,u,this.options.pieStartAngle,this.options.reverseCategories,this.options.pieResidueSliceColor,this.options.pieResidueSliceLabel,this.options.slices,this.options.sliceVisibilityThreshold,this.options.title,this.options.titleTextStyle,this.options.tooltip,this.options.width);return new e(this.data,this.typeName,c)}},{key:"titleTextStyle",value:function(t,n,i,r,o,s,a){var l=this.options.titleTextStyle,u=new ChartTextStyle(Helpers.right(l,"fontName",t),Helpers.right(l,"fontSize",n),Helpers.right(l,"bold",i),Helpers.right(l,"italic",r),Helpers.right(l,"color",o),Helpers.right(l,"auraColor",s),Helpers.right(l,"opacity",a)),c=new PieChartOptions(this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.fontSize,this.options.fontName,this.options.height,this.options.is3D,this.options.legend,this.options.pieHole,this.options.pieSliceBorderColor,this.options.pieSliceText,this.options.pieSliceTextStyle,this.options.pieStartAngle,this.options.reverseCategories,this.options.pieResidueSliceColor,this.options.pieResidueSliceLabel,this.options.slices,this.options.sliceVisibilityThreshold,this.options.title,u,this.options.tooltip,this.options.width);return new e(this.data,this.typeName,c)}},{key:"tooltip",value:function(t,n,i){var r=this.options.tooltip,o=function(){var e=Helpers.right(r,"isHtml",t),o=Helpers.right(r,"showColorCode",n),s=Helpers.right(r,"trigger",i);return new ChartTooltip(e,o,Helpers.copy(r,"textStyle"),s)}(),s=new PieChartOptions(this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.fontSize,this.options.fontName,this.options.height,this.options.is3D,this.options.legend,this.options.pieHole,this.options.pieSliceBorderColor,this.options.pieSliceText,this.options.pieSliceTextStyle,this.options.pieStartAngle,this.options.reverseCategories,this.options.pieResidueSliceColor,this.options.pieResidueSliceLabel,this.options.slices,this.options.sliceVisibilityThreshold,this.options.title,this.options.titleTextStyle,o,this.options.width);return new e(this.data,this.typeName,s)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.Pie",Pie);var Bubble=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.Bubble",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:BubbleChartOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y){var m=this,g=function(){var e=Helpers.right(m.options,"axisTitlesPosition",t),g=Helpers.right(m.options,"backgroundColor",n),v=Helpers.right(m.options,"colors",function(){var e=i;return null!=e?function(e){return _Array$from(e)}(e):e}()),C=Helpers.right(m.options,"enableInteractivity",r),T=Helpers.right(m.options,"fontSize",o),b=Helpers.right(m.options,"fontName",s),w=Helpers.right(m.options,"forceIFrame",a),$=Helpers.right(m.options,"height",l),S=Helpers.right(m.options,"selectionMode",u),_=Helpers.right(m.options,"series",c),k=Helpers.right(m.options,"sortBubblesBySize",p),x=Helpers.right(m.options,"theme",h),E=Helpers.right(m.options,"title",f),A=Helpers.right(m.options,"titlePosition",d),F=Helpers.right(m.options,"width",y);return new BubbleChartOptions(m.options.animation,e,g,m.options.bubble,m.options.chartArea,v,m.options.colorAxis,C,m.options.explorer,T,b,w,m.options.hAxis,$,m.options.legend,S,_,m.options.sizeAxis,k,x,E,A,m.options.titleTextStyle,m.options.tooltip,m.options.vAxis,F)}();return new e(this.data,this.typeName,g)}},{key:"animation",value:function(t,n){var i=this.options.animation,r=new TransitionAnimation(Helpers.right(i,"duration",t),Helpers.right(i,"easing",n)),o=new BubbleChartOptions(r,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,this.options.chartArea,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,o)}},{key:"bubble",value:function(t,n){var i=this.options.bubble,r=new ChartBubble(Helpers.right(i,"opacity",t),Helpers.right(i,"stroke",n),Helpers.copy(i,"textStyle")),o=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,r,this.options.chartArea,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,o)}},{key:"chartArea",value:function(t,n,i,r){var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",t),Helpers.right(o,"left",n),Helpers.right(o,"width",i),Helpers.right(o,"height",r)),a=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,s,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"colorAxis",value:function(t,n,i,r){var o=this.options.colorAxis,s=new ChartColorAxis(Helpers.right(o,"minValue",t),Helpers.right(o,"maxValue",n),Helpers.right(o,"values",function(){var e=i;return null!=e?function(e){return Float64Array.from(e)}(e):e}()),Helpers.right(o,"colors",function(){var e=r;return null!=e?function(e){return _Array$from(e)}(e):e}()),Helpers.copy(o,"legend")),a=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,this.options.chartArea,this.options.colors,s,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"explorer",value:function(t,n,i,r,o,s){var a=this.options.explorer,l=new ChartExplorer(Helpers.right(a,"actions",function(){var e=t;return null!=e?function(e){return _Array$from(e)}(e):e}()),Helpers.right(a,"axis",n),Helpers.right(a,"keepInBounds",i),Helpers.right(a,"maxZoomIn",r),Helpers.right(a,"maxZoomOut",o),Helpers.right(a,"zoomDelta",s)),u=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,this.options.chartArea,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,l,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxis,this.options.width);
return new e(this.data,this.typeName,u)}},{key:"hAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v){var C=this.options.hAxis,T=function(){var e=Helpers.right(C,"baseline",t),T=Helpers.right(C,"baselineColor",n),b=Helpers.right(C,"direction",i),w=Helpers.right(C,"format",r),$=Helpers.right(C,"logScale",o),S=Helpers.right(C,"textPosition",s),_=Helpers.right(C,"ticks",function(){var e=a;return null!=e?function(e){return _Array$from(e)}(e):e}()),k=Helpers.right(C,"title",l),x=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),E=Helpers.right(C,"slantedText",c),A=Helpers.right(C,"slantedTextAngle",p),F=Helpers.right(C,"maxAlternation",h),N=Helpers.right(C,"maxTextLines",f),P=Helpers.right(C,"minTextSpacing",d),H=Helpers.right(C,"showTextEvery",y),O=Helpers.right(C,"maxValue",m),L=Helpers.right(C,"minValue",g),R=Helpers.right(C,"viewWindowMode",v);return new ChartAxis(e,T,b,w,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),$,S,Helpers.copy(C,"textStyle"),_,k,Helpers.copy(C,"titleTextStyle"),x,E,A,F,N,P,H,O,L,R,Helpers.copy(C,"viewWindow"))}(),b=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,this.options.chartArea,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,T,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,b)}},{key:"legend",value:function(t,n,i,r){var o=this.options.legend,s=function(){var e=Helpers.right(o,"alignment",t),s=Helpers.right(o,"maxLines",n),a=Helpers.right(o,"position",i),l=Helpers.right(o,"numberFormat",r);return new ChartLegend(e,s,a,Helpers.copy(o,"textStyle"),l)}(),a=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,this.options.chartArea,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,s,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"sizeAxis",value:function(t,n,i,r){var o=this.options.sizeAxis,s=new ChartSizeAxis(Helpers.right(o,"maxSize",t),Helpers.right(o,"maxValue",n),Helpers.right(o,"minSize",i),Helpers.right(o,"minValue",r)),a=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,this.options.chartArea,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,s,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"titleTextStyle",value:function(t,n,i,r,o,s,a){var l=this.options.titleTextStyle,u=new ChartTextStyle(Helpers.right(l,"fontName",t),Helpers.right(l,"fontSize",n),Helpers.right(l,"bold",i),Helpers.right(l,"italic",r),Helpers.right(l,"color",o),Helpers.right(l,"auraColor",s),Helpers.right(l,"opacity",a)),c=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,this.options.chartArea,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,u,this.options.tooltip,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,c)}},{key:"tooltip",value:function(t,n,i){var r=this.options.tooltip,o=function(){var e=Helpers.right(r,"isHtml",t),o=Helpers.right(r,"showColorCode",n),s=Helpers.right(r,"trigger",i);return new ChartTooltip(e,o,Helpers.copy(r,"textStyle"),s)}(),s=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,this.options.chartArea,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,o,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,s)}},{key:"vAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v){var C=this.options.vAxis,T=function(){var e=Helpers.right(C,"baseline",t),T=Helpers.right(C,"baselineColor",n),b=Helpers.right(C,"direction",i),w=Helpers.right(C,"format",r),$=Helpers.right(C,"logScale",o),S=Helpers.right(C,"textPosition",s),_=Helpers.right(C,"ticks",function(){var e=a;return null!=e?function(e){return _Array$from(e)}(e):e}()),k=Helpers.right(C,"title",l),x=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),E=Helpers.right(C,"slantedText",c),A=Helpers.right(C,"slantedTextAngle",p),F=Helpers.right(C,"maxAlternation",h),N=Helpers.right(C,"maxTextLines",f),P=Helpers.right(C,"minTextSpacing",d),H=Helpers.right(C,"showTextEvery",y),O=Helpers.right(C,"maxValue",m),L=Helpers.right(C,"minValue",g),R=Helpers.right(C,"viewWindowMode",v);return new ChartAxis(e,T,b,w,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),$,S,Helpers.copy(C,"textStyle"),_,k,Helpers.copy(C,"titleTextStyle"),x,E,A,F,N,P,H,O,L,R,Helpers.copy(C,"viewWindow"))}(),b=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,this.options.chartArea,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,T,this.options.width);return new e(this.data,this.typeName,b)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.Bubble",Bubble);var TreeMap=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.TreeMap",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:TreeMapOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v,C,T,b,w){var $=this,S=function(){var e=Helpers.right($.options,"fontColor",t),S=Helpers.right($.options,"fontFamily",n),_=Helpers.right($.options,"fontSize",i),k=Helpers.right($.options,"forceIFrame",r),x=Helpers.right($.options,"headerColor",o),E=Helpers.right($.options,"headerHeight",s),A=Helpers.right($.options,"headerHighlightColor",a),F=Helpers.right($.options,"hintOpacity",l),N=Helpers.right($.options,"maxColor",u),P=Helpers.right($.options,"maxDepth",c),H=Helpers.right($.options,"maxHighlightColor",p),O=Helpers.right($.options,"maxPostDepth",h),L=Helpers.right($.options,"maxColorValue",f),R=Helpers.right($.options,"midColor",d),G=Helpers.right($.options,"midHighlightColor",y),I=Helpers.right($.options,"minColor",m),D=Helpers.right($.options,"minHighlightColor",g),M=Helpers.right($.options,"minColorValue",v),B=Helpers.right($.options,"showScale",C),q=Helpers.right($.options,"showTooltips",T),j=Helpers.right($.options,"title",b),V=Helpers.right($.options,"useWeightedAverageForAggregation",w);return new TreeMapOptions(e,S,_,k,x,E,A,F,N,P,H,O,L,R,G,I,D,M,B,q,$.options.textStyle,j,$.options.titleTextStyle,V)}();return new e(this.data,this.typeName,S)}},{key:"textStyle",value:function(t,n,i,r,o,s,a){var l=this.options.textStyle,u=new ChartTextStyle(Helpers.right(l,"fontName",t),Helpers.right(l,"fontSize",n),Helpers.right(l,"bold",i),Helpers.right(l,"italic",r),Helpers.right(l,"color",o),Helpers.right(l,"auraColor",s),Helpers.right(l,"opacity",a)),c=new TreeMapOptions(this.options.fontColor,this.options.fontFamily,this.options.fontSize,this.options.forceIFrame,this.options.headerColor,this.options.headerHeight,this.options.headerHighlightColor,this.options.hintOpacity,this.options.maxColor,this.options.maxDepth,this.options.maxHighlightColor,this.options.maxPostDepth,this.options.maxColorValue,this.options.midColor,this.options.midHighlightColor,this.options.minColor,this.options.minHighlightColor,this.options.minColorValue,this.options.showScale,this.options.showTooltips,u,this.options.title,this.options.titleTextStyle,this.options.useWeightedAverageForAggregation);return new e(this.data,this.typeName,c)}},{key:"titleTextStyle",value:function(t,n,i,r,o,s,a){var l=this.options.titleTextStyle,u=new ChartTextStyle(Helpers.right(l,"fontName",t),Helpers.right(l,"fontSize",n),Helpers.right(l,"bold",i),Helpers.right(l,"italic",r),Helpers.right(l,"color",o),Helpers.right(l,"auraColor",s),Helpers.right(l,"opacity",a)),c=new TreeMapOptions(this.options.fontColor,this.options.fontFamily,this.options.fontSize,this.options.forceIFrame,this.options.headerColor,this.options.headerHeight,this.options.headerHighlightColor,this.options.hintOpacity,this.options.maxColor,this.options.maxDepth,this.options.maxHighlightColor,this.options.maxPostDepth,this.options.maxColorValue,this.options.midColor,this.options.midHighlightColor,this.options.minColor,this.options.minHighlightColor,this.options.minColorValue,this.options.showScale,this.options.showTooltips,this.options.textStyle,this.options.title,u,this.options.useWeightedAverageForAggregation);return new e(this.data,this.typeName,c)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.TreeMap",TreeMap);var Table=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.Table",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:TableOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c,p,h,f,d){var y=this,m=function(){var e=Helpers.right(y.options,"allowHtml",t),m=Helpers.right(y.options,"alternatingRowStyle",n),g=Helpers.right(y.options,"firstRowNumber",i),v=Helpers.right(y.options,"height",r),C=Helpers.right(y.options,"page",o),T=Helpers.right(y.options,"pageSize",s),b=Helpers.right(y.options,"rtlTable",a),w=Helpers.right(y.options,"scrollLeftStartPosition",l),$=Helpers.right(y.options,"showRowNumber",u),S=Helpers.right(y.options,"sort",c),_=Helpers.right(y.options,"sortAscending",p),k=Helpers.right(y.options,"sortColumn",h),x=Helpers.right(y.options,"startPage",f),E=Helpers.right(y.options,"width",d);return new TableOptions(e,m,y.options.cssClassName,g,v,C,T,b,w,$,S,_,k,x,E)}();return new e(this.data,this.typeName,m)}},{key:"cssClassName",value:function(t,n,i,r,o,s,a,l){var u=this.options.cssClassName,c=new CssClassNames(Helpers.right(u,"headerRow",t),Helpers.right(u,"tableRow",n),Helpers.right(u,"oddTableRow",i),Helpers.right(u,"selectedTableRow",r),Helpers.right(u,"hoverTableRow",o),Helpers.right(u,"headerCell",s),Helpers.right(u,"tableCell",a),Helpers.right(u,"rowNumberCell",l)),p=new TableOptions(this.options.allowHtml,this.options.alternatingRowStyle,c,this.options.firstRowNumber,this.options.height,this.options.page,this.options.pageSize,this.options.rtlTable,this.options.scrollLeftStartPosition,this.options.showRowNumber,this.options.sort,this.options.sortAscending,this.options.sortColumn,this.options.startPage,this.options.width);return new e(this.data,this.typeName,p)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.Table",Table);var Timeline=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.Timeline",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:TimelineOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a){var l=this,u=function(){var e=Helpers.right(l.options,"avoidOverlappingGridLines",t),u=Helpers.right(l.options,"backgroundColor",n),c=Helpers.right(l.options,"colors",function(){var e=i;return null!=e?function(e){return _Array$from(e)}(e):e}()),p=Helpers.right(l.options,"enableInteractivity",r),h=Helpers.right(l.options,"forceIFrame",o),f=Helpers.right(l.options,"height",s),d=Helpers.right(l.options,"width",a);return new TimelineOptions(e,u,c,p,h,f,l.options.timeline,d)}();return new e(this.data,this.typeName,u)}},{key:"timeline",value:function(t,n,i,r){var o=this.options.timeline,s=function(){var e=Helpers.right(o,"colorByRowLabel",t),s=Helpers.right(o,"groupByRowLabel",n),a=Helpers.right(o,"showRowLabels",i),l=Helpers.right(o,"singleColor",r);return new TimelineTimeline(Helpers.copy(o,"barLabelStyle"),e,s,Helpers.copy(o,"rowLabelStyle"),a,l)}(),a=new TimelineOptions(this.options.avoidOverlappingGridLines,this.options.backgroundColor,this.options.colors,this.options.enableInteractivity,this.options.forceIFrame,this.options.height,s,this.options.width);return new e(this.data,this.typeName,a)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.Timeline",Timeline);var Candlestick=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.Candlestick",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:CandlestickChartOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v){var C=this,T=function(){var e=Helpers.right(C.options,"aggregationTarget",t),T=Helpers.right(C.options,"axisTitlesPosition",n),b=Helpers.right(C.options,"backgroundColor",i),w=Helpers.right(C.options,"colors",function(){var e=r;return null!=e?function(e){return _Array$from(e)}(e):e}()),$=Helpers.right(C.options,"enableInteractivity",o),S=Helpers.right(C.options,"focusTarget",s),_=Helpers.right(C.options,"fontSize",a),k=Helpers.right(C.options,"fontName",l),x=Helpers.right(C.options,"height",u),E=Helpers.right(C.options,"orientation",c),A=Helpers.right(C.options,"reverseCategories",p),F=Helpers.right(C.options,"selectionMode",h),N=Helpers.right(C.options,"series",f),P=Helpers.right(C.options,"theme",d),H=Helpers.right(C.options,"title",y),O=Helpers.right(C.options,"titlePosition",m),L=Helpers.right(C.options,"vAxes",g),R=Helpers.right(C.options,"width",v);return new CandlestickChartOptions(e,C.options.animation,T,b,C.options.bar,C.options.candlestick,C.options.chartArea,w,$,S,_,k,C.options.hAxis,x,C.options.legend,E,A,F,N,P,H,O,C.options.titleTextStyle,C.options.tooltip,L,C.options.vAxis,R)}();return new e(this.data,this.typeName,T)}},{key:"animation",value:function(t,n){var i=this.options.animation,r=new TransitionAnimation(Helpers.right(i,"duration",t),Helpers.right(i,"easing",n)),o=new CandlestickChartOptions(this.options.aggregationTarget,r,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.candlestick,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,o)}},{key:"bar",value:function(t){var n=this.options.bar,i=new GroupWidth(Helpers.right(n,"groupWidth",t)),r=new CandlestickChartOptions(this.options.aggregationTarget,this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,i,this.options.candlestick,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,r)}},{key:"candlestick",value:function(t){var n=this.options.candlestick,i=new CandlestickCandlestick(Helpers.right(n,"hollowIsRising",t),Helpers.copy(n,"fallingColor"),Helpers.copy(n,"risingColor")),r=new CandlestickChartOptions(this.options.aggregationTarget,this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,i,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,r)}},{key:"chartArea",value:function(t,n,i,r){var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",t),Helpers.right(o,"left",n),Helpers.right(o,"width",i),Helpers.right(o,"height",r)),a=new CandlestickChartOptions(this.options.aggregationTarget,this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.candlestick,s,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"hAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v){var C=this.options.hAxis,T=function(){var e=Helpers.right(C,"baseline",t),T=Helpers.right(C,"baselineColor",n),b=Helpers.right(C,"direction",i),w=Helpers.right(C,"format",r),$=Helpers.right(C,"logScale",o),S=Helpers.right(C,"textPosition",s),_=Helpers.right(C,"ticks",function(){var e=a;return null!=e?function(e){return _Array$from(e)}(e):e}()),k=Helpers.right(C,"title",l),x=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),E=Helpers.right(C,"slantedText",c),A=Helpers.right(C,"slantedTextAngle",p),F=Helpers.right(C,"maxAlternation",h),N=Helpers.right(C,"maxTextLines",f),P=Helpers.right(C,"minTextSpacing",d),H=Helpers.right(C,"showTextEvery",y),O=Helpers.right(C,"maxValue",m),L=Helpers.right(C,"minValue",g),R=Helpers.right(C,"viewWindowMode",v);return new ChartAxis(e,T,b,w,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),$,S,Helpers.copy(C,"textStyle"),_,k,Helpers.copy(C,"titleTextStyle"),x,E,A,F,N,P,H,O,L,R,Helpers.copy(C,"viewWindow"))}(),b=new CandlestickChartOptions(this.options.aggregationTarget,this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.candlestick,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,T,this.options.height,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,b)}},{key:"legend",value:function(t,n,i,r){var o=this.options.legend,s=function(){var e=Helpers.right(o,"alignment",t),s=Helpers.right(o,"maxLines",n),a=Helpers.right(o,"position",i),l=Helpers.right(o,"numberFormat",r);return new ChartLegend(e,s,a,Helpers.copy(o,"textStyle"),l)}(),a=new CandlestickChartOptions(this.options.aggregationTarget,this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.candlestick,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,s,this.options.orientation,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"titleTextStyle",value:function(t,n,i,r,o,s,a){var l=this.options.titleTextStyle,u=new ChartTextStyle(Helpers.right(l,"fontName",t),Helpers.right(l,"fontSize",n),Helpers.right(l,"bold",i),Helpers.right(l,"italic",r),Helpers.right(l,"color",o),Helpers.right(l,"auraColor",s),Helpers.right(l,"opacity",a)),c=new CandlestickChartOptions(this.options.aggregationTarget,this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.candlestick,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,u,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,c)}},{key:"tooltip",value:function(t,n,i){var r=this.options.tooltip,o=function(){var e=Helpers.right(r,"isHtml",t),o=Helpers.right(r,"showColorCode",n),s=Helpers.right(r,"trigger",i);return new ChartTooltip(e,o,Helpers.copy(r,"textStyle"),s)}(),s=new CandlestickChartOptions(this.options.aggregationTarget,this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.candlestick,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,o,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,s)}},{key:"vAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v){var C=this.options.vAxis,T=function(){var e=Helpers.right(C,"baseline",t),T=Helpers.right(C,"baselineColor",n),b=Helpers.right(C,"direction",i),w=Helpers.right(C,"format",r),$=Helpers.right(C,"logScale",o),S=Helpers.right(C,"textPosition",s),_=Helpers.right(C,"ticks",function(){var e=a;return null!=e?function(e){return _Array$from(e)}(e):e}()),k=Helpers.right(C,"title",l),x=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),E=Helpers.right(C,"slantedText",c),A=Helpers.right(C,"slantedTextAngle",p),F=Helpers.right(C,"maxAlternation",h),N=Helpers.right(C,"maxTextLines",f),P=Helpers.right(C,"minTextSpacing",d),H=Helpers.right(C,"showTextEvery",y),O=Helpers.right(C,"maxValue",m),L=Helpers.right(C,"minValue",g),R=Helpers.right(C,"viewWindowMode",v);return new ChartAxis(e,T,b,w,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),$,S,Helpers.copy(C,"textStyle"),_,k,Helpers.copy(C,"titleTextStyle"),x,E,A,F,N,P,H,O,L,R,Helpers.copy(C,"viewWindow"))}(),b=new CandlestickChartOptions(this.options.aggregationTarget,this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.candlestick,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,T,this.options.width);return new e(this.data,this.typeName,b)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.Candlestick",Candlestick);var options$1=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.options",properties:{}}}}],[{key:"chartSizeAxis",value:function(e,t,n,i){return new ChartSizeAxis(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i))}},{key:"chartTextStyle",value:function(e,t,n,i,r,o,s){return new ChartTextStyle(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i),Helpers.orDefault(r),Helpers.orDefault(o),Helpers.orDefault(s))}},{key:"chartTooltip",value:function(e,t,n,i){return new ChartTooltip(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i))}},{key:"chartLegend",value:function(e,t,n,i,r){return new ChartLegend(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i),Helpers.orDefault(r))}},{key:"chartColorAxis",value:function(e,t,n,i,r){return new ChartColorAxis(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(function(){var e=n;return null!=e?function(e){return Float64Array.from(e)}(e):e}()),Helpers.orDefault(function(){var e=i;return null!=e?function(e){return _Array$from(e)}(e):e}()),Helpers.orDefault(r))}},{key:"geoChartMagnifyingGlass",value:function(e,t){return new GeoChartMagnifyingGlass(Helpers.orDefault(e),Helpers.orDefault(t))}},{key:"chartBoxStyleGradient",value:function(e,t,n,i,r,o,s){return new ChartBoxStyleGradient(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i),Helpers.orDefault(r),Helpers.orDefault(o),Helpers.orDefault(s))}},{key:"chartBoxStyle",value:function(e,t,n,i,r){return new ChartBoxStyle(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i),Helpers.orDefault(r))}},{key:"chartAnnotations",value:function(e,t){return new ChartAnnotations(Helpers.orDefault(e),Helpers.orDefault(t))}},{key:"chartCrosshairFocused",value:function(e,t){return new ChartCrosshairFocused(Helpers.orDefault(e),Helpers.orDefault(t))}},{key:"chartCrosshairSelected",value:function(e,t){return new ChartCrosshairSelected(Helpers.orDefault(e),Helpers.orDefault(t))}},{key:"chartCrosshair",value:function(e,t,n,i,r,o){return new ChartCrosshair(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i),Helpers.orDefault(r),Helpers.orDefault(o))}},{key:"chartExplorer",value:function(e,t,n,i,r,o){return new ChartExplorer(Helpers.orDefault(function(){var t=e;return null!=t?function(e){return _Array$from(e)}(t):t}()),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i),Helpers.orDefault(r),Helpers.orDefault(o))}},{key:"chartStroke",value:function(e,t,n){return new ChartStroke(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n))}},{key:"chartArea",value:function(e,t,n,i){return new ChartArea(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i))}},{key:"transitionAnimation",value:function(e,t){return new TransitionAnimation(Helpers.orDefault(e),Helpers.orDefault(t))}},{key:"chartGridlines",value:function(e,t){return new ChartGridlines(Helpers.orDefault(e),Helpers.orDefault(t))}},{key:"chartViewWindow",value:function(e,t){return new ChartViewWindow(Helpers.orDefault(e),Helpers.orDefault(t))}},{key:"chartAxis",value:function(e,t,n,i,r,o,s,a,l,u,c,p,h,f,d,y,m,g,v,C,T,b,w){return new ChartAxis(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i),Helpers.orDefault(r),Helpers.orDefault(o),Helpers.orDefault(s),Helpers.orDefault(a),Helpers.orDefault(l),Helpers.orDefault(function(){var e=u;return null!=e?function(e){return _Array$from(e)}(e):e}()),Helpers.orDefault(c),Helpers.orDefault(p),Helpers.orDefault(h),Helpers.orDefault(f),Helpers.orDefault(d),Helpers.orDefault(y),Helpers.orDefault(m),Helpers.orDefault(g),Helpers.orDefault(v),Helpers.orDefault(C),Helpers.orDefault(T),Helpers.orDefault(b),Helpers.orDefault(w))}},{key:"chartBoundingBox",value:function(e,t,n,i){return new ChartBoundingBox(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i))}},{key:"groupWidth",value:function(e){return new GroupWidth(Helpers.orDefault(e))}},{key:"trendline",value:function(e,t,n,i,r,o,s,a,l){return new Trendline(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i),Helpers.orDefault(r),Helpers.orDefault(o),Helpers.orDefault(s),Helpers.orDefault(a),Helpers.orDefault(l))}},{key:"histogramHistogram",value:function(e,t,n){return new HistogramHistogram(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n))}},{key:"chartBubble",value:function(e,t,n){return new ChartBubble(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n))}},{key:"cssClassNames",value:function(e,t,n,i,r,o,s,a){return new CssClassNames(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i),Helpers.orDefault(r),Helpers.orDefault(o),Helpers.orDefault(s),Helpers.orDefault(a))}},{key:"labelStyle",value:function(e,t,n){return new LabelStyle(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n))}},{key:"timelineTimeline",value:function(e,t,n,i,r,o){return new TimelineTimeline(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i),Helpers.orDefault(r),Helpers.orDefault(o))}},{key:"candlestickCandlestick",value:function(e,t,n){return new CandlestickCandlestick(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n))}}]),e}();setType("TheGamma.GoogleCharts.Extensions.options",options$1);var chart=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.chart",properties:{}}}}],[{key:"scatter",value:function(e,t){return new Scatter(ChartDataOperations.twoValues(e,t),"ScatterChart",ScatterChartOptions_get_empty_Static())}},{key:"geo",value:function(e){return new Geo(ChartDataOperations.oneKeyValue("string",e),"GeoChart",GeoChartOptions_get_empty_Static())}},{key:"pie",value:function(e){return new Pie(ChartDataOperations.oneKeyValue("string",e),"PieChart",PieChartOptions_get_empty_Static());
}},{key:"bar",value:function(e){return new Bar(ChartDataOperations.oneKeyValue("string",e),"BarChart",BarChartOptions_get_empty_Static())}},{key:"column",value:function(e){return new Column(ChartDataOperations.oneKeyValue("string",e),"ColumnChart",ColumnChartOptions_get_empty_Static())}},{key:"columns",value:function(e,t){return new Line(ChartDataOperations.oneKeyAppendValues("string",e,t),"ColumnChart",LineChartOptions_get_empty_Static())}},{key:"line",value:function(e){return new Line(ChartDataOperations.oneKeyValue("number",e),"LineChart",LineChartOptions_get_empty_Static())}},{key:"lines",value:function(e){return new Line(ChartDataOperations.oneKeyNValues("number",e),"LineChart",LineChartOptions_get_empty_Static())}},{key:"area",value:function(e){return new Area(ChartDataOperations.oneKeyValue("number",e),"AreaChart",AreaChartOptions_get_empty_Static())}},{key:"areas",value:function(e,t){var n={contents:0},i=null==t?e:e.map(function(e){return void n.contents++,e.setProperties(null,null,t[n.contents-1])});return new Area(ChartDataOperations.oneKeyNValues("number",i),"AreaChart",AreaChartOptions_get_empty_Static())}},{key:"show",value:function(e){return function(t){Helpers.showChart(e,t)}}}]),e}();setType("TheGamma.GoogleCharts.chart",chart);var nativeIsArray=Array.isArray,toString$4=Object.prototype.toString,index$4=nativeIsArray||isArray$5,version$2="2",version$1=version$2;VirtualPatch.NONE=0,VirtualPatch.VTEXT=1,VirtualPatch.VNODE=2,VirtualPatch.WIDGET=3,VirtualPatch.PROPS=4,VirtualPatch.ORDER=5,VirtualPatch.INSERT=6,VirtualPatch.REMOVE=7,VirtualPatch.THUNK=8;var vpatch=VirtualPatch;VirtualPatch.prototype.version=version$1,VirtualPatch.prototype.type="VirtualPatch";var version$4=version$2,isVnode=isVirtualNode,version$5=version$2,isVtext=isVirtualText,isWidget_1=isWidget$1,isThunk_1=isThunk$1,isVNode$1=isVnode,isVText$1=isVtext,isWidget$2=isWidget_1,isThunk$2=isThunk_1,handleThunk_1=handleThunk$1,index$6=function(e){return"object"==typeof e&&null!==e},isVhook=isHook$1,isObject$6=index$6,isHook=isVhook,diffProps_1=diffProps$1,isArray$4=index$4,VPatch=vpatch,isVNode=isVnode,isVText=isVtext,isWidget=isWidget_1,isThunk=isThunk_1,handleThunk=handleThunk_1,diffProps=diffProps_1,diff_1$2=diff$2,diff$1=diff_1$2,diff_1=diff$1,slice$1=Array.prototype.slice,index$10=iterativelyWalk,domComment=Comment$1;Comment$1.prototype.nodeType=8,Comment$1.prototype.nodeName="#comment",Comment$1.prototype.toString=function(){return"[object Comment]"};var domText=DOMText$1;DOMText$1.prototype.type="DOMTextNode",DOMText$1.prototype.nodeType=3,DOMText$1.prototype.nodeName="#text",DOMText$1.prototype.toString=function(){return this.data},DOMText$1.prototype.replaceData=function(e,t,n){var i=this.data,r=i.substring(0,e),o=i.substring(e+t,i.length);this.data=r+n+o,this.length=this.data.length};var dispatchEvent_1=dispatchEvent$2,addEventListener_1=addEventListener$2,removeEventListener_1=removeEventListener$2,serialize=serializeNode$1,voidElements=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],domWalk$1=index$10,dispatchEvent$1=dispatchEvent_1,addEventListener$1=addEventListener_1,removeEventListener$1=removeEventListener_1,serializeNode=serialize,htmlns="http://www.w3.org/1999/xhtml",domElement=DOMElement$1;DOMElement$1.prototype.type="DOMElement",DOMElement$1.prototype.nodeType=1,DOMElement$1.prototype.appendChild=function(e){return e.parentNode&&e.parentNode.removeChild(e),this.childNodes.push(e),e.parentNode=this,e},DOMElement$1.prototype.replaceChild=function(e,t){e.parentNode&&e.parentNode.removeChild(e);var n=this.childNodes.indexOf(t);return t.parentNode=null,this.childNodes[n]=e,e.parentNode=this,t},DOMElement$1.prototype.removeChild=function(e){var t=this.childNodes.indexOf(e);return this.childNodes.splice(t,1),e.parentNode=null,e},DOMElement$1.prototype.insertBefore=function(e,t){e.parentNode&&e.parentNode.removeChild(e);var n=null===t||void 0===t?-1:this.childNodes.indexOf(t);return n>-1?this.childNodes.splice(n,0,e):this.childNodes.push(e),e.parentNode=this,e},DOMElement$1.prototype.setAttributeNS=function(e,t,n){var i=null,r=t,o=t.indexOf(":");if(o>-1&&(i=t.substr(0,o),r=t.substr(o+1)),"INPUT"===this.tagName&&"type"===t)this.type=n;else{var s=this._attributes[e]||(this._attributes[e]={});s[r]={value:n,prefix:i}}},DOMElement$1.prototype.getAttributeNS=function(e,t){var n=this._attributes[e],i=n&&n[t]&&n[t].value;return"INPUT"===this.tagName&&"type"===t?this.type:"string"!=typeof i?null:i},DOMElement$1.prototype.removeAttributeNS=function(e,t){var n=this._attributes[e];n&&delete n[t]},DOMElement$1.prototype.hasAttributeNS=function(e,t){var n=this._attributes[e];return!!n&&t in n},DOMElement$1.prototype.setAttribute=function(e,t){return this.setAttributeNS(null,e,t)},DOMElement$1.prototype.getAttribute=function(e){return this.getAttributeNS(null,e)},DOMElement$1.prototype.removeAttribute=function(e){return this.removeAttributeNS(null,e)},DOMElement$1.prototype.hasAttribute=function(e){return this.hasAttributeNS(null,e)},DOMElement$1.prototype.removeEventListener=removeEventListener$1,DOMElement$1.prototype.addEventListener=addEventListener$1,DOMElement$1.prototype.dispatchEvent=dispatchEvent$1,DOMElement$1.prototype.focus=function(){},DOMElement$1.prototype.toString=function(){return serializeNode(this)},DOMElement$1.prototype.getElementsByClassName=function(e){var t=e.split(" "),n=[];return domWalk$1(this,function(e){if(1===e.nodeType){var i=e.className||"",r=i.split(" ");t.every(function(e){return r.indexOf(e)!==-1})&&n.push(e)}}),n},DOMElement$1.prototype.getElementsByTagName=function(e){e=e.toLowerCase();var t=[];return domWalk$1(this.childNodes,function(n){1!==n.nodeType||"*"!==e&&n.tagName.toLowerCase()!==e||t.push(n)}),t},DOMElement$1.prototype.contains=function(e){return domWalk$1(this,function(t){return e===t})||!1};var DOMElement$2=domElement,domFragment=DocumentFragment$1;DocumentFragment$1.prototype.type="DocumentFragment",DocumentFragment$1.prototype.nodeType=11,DocumentFragment$1.prototype.nodeName="#document-fragment",DocumentFragment$1.prototype.appendChild=DOMElement$2.prototype.appendChild,DocumentFragment$1.prototype.replaceChild=DOMElement$2.prototype.replaceChild,DocumentFragment$1.prototype.removeChild=DOMElement$2.prototype.removeChild,DocumentFragment$1.prototype.toString=function(){return this.childNodes.map(function(e){return String(e)}).join("")};var event$1=Event$1;Event$1.prototype.initEvent=function(e,t,n){this.type=e,this.bubbles=t,this.cancelable=n},Event$1.prototype.preventDefault=function(){};var domWalk=index$10,Comment=domComment,DOMText=domText,DOMElement=domElement,DocumentFragment=domFragment,Event=event$1,dispatchEvent=dispatchEvent_1,addEventListener=addEventListener_1,removeEventListener=removeEventListener_1,document$3=Document$1,proto$1=Document$1.prototype;proto$1.createTextNode=function(e){return new DOMText(e,this)},proto$1.createElementNS=function(e,t){var n=null===e?null:String(e);return new DOMElement(t,this,n)},proto$1.createElement=function(e){return new DOMElement(e,this)},proto$1.createDocumentFragment=function(){return new DocumentFragment(this)},proto$1.createEvent=function(e){return new Event(e)},proto$1.createComment=function(e){return new Comment(e,this)},proto$1.getElementById=function(e){e=String(e);var t=domWalk(this.childNodes,function(t){if(String(t.id)===e)return t});return t||null},proto$1.getElementsByClassName=DOMElement.prototype.getElementsByClassName,proto$1.getElementsByTagName=DOMElement.prototype.getElementsByTagName,proto$1.contains=DOMElement.prototype.contains,proto$1.removeEventListener=removeEventListener,proto$1.addEventListener=addEventListener,proto$1.dispatchEvent=dispatchEvent;var Document=document$3,index$8=new Document,document_1=createCommonjsModule(function(e){var t="undefined"!=typeof commonjsGlobal?commonjsGlobal:"undefined"!=typeof window?window:{},n=index$8;if("undefined"!=typeof document)e.exports=document;else{var i=t["__GLOBAL_DOCUMENT_CACHE@4"];i||(i=t["__GLOBAL_DOCUMENT_CACHE@4"]=n),e.exports=i}}),isObject$7=index$6,isHook$2=isVhook,applyProperties_1=applyProperties$1,document$5=document_1,applyProperties=applyProperties_1,isVNode$2=isVnode,isVText$2=isVtext,isWidget$3=isWidget_1,handleThunk$2=handleThunk_1,createElement_1=createElement$1,noChild={},domIndex_1=domIndex$1,isWidget$5=isWidget_1,updateWidget_1=updateWidget$1,applyProperties$2=applyProperties_1,isWidget$4=isWidget_1,VPatch$1=vpatch,updateWidget=updateWidget_1,patchOp$1=applyPatch$1,document$2=document_1,isArray$6=index$4,render$1=createElement_1,domIndex=domIndex_1,patchOp=patchOp$1,patch_1$2=patch$2,patch$1=patch_1$2,patch_1=patch$1,version$6=version$2,isVNode$4=isVnode,isWidget$7=isWidget_1,isThunk$3=isThunk_1,isVHook=isVhook,vnode=VirtualNode,noProperties={},noChildren=[];VirtualNode.prototype.version=version$6,VirtualNode.prototype.type="VirtualNode";var version$7=version$2,vtext=VirtualText;VirtualText.prototype.version=version$7,VirtualText.prototype.type="VirtualText";var index$14=function(e){var t,n=String.prototype.split,i=/()??/.exec("")[1]===e;return t=function(t,r,o){if("[object RegExp]"!==Object.prototype.toString.call(r))return n.call(t,r,o);var s,a,l,u,c=[],p=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.extended?"x":"")+(r.sticky?"y":""),h=0,r=new RegExp(r.source,p+"g");for(t+="",i||(s=new RegExp("^"+r.source+"$(?!\\s)",p)),o=o===e?-1>>>0:o>>>0;(a=r.exec(t))&&(l=a.index+a[0].length,!(l>h&&(c.push(t.slice(h,a.index)),!i&&a.length>1&&a[0].replace(s,function(){for(var t=1;t<arguments.length-2;t++)arguments[t]===e&&(a[t]=e)}),a.length>1&&a.index<t.length&&Array.prototype.push.apply(c,a.slice(1)),u=a[0].length,h=l,c.length>=o)));)r.lastIndex===a.index&&r.lastIndex++;return h===t.length?!u&&r.test("")||c.push(""):c.push(t.slice(h)),c.length>o?c.slice(0,o):c}}(),split$3=index$14,classIdSplit=/([\.#]?[a-zA-Z0-9\u007F-\uFFFF_:-]+)/,notClassId=/^\.|#/,parseTag_1=parseTag$1,softSetHook$1=SoftSetHook;SoftSetHook.prototype.hook=function(e,t){e[t]!==this.value&&(e[t]=this.value)};var root="undefined"!=typeof window?window:"undefined"!=typeof commonjsGlobal?commonjsGlobal:{},index$18=Individual$1,Individual=index$18,oneVersion=OneVersion,OneVersionConstraint=oneVersion,MY_VERSION="7";OneVersionConstraint("ev-store",MY_VERSION);var hashKey="__EV_STORE_KEY@"+MY_VERSION,index$16=EvStore$1,EvStore=index$16,evHook$1=EvHook;EvHook.prototype.hook=function(e,t){var n=EvStore(e),i=t.substr(3);n[i]=this.value},EvHook.prototype.unhook=function(e,t){var n=EvStore(e),i=t.substr(3);n[i]=void 0};var isArray$7=index$4,VNode$1=vnode,VText$1=vtext,isVNode$3=isVnode,isVText$3=isVtext,isWidget$6=isWidget_1,isHook$3=isVhook,isVThunk=isThunk_1,parseTag=parseTag_1,softSetHook=softSetHook$1,evHook=evHook$1,index$12=h$3,h$2=index$12,h_1=h$2,createElement$2=createElement_1,createElement_1$2=createElement$2,diff=diff_1,patch=patch_1,h$1=h_1,create$8=createElement_1$2,VNode=vnode,VText=vtext,index$2={diff:diff,patch:patch,h:h$1,create:create$8,VNode:VNode,VText:VText},h$1=index$2.h,create$8=index$2.create,diff=index$2.diff,patch=index$2.patch,_createClass$9=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Observer=function(){function e(t,n,i){_classCallCheck$10(this,e),this.OnNext=t,this.OnError=n||function(e){},this.OnCompleted=i||function(){}}return _createClass$9(e,[{key:_Symbol.reflection,value:function(){return{interfaces:["System.IObserver"]}}}]),e}(),Observable=function(){function e(t){_classCallCheck$10(this,e),this.Subscribe=t}return _createClass$9(e,[{key:_Symbol.reflection,value:function(){return{interfaces:["System.IObservable"]}}}]),e}(),_createClass$8=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Event$2=function(){function e(t,n){_classCallCheck$9(this,e),this._subscriber=t,this.delegates=n||new Array}return _createClass$8(e,[{key:"Add",value:function(e){this._addHandler(e)}},{key:"Trigger",value:function(e){iterate$1(function(t){return t(e)},this.delegates)}},{key:"_addHandler",value:function(e){this.delegates.push(e)}},{key:"_removeHandler",value:function(e){var t=this.delegates.findIndex(function(t){return""+t==""+e});t>-1&&this.delegates.splice(t,1)}},{key:"AddHandler",value:function(e){this._addHandler(function(t){return e(void 0,t)})}},{key:"RemoveHandler",value:function(e){this._removeHandler(function(t){return e(void 0,t)})}},{key:"_subscribeFromObserver",value:function(e){var t=this;if(this._subscriber)return this._subscriber(e);var n=e.OnNext;return this._addHandler(n),createDisposable(function(){return t._removeHandler(n)})}},{key:"_subscribeFromCallback",value:function(e){var t=this;return this._addHandler(e),createDisposable(function(){return t._removeHandler(e)})}},{key:"Subscribe",value:function(e){return"function"==typeof e?this._subscribeFromCallback(e):this._subscribeFromObserver(e)}},{key:"Publish",get:function(){return this}}]),e}(),DomAttribute=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Html.DomAttribute",interfaces:["FSharpUnion"],cases:{Attribute:["string"],Event:["function"],Property:[Any]}}}}]),e}();setType("TheGamma.Html.DomAttribute",DomAttribute);var DomNode=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Html.DomNode",interfaces:["FSharpUnion"],cases:{Delayed:["string",e,"function"],Element:["string",FArray(Tuple(["string",DomAttribute])),FArray(e),Option("function")],Part:["function"],Text:["string"]}}}}]),e}();setType("TheGamma.Html.DomNode",DomNode);var counter=0,El=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Html.El",properties:{}}}}]),_createClass(e,[{key:"delayed",value:function(e,t,n){return new DomNode("Delayed",[e,t,n])}},{key:"part",value:function(e,t){var n=new Event$2,i=e,r=null,o=null,s=function(){var e=[r,o],t=function(){};null!=e[0]&&null!=e[1]?!function(){var t=e[0],n=e[1];!function(e){renderTo(t,e)}(n(i))}():t()};return add$6(function(e){i=t(i)(e),s()},n.Publish),[function(e){n.Trigger(e)},function(e){return o=e,new DomNode("Part",[function(e){r=e,s()}])}]}}],[{key:"op_Dynamic",value:function(e,t){return function(e){return function(n){var i="chosen"!==t?[t,null]:["select",function(t){jQuery(t).chosen();var n=!0,i=!1,r=void 0;try{for(var o,s=_getIterator(e);!(n=(o=s.next()).done);n=!0){var a=o.value;"Event"===a[1].Case&&jQuery(t).on(a[0],function(){a[1].Fields[0](t)(event)})}}catch(e){i=!0,r=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw r}}}];return new DomNode("Element",[i[0],_Array$from(e),_Array$from(n),i[1]])}}}}]),e}();setType("TheGamma.Html.El",El);var h$$1=new El,html=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.html",properties:{}}}}],[{key:"img",value:function(e){return function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("img")(ofArray([op_EqualsGreater("src",e)]))(new List$2)}}]),e}();setType("TheGamma.html",html);var table=function(){function e(t,n,i,r){_classCallCheck(this,e),this.data=t,this.showKey=n,this.hiddenColumns=i,this.addedColumns=r}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.table",interfaces:["FSharpRecord"],properties:{data:makeGeneric(series,{k:GenericParam("k"),v:GenericParam("v")}),showKey:Option("boolean"),hiddenColumns:makeGeneric(FSet,{T:"string"}),addedColumns:makeGeneric(List$2,{T:Tuple(["string","function"])})}}}},{key:"set",value:function(t,n){var i=this.data.set(this.data.data,null,null,null!=t?t:this.data.seriesName);return new e(i,null==n?this.showKey:n,this.hiddenColumns,this.addedColumns)}},{key:"hideColumns",value:function(t){var n=create$3(t,new GenericComparer(function(e,t){return e<t?-1:e>t?1:0}));return new e(this.data,this.showKey,n,this.addedColumns)}},{key:"addColumn",value:function(t,n){var i=new List$2([t,n],this.addedColumns);return new e(this.data,this.showKey,this.hiddenColumns,i)}},{key:"render",value:function(){var e=this,t=function(e){return function(t){return function(n){return function(i){return function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("tr")(new List$2)(toList(delay(function(){return append$1(e?singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)(t)(new List$2)(ofArray([text(n)]))):empty(),delay(function(){return map$5(function(e){return function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)(t)(new List$2)(ofArray([e]))},i)}))})))}}}},n=function(n){return function(i){return function(r){return function(o){return function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("table")(ofArray([op_EqualsGreater("class","table table-striped")]))(toList(delay(function(){return append$1(isNullOrWhiteSpace(e.data.seriesName)?empty():singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("caption")(new List$2)(ofArray([text(e.data.seriesName)]))),delay(function(){return append$1(singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("thead")(new List$2)(ofArray([t(n)("th")(i)(r)]))),delay(function(){return singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("tbody")(new List$2)(o))}))}))})))}}}},i=function(e){var t=toList(delay(function(){return map$5(function(e){return e.key},function(e){return _Object$keys(e).map(function(t){return{key:t,value:e[t]}})}(e))})).Equals(ofArray(["data","keyName","valueName","seriesName"]));if(t){var n=null;return e.data.Then(function(e){n=e}),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("span")(new List$2)(ofArray(n.map(function(e){return e[1]})))}return text(toString$2(e))};return function(r){return r.Delay(function(){return r.TryWith(r.Delay(function(){return r.Bind(Async_AwaitFuture_Static(e.data.data),function(o){var s=function(t){return function(e){return _Object$keys(e).map(function(t){return{key:t,value:e[t]}})}(t).filter(function(t){return!e.hiddenColumns.has(t.key)})},a=head(o),l=toList(delay(function(){return append$1("object"==_typeof$2(a[1])?map$5(function(e){return text(e.key)},s(a[1])):singleton$1(text(e.data.valueName)),delay(function(){return collect$1(function(e){return singleton$1(text(e[0]))},e.addedColumns)}))})),u=null!=e.showKey?e.showKey:!("object"==_typeof$2(a[1]));return r.Return(function(e){var t=n(e);return function(e){var n=t(e);return function(e){var t=n(e);return function(e){return t(e)}}}}(u)(e.data.keyName)(l)(toList(delay(function(){return collect$1(function(n){return singleton$1(function(){var r=toList(delay(function(){return append$1("object"==_typeof$2(n[1])?map$5(function(e){return text(e.value)},s(n[1])):singleton$1("number"!=typeof n[1]?text(toString$2(n[1])):isNaN(n[1])?text(""):text(n[1])),delay(function(){return collect$1(function(e){return singleton$1(i(e[1](n[1])))},e.addedColumns)}))}));return function(e){var n=t(e);return function(e){var t=n(e);return function(e){var n=t(e);return function(e){return n(e)}}}}(u)("td")(n[0])(r)}())},o)}))))})}),function(e){return Log.exn("live","Getting data for table failed: %O",e),r.Return(function(){throw e}())})})}(singleton$2)}},{key:"show",value:function(e){var t=this;!function(e){startImmediate(e)}(function(n){return n.Delay(function(){return n.Bind(t.render(),function(t){return renderTo(document.getElementById(e),t),n.Zero()})})}(singleton$2))}}],[{key:"create",value:function(t){var n=create$3(null,new GenericComparer(function(e,t){return e<t?-1:e>t?1:0})),i=new List$2;return new e(t,null,n,i)}}]),e}();setType("TheGamma.table",table);var placeholder=function(){function e(t){_classCallCheck(this,e),this.message=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.placeholder",properties:{}}}}]),_createClass(e,[{key:"show",value:function(e){renderTo(document.getElementById(e),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray([op_EqualsGreater("class","placeholder")]))(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("p")(new List$2)(ofArray([text(this.message)]))])))}}],[{key:"create",value:function(t){return new e(t)}}]),e}();setType("TheGamma.placeholder",placeholder);var core$4=_core,$JSON$1=core$4.JSON||(core$4.JSON={stringify:JSON.stringify}),stringify$3=function(e){return $JSON$1.stringify.apply($JSON$1,arguments)},stringify$2=createCommonjsModule(function(e){e.exports={default:stringify$3,__esModule:!0}}),_JSON$stringify=unwrapExports(stringify$2),_stringWs="\t\n\v\f\r \u2028\u2029\ufeff",$export$9=_export,defined$4=_defined,fails$2=_fails,spaces=_stringWs,space="["+spaces+"]",non="",ltrim=RegExp("^"+space+space+"*"),rtrim=RegExp(space+space+"*$"),exporter=function(e,t,n){var i={},r=fails$2(function(){return!!spaces[e]()||non[e]()!=non}),o=i[e]=r?t(trim$1):spaces[e];n&&(i[n]=o),$export$9($export$9.P+$export$9.F*r,"String",i)},trim$1=exporter.trim=function(e,t){return e=String(defined$4(e)),1&t&&(e=e.replace(ltrim,"")),2&t&&(e=e.replace(rtrim,"")),e},_stringTrim=exporter,$parseInt$1=_global.parseInt,$trim=_stringTrim.trim,ws=_stringWs,hex=/^[\-+]?0[xX]/,_parseInt$3=8!==$parseInt$1(ws+"08")||22!==$parseInt$1(ws+"0x16")?function(e,t){var n=$trim(String(e),3);return $parseInt$1(n,t>>>0||(hex.test(n)?16:10))}:$parseInt$1,$export$8=_export,$parseInt=_parseInt$3;$export$8($export$8.S+$export$8.F*(Number.parseInt!=$parseInt),"Number",{parseInt:$parseInt});var _parseInt$1=parseInt,_parseInt=createCommonjsModule(function(e){e.exports={default:_parseInt$1,__esModule:!0}}),_Number$parseInt=unwrapExports(_parseInt),GeographyConfig=function(){function e(t,n){_classCallCheck(this,e),this.popupOnHover=t,this.highlightOnHover=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Maps.GeographyConfig",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{popupOnHover:"boolean",highlightOnHover:"boolean"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Maps.GeographyConfig",GeographyConfig);var DatamapConfig=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.element=t,this.scope=n,this.geographyConfig=i,this.fills=r,this.data=o}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Maps.DatamapConfig",interfaces:["FSharpRecord","System.IEquatable"],properties:{element:Interface("Fable.Import.Browser.HTMLElement"),scope:"string",geographyConfig:GeographyConfig,fills:Any,data:Any}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.Maps.DatamapConfig",DatamapConfig);var BubblesConfig=function(){function e(t,n){_classCallCheck(this,e),this.popupTemplate=t,this.key=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Maps.BubblesConfig",interfaces:["FSharpRecord","System.IEquatable"],properties:{popupTemplate:"function",key:"function"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.Maps.BubblesConfig",BubblesConfig);var GeoGlobals=function(e){var t=e.Locations=function(){function e(t,n){_classCallCheck(this,e),this.country=t,this.coordinates=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Maps.GeoGlobals.Locations",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{country:"string",coordinates:FArray("number")}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Maps.GeoGlobals.Locations",t);e.locations=function(e){return function(t){return Async_CreateNamedFuture_Static(e,t)}}("locations")(function(e){return e.Delay(function(){return e.Bind(Http.Request("GET","/data/locations.json"),function(t){var n=create$4(JSON.parse(t).map(function(e){return[e.country,e.coordinates]}),new GenericComparer(function(e,t){return e<t?-1:e>t?1:0}));return e.Return(n)})})}(singleton$2));return e}({}),geo=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Maps.geo",properties:{}}}}],[{key:"lookup",value:function(e){return function(t){return t.Delay(function(){return t.Bind(Async_AwaitFuture_Static(GeoGlobals.locations),function(n){return t.Return(null!=tryFind$1(e,n)?tryFind$1(e,n):new Float64Array([0,0]))})})}(singleton$2)}}]),e}();setType("TheGamma.Maps.geo",geo);var math=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Maps.math",properties:{}}}}],[{key:"sqrt",value:function(e){return Math.sqrt(e)}},{key:"pow",value:function(e,t){return Math.pow(e,t)}},{key:"log",value:function(e,t){return null!=t?Math.log(e,t):Math.log(e)}},{key:"min",value:function(e,t){return e<t?e:t}},{key:"max",value:function(e,t){return e>t?e:t}},{key:"add",value:function(e,t){return e+t}},{key:"times",value:function(e,t){return e*t}},{key:"sub",value:function(e,t){return e-t}},{key:"div",value:function(e,t){return e/t}}]),e}();setType("TheGamma.Maps.math",math);var timeline=function(){function e(t,n,i,r,o,s,a,l,u,c,p){_classCallCheck(this,e),this.data=t,this.colors=n,this.titleTemplate=i,this.defaultFill=r,this.delay=o,this.overflowDelay=s,this.infoSelector=a,this.locSelector=l,this.sizeSelector=u,this.detailsSelector=c,this.timeSelector=p}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Maps.timeline",interfaces:["FSharpRecord"],properties:{data:makeGeneric(series,{k:GenericParam("k"),v:GenericParam("v")}),colors:FArray("string"),titleTemplate:"string",defaultFill:"string",delay:"number",overflowDelay:"number",infoSelector:"function",locSelector:"function",sizeSelector:"function",detailsSelector:Option("function"),timeSelector:"function"}}}},{key:"set",value:function(t,n,i,r,o,s){var a=null!=n?n:this.colors,l=null!=t?t:this.defaultFill,u=null!=i?i:this.titleTemplate,c=null!=r?r:this.delay,p=null!=s?s:this.detailsSelector,h=null!=o?o:this.overflowDelay;return new e(this.data,a,u,l,c,h,this.infoSelector,this.locSelector,this.sizeSelector,p,this.timeSelector)}},{key:"using",value:function(t,n,i,r){return new e(this.data,this.colors,this.titleTemplate,this.defaultFill,this.delay,this.overflowDelay,r,t,i,this.detailsSelector,n)}},{key:"show",value:function(e){var t=this,n="map"+function(){var e=function(){var e=now();return ticks$$1(e)}();return String(e)}();renderTo(document.getElementById(e),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray([op_EqualsGreater("class","map")]))(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray([op_EqualsGreater("id",n+"_title")]))(ofArray([text("")])),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray([op_EqualsGreater("id",n),op_EqualsGreater("class","mapcontainer")]))(new List$2),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(new List$2)(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray([op_EqualsGreater("class","buttons")]))(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([op_EqualsGreater("id",n+"_btn")]))(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("i")(ofArray([op_EqualsGreater("class","fa fa-pause")]))(new List$2)]))])),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("input")(ofArray([op_EqualsGreater("id",n+"_player"),op_EqualsGreater("type","range")]))(new List$2)]))])));var i=_Array$from(mapIndexed$1(function(e,t){return[fsFormat("item%d")(function(e){return e})(e),t]},this.colors)),r=new Datamap(new DatamapConfig(document.getElementById(n),"world",new GeographyConfig(!1,!1),createObj(new List$2(["defaultFill",this.defaultFill],ofArray(i))),{})),o=function(e){return function(n){return function(r){for(var o=[],s=0;s<=e.length-1;s++){var a=e[s];equals(a[3],r)&&!function(e){o.push(e)}(createObj(append$$1(null!=t.detailsSelector?ofArray([["details",join("",map$5(function(e){return toString$2(e)},t.detailsSelector(a[2])))]]):new List$2,ofArray([["radius",t.sizeSelector(a[2])],["borderWidth","1px"],["fillKey",fsFormat("item%d")(function(e){return e})(a[0]%i.length)],["info",null!=tryFind$1(fsFormat("%O, %O")(function(e){return e})(a[1][0])(a[1][1]),n)?tryFind$1(fsFormat("%O, %O")(function(e){return e})(a[1][0])(a[1][1]),n):""],["latitude",a[1][0]],["longitude",a[1][1]]]))))}return _Array$from(o)}}};!function(e){startImmediate(e)}(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(t.data.data),function(i){var s=new Array(i.length).fill();return e.Combine(e.For(range(0,i.length-1),function(n){return e.Bind(t.locSelector(i[n][1]),function(t){return s[n]=t,e.Zero()})}),e.Delay(function(){var a=create$4(mapIndexed$1(function(e,t){return[ofArray(t),e]},distinct(s)),new GenericComparer(function(e,t){return e.CompareTo(t)})),l=_Array$from(map2(function(e,n){return[a.get(ofArray(n)),n,e[1],t.timeSelector(e[1])]},i,s)),u=create$4(map$5(function(e){return[e[0],join("<br />",distinct(map$5(function(e){return t.infoSelector(e[2])},e[1])))]},groupBy$1(function(e){return fsFormat("%O, %O")(function(e){return e})(e[1][0])(e[1][1])},l)),new GenericComparer(function(e,t){return e<t?-1:e>t?1:0})),c=Int32Array.from(sortWith(function(e,t){return compare(e,t)},distinct(Int32Array.from(map$5(function(e){return e[3]},l))))),p=([reduce(function(e,t){return Math.min(e,t)},c),reduce(function(e,t){return Math.max(e,t)},c)],document.getElementById(n+"_player")),h=document.getElementById(n+"_btn");return e.Combine(1===c.length?function(){return p.style.display="none",h.style.display="none",e.Zero()}():e.Zero(),e.Delay(function(){p.min=String(0),p.value=String(0),p.max=String(c.length-1);var i=function(){var e=c[_Number$parseInt(p.value)],i=o(l)(u)(e);renderTo(document.getElementById(n+"_title"),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("h2")(new List$2)(ofArray([text(replace$$1(t.titleTemplate,"%title",String(e)))])));var s=function(){var e=function(e){return _JSON$stringify([e.latitude,e.longitude])};return new BubblesConfig(function(e,n){return null!=t.detailsSelector?fsFormat("<div style='pointer-events:none' class='hoverinfo'><strong>%s</strong><br /> %s </div>")(function(e){return e})(n.info)(n.details):fsFormat("<div style='pointer-events:none' class='hoverinfo'>%s</div>")(function(e){return e})(n.info)},e)}();r.bubbles(i,s)},s=!0,a=function(){!function(e){startImmediate(e)}(function(e){return e.Delay(function(){return e.While(function(){return s},e.Delay(function(){var n=_Number$parseInt(p.value);return i(),p.value=String(n+1===c.length?0:n+1),e.Bind(sleep(n+1===c.length?t.overflowDelay:t.delay),function(){return e.Return()})}))})}(singleton$2))};return p.onchange=function(e){return s=!1,function(e){renderTo(h,e)}(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("i")(ofArray([op_EqualsGreater("class","fa fa-play")]))(new List$2)),i()},p.oninput=p.onchange,h.onclick=function(e){return s=!s,function(e){renderTo(h,e)}(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("i")(ofArray([op_EqualsGreater("class",s?"fa fa-pause":"fa fa-play")]))(new List$2)),s&&a(),null},a(),e.Zero()}))}))})})}(singleton$2));
}}],[{key:"create",value:function(t){var n=["red"],i="blue",r=750,o=null,s=2e3,a="%title",l=function(e){return""},u=function(e){return 0},c=function(e){return 10};return new e(t,n,a,i,r,s,l,function(e){throw new Error("!")},c,o,u)}}]),e}();setType("TheGamma.Maps.timeline",timeline);var TypeContext=function(){function e(t){_classCallCheck(this,e),this.EquivalentVars=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Types.TypeContext",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{EquivalentVars:makeGeneric(List$2,{T:Tuple(["string","string"])})}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Types.TypeContext",TypeContext);var typesEqual=function(){var e=new TypeContext(new List$2);return function(t){return function(n){return typesEqualAux(e,t,n)}}}(),UnifictionContext=function(){function e(t,n,i,r){_classCallCheck(this,e),this.FreeVars=t,this.Assignments=n,this.EquivalentVars=i,this.Errors=r}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Types.UnifictionContext",interfaces:["FSharpRecord"],properties:{FreeVars:makeGeneric(FSet,{T:"string"}),Assignments:makeGeneric(List$2,{T:Tuple(["string",Type])}),EquivalentVars:makeGeneric(List$2,{T:Tuple(["string","string"])}),Errors:makeGeneric(List$2,{T:Tuple([Type,Type])})}}}}]),e}();setType("TheGamma.Types.UnifictionContext",UnifictionContext);var _createClass$10=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Lazy=function(){function e(t){_classCallCheck$11(this,e),this.factory=t,this.isValueCreated=!1}return _createClass$10(e,[{key:"value",get:function(){return this.isValueCreated||(this.createdValue=this.factory(),this.isValueCreated=!0),this.createdValue}}]),e}(),FormattingContext=function(){function e(t){_classCallCheck(this,e),this.Strings=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Ast.FormattingContext",interfaces:["FSharpRecord","System.IEquatable"],properties:{Strings:FArray("string")}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"Add",value:function(e){this.Strings.push(formatToken(e))}}]),e}();setType("TheGamma.Ast.FormattingContext",FormattingContext);var anonymous="",BabelOptions=function(){function e(t){_classCallCheck(this,e),this.presets=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interpreter.BabelOptions",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{presets:FArray("string")}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Interpreter.BabelOptions",BabelOptions);var BabelResult=function(){function e(t){_classCallCheck(this,e),this.code=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interpreter.BabelResult",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{code:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Interpreter.BabelResult",BabelResult);var EvaluationContext=function(){function e(t){_classCallCheck(this,e),this.Globals=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interpreter.EvaluationContext",interfaces:["FSharpRecord","System.IEquatable"],properties:{Globals:Interface("System.Collections.Generic.IDictionary")}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.Interpreter.EvaluationContext",EvaluationContext);var _createClass$11=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),QueueCell=function e(t){_classCallCheck$12(this,e),this.value=t},MailboxQueue=function(){function e(){_classCallCheck$12(this,e)}return _createClass$11(e,[{key:"add",value:function(e){var t=new QueueCell(e);this.firstAndLast?(this.firstAndLast[1].next=t,this.firstAndLast=[this.firstAndLast[0],t]):this.firstAndLast=[t,t]}},{key:"tryGet",value:function(){if(this.firstAndLast){var e=this.firstAndLast[0].value;return this.firstAndLast[0].next?this.firstAndLast=[this.firstAndLast[0].next,this.firstAndLast[1]]:delete this.firstAndLast,e}}}]),e}(),MailboxProcessor=function(){function e(t,n){_classCallCheck$12(this,e),this.body=t,this.cancellationToken=n||defaultCancellationToken,this.messages=new MailboxQueue}return _createClass$11(e,[{key:"__processEvents",value:function(){if(this.continuation){var e=this.messages.tryGet();if(e){var t=this.continuation;delete this.continuation,t(e)}}}},{key:"start",value:function(){startImmediate(this.body(this),this.cancellationToken)}},{key:"receive",value:function(){var e=this;return fromContinuations(function(t){if(e.continuation)throw new Error("Receive can only be called once!");e.continuation=t[0],e.__processEvents()})}},{key:"post",value:function(e){this.messages.add(e),this.__processEvents()}},{key:"postAndAsyncReply",value:function(e){function t(){n&&i&&i(n)}var n=void 0,i=void 0,r={reply:function(e){n=e,t()}};return this.messages.add(e(r)),this.__processEvents(),fromContinuations(function(e){i=e[0],t()})}}]),e}(),Property=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Editors.Property",interfaces:["FSharpUnion"],cases:{Property:["string",Option(Metadata),Type]}}}}]),e}();setType("TheGamma.Editors.Property",Property);var Editor=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Editors.Editor",interfaces:["FSharpUnion"],cases:{CreateList:[Documentation,makeGeneric(_Node,{T:Name}),FArray(makeGeneric(_Node,{T:Name})),FArray(Property)],NestedChoice:[Documentation,Documentation,makeGeneric(_Node,{T:Name}),makeGeneric(_Node,{T:Name}),FArray(Tuple([Property,FArray(Property)]))],SingleChoice:[Documentation,makeGeneric(_Node,{T:Name}),FArray(Property)]}}}},{key:"Range",get:function(){return"NestedChoice"===this.Case?unionRanges(this.Fields[2].Range,this.Fields[3].Range):"CreateList"===this.Case?fold$1(function(e,t){return unionRanges(e,t.Range)},new _Range(this.Fields[1].Range.End,this.Fields[1].Range.End),this.Fields[2]):this.Fields[1].Range}}]),e}();setType("TheGamma.Editors.Editor",Editor);var collectSingleChoiceEditors=function(){var e=function(e){return function(t){return t.Delay(function(){return null!=e.tail?function(){var n=e.head[0],i=e.head[1],r=e.head[4];return t.Bind(chooseableProperty(!0,i,n),function(e){return t.Return(function(){var t=e;return null!=t?function(e){return new Editor("SingleChoice",[r,e[0],e[1]])}(t):t}())})}():t.Return()})}(singleton$2)};return function(t){return pickChainSuffixes(e,t)}}(),collectNestedChoiceEditors=function(){var e=function(e){return function(t){return t.Delay(function(){var n=function(){return t.Return()};if(null==e.tail)return n();if(null==e.tail.tail)return n();if(null==e.tail.head[2])return n();var i=function(){var n=e.head[4],i=e.head[1],r=e.head[0],o=(e.head[2],e.head[3],e.tail.head[4]),s=e.tail.head[1],a=e.tail.head[0],l=e.tail.head[2],u=e.tail.head[3];return Log.trace("editors","checking %s.%s",i.Node.Name,s.Node.Name),{v:t.Bind(chooseableProperty(!1,i,r),function(e){return t.Bind(chooseableProperty(!0,s,a),function(i){var r=[e,i],s=function(){return t.Return()};if(null==r[0])return s();if(null==r[1])return s();var a=function(){var e=r[0][1],i=r[0][0],s=(r[1][1],r[1][0]),a=function(){Log.trace("editors","collecting %s nested members",e.length);var r=function(t){return Async.Array.map(function(e){return function(t){return t.Delay(function(){return t.Bind(getMembers(e.Fields[2]),function(n){var i=filterProperties(function(e){return null!=e[1]&&function(){var t=e[1];return t.Type===l.Type&&typesEqual(e[2])(u)}()},n);return t.Return([e,[n,i]])})})}(singleton$2)},t(e))};return{v:{v:t.Bind(r(function(e){return _Array$from(truncate(5,e))}),function(e){return count(e)>2&&dominant(collect$1(function(e){return e[1][0]},e),collect$1(function(e){return e[1][1]},e))?t.Bind(r(function(e){return e}),function(e){var r=e.map(function(e){return[e[0],e[1][1]]});return t.Return(new Editor("NestedChoice",[n,o,i,s,r]))}):t.Return()})}}}();if("object"===("undefined"==typeof a?"undefined":_typeof$2(a)))return a.v}();return"object"===("undefined"==typeof a?"undefined":_typeof$2(a))?a.v:void 0})})}}();return"object"===("undefined"==typeof i?"undefined":_typeof$2(i))?i.v:void 0})}(singleton$2)};return function(t){return pickChainSuffixes(e,t)}}(),ItemListSchema=function(){function e(t){_classCallCheck(this,e),this.name=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Editors.ItemListSchema",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{name:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Editors.ItemListSchema",ItemListSchema);var CreateActionSchema=function(){function e(t){_classCallCheck(this,e),this.result=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Editors.CreateActionSchema",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{result:ItemListSchema}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Editors.CreateActionSchema",CreateActionSchema);var AddActionSchema=function(){function e(t){_classCallCheck(this,e),this.targetCollection=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Editors.AddActionSchema",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{targetCollection:ItemListSchema}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Editors.AddActionSchema",AddActionSchema);var collectItemListEditors=function(){var e=function(e){return function(t){return t.Delay(function(){var n=function n(){var n=function(){return t.Return()};if(null==e.tail)return n();if(null==e.head[2])return n();if(!function(){var t=(e.head[4],e.head[3],e.head[2]);e.head[0],e.head[1];return"CreateAction"===t.Type}())return n();var i=function(){var n=e.tail,i=e.head[1],r=(e.head[0],e.head[2]),o=e.head[3],s=e.head[4],a=function(){var e=r.Data.result.name,a=function t(n){return function(i){return function(r){var o=function(){return[reverse$$1(n),i]};if(null!=r.tail){if(null!=r.head[2]){if(function(){var t=(r.head[3],r.head[2]);r.head[0],r.head[1];return"AddAction"===t.Type&&e===t.Data.targetCollection.name}()){var s=r.tail,a=r.head[1],l=(r.head[0],r.head[2],r.head[3]);return t(new List$2(a,n))(l)(s)}return o()}return o()}return o()}}},l=a(new List$2)(o)(n);return{v:{v:t.Bind(getMembers(l[1]),function(n){var r=filterProperties(function(t){var n=function(){return!1};if(null!=t[1]){if(function(){var e=t[1];return"AddAction"===e.Type}()){var i=(t[0],t[1]);t[2];return i.Data.targetCollection.name===e}return n()}return n()},n);return t.Return(new Editor("CreateList",[s,i,_Array$from(l[0]),r]))})}}}();if("object"===("undefined"==typeof a?"undefined":_typeof$2(a)))return a.v}();return"object"===("undefined"==typeof i?"undefined":_typeof$2(i))?i.v:void 0};if(null!=e.tail){if(null!=e.head[2]){if(null!=e.tail.tail){if(null!=e.tail.head[2]){if(function(){var t=e.tail.head[2],n=e.head[2];return"CreateAction"===n.Type&&"CreateAction"===t.Type}()){e.head[2],e.tail.head[2];return t.Return()}return n()}return n()}return n()}return n()}return n()})}(singleton$2)};return function(t){return pickChainSuffixes(e,t)}}(),BindingContext=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.Variables=t,this.GlobalValues=n,this.Root=i,this.Table=r,this.Bound=o}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Binder.BindingContext",interfaces:["FSharpRecord"],properties:{Variables:makeGeneric(FMap,{Key:Name,Value:Entity}),GlobalValues:makeGeneric(FMap,{Key:Name,Value:Entity}),Root:Entity,Table:makeGeneric(_Map,{TKey:Interface("TheGamma.Common.Symbol"),TValue:makeGeneric(ListDictionaryNode,{K:Interface("TheGamma.Common.Symbol"),T:makeGeneric(FMap,{Key:Tuple(["number","string"]),Value:Entity})})}),Bound:FArray(Tuple([_Range,Entity]))}}}}]),e}();setType("TheGamma.Binder.BindingContext",BindingContext);var BindingResult=function(){function e(t){var n=this;_classCallCheck(this,e),this.ents=t,!function(){for(var e=new _Map,t=function(t){return function(n){e.has(t)||e.set(t,[]),e.get(t).push(n)}},i=n.ents,r=0;r<=i.length-1;r++){var o=i[r],s=Entity_get_Antecedents.bind(o[1])(),a=!0,l=!1,u=void 0;try{for(var c,p=_getIterator(s);!(a=(c=p.next()).done);a=!0){var h=c.value;t(h.Symbol)(o[1])}}catch(e){l=!0,u=e}finally{try{!a&&p.return&&p.return()}finally{if(l)throw u}}}n.childrenLookup=e}()}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Binder.BindingResult",properties:{Entities:FArray(Tuple([_Range,Entity]))}}}}]),_createClass(e,[{key:"GetChildren",value:function(e){var t=tryGetValue(this.childrenLookup,e.Symbol);return t[0]?_Array$from(t[1]):[]}},{key:"Entities",get:function(){return this.ents}}]),e}();setType("TheGamma.Binder.BindingResult",BindingResult);var Tokenizer=function(e){e.inputEndInsideString=function(e,t){var n=101;return new _Error(n,fsFormat('Missing " at the end of the input. The string "%s" ends without closing double-quote.')(function(e){return e})(t),e)},e.missingClosingQuote=function(e,t){var n=102;return new _Error(n,fsFormat("Quoted identifier '%s' is missing closing quote.")(function(e){return e})(t),e)},e.unexpectedCharacter=function(e,t){var n=103;return new _Error(n,fsFormat("Unexcpected character '%s' in the input.")(function(e){return e})(t),e)};return e}({}),Parser=function(e){e.unexpectedTokenAfterDot=function(e,t){var n=201;return new _Error(n,fsFormat("Unexpected %s after '.' in method chain")(function(e){return e})(formatTokenInfo(t)),e)},e.unexpectedScopeEndAfterDot=function(e,t,n){var i=202;return new _Error(i,fsFormat("Unexpected end of scope after '.' in method chain before %s")(function(e){return e})(formatTokenInfo(n)),e)},e.unindentedIdentifierAfterDot=function(e,t,n){var i=203;return new _Error(i,fsFormat("Unexpected end of scope after '.' and before '%s'. Indent the identifier?")(function(e){return e})(n),e)},e.unindentedDotAfterIdentifier=function(e,t){var n=204;return new _Error(n,"Dot after this identifier is not correctly nested",e)},e.unindentedBlock=function(e,t){var n=205;return new _Error(n,fsFormat("Token following %s needs to be indented further")(function(e){return e})(formatTokenInfo(t)),e)},e.unexpectedTokenAfterOperator=function(e,t,n){var i=206;return new _Error(i,fsFormat("Unexpected token '%s' after operator '%s'")(function(e){return e})(formatTokenInfo(n))(formatTokenInfo(t)),e)},e.unexpectedTokenInArgList=function(e,t){var n=207;return new _Error(n,fsFormat("Unexpected token '%s' in list of call arguments")(function(e){return e})(formatTokenInfo(t)),e)},e.unexpectedScopeEndInArgList=function(e){var t=208;return new _Error(t,"Unexpected end of scope in argument list",e)},e.unexpectedTokenInParenthesizedExpr=function(e,t){var n=209;return new _Error(n,fsFormat("Unexpected token '%s' in parenthesized expression. Are you missing ')'?")(function(e){return e})(formatTokenInfo(t)),e)},e.unindentedTokenInParenthesizedExpr=function(e){var t=210;return new _Error(t,"Unexpected end of nested expression in `(`",e)},e.missingParenthesizedExpr=function(e){var t=211;return new _Error(t,"The parenthesized expression (...) is missing body!",e)},e.unexpectedTokenInList=function(e,t){var n=212;return new _Error(n,fsFormat("Unexpected token '%s' in list expression")(function(e){return e})(formatTokenInfo(t)),e)},e.unexpectedScopeEndInList=function(e){var t=213;return new _Error(t,"Unexpected end of scope in list expression",e)},e.unexpectedTokenInLetBinding=function(e,t){var n=214;return new _Error(n,fsFormat("Unexpected token '%s' in let declaration (should be let name = expr)")(function(e){return e})(formatTokenInfo(t)),e)},e.missingBodyInLetBinding=function(e){var t=215;return new _Error(t,"This let binding is missing body after equals",e)},e.nestedExpressionInCommand=function(e){var t=216;return new _Error(t,"Unexpected expression",e)},e.unexpectedTokenAfterFun=function(e,t){var n=217;return new _Error(n,fsFormat("Unexpected token '%s' after `fun`. Expected variable name.")(function(e){return e})(formatTokenInfo(t)),e)},e.missingArrowInFunc=function(e){var t=218;return new _Error(t,"Missing arrow after variable in function definition",e)},e.unexpectedScopeEndInFunc=function(e){var t=219;return new _Error(t,"Unexpected end of scope in function declaration",e)},e.missingBodyOfFunc=function(e){var t=220;return new _Error(t,"The function is missing body. If it is on the next line, you need to indent it further.",e)},e.exceptionWhileParsing=function(e,t){var n=299;return new _Error(n,"Unexpected exception while parsing: "+t,e)};return e}({}),TypeChecker=function(e){var t=(e.numericOperatorExpectsNumbers=function(e,t,n,i){var r=301;return new _Error(r,fsFormat("Both operands of binary operator '%s' should be numbers but the %s operand was %s instead.")(function(e){return e})(formatToken(new TokenKind("Operator",[e])))(0===t?"left":"right")(formatTypeInfo(n)),i)},e.variableNotInScope=function(e,t){var n=302;return new _Error(n,fsFormat("Variable '%s' is not in scope.")(function(e){return e})(e),t)},function(e){return join(", ",toList(delay(function(){return collect$1(function(e){var t=function(e){return singleton$1(e)};return t("Property"===e.Case?e.Fields[0]:e.Fields[0])},e)})))});e.propertyMissing=function(e,n,i){var r=303;return new _Error(r,fsFormat("Could not find property '%s' in the list '%s'.")(function(e){return e})(e)(t(n)),i)},e.methodMissing=function(e,n,i){var r=304;return new _Error(r,fsFormat("Could not find method '%s' in the list '%s'.")(function(e){return e})(e)(t(n)),i)},e.notAnObject=function(e,t,n){var i=305;return new _Error(i,fsFormat("Type is not an object but %s and it does not have member `%s`")(function(e){return e})(formatTypeInfo(t))(e),n)},e.listElementTypeDoesNotMatch=function(e,t,n){var i=306;return new _Error(i,fsFormat("The type of this list element is %s but it should be %s")(function(e){return e})(formatTypeInfo(t))(formatTypeInfo(e)),n)},e.nameBasedParamMustBeLast=function(e){var t=307;return new _Error(t,"All named parameters must be at the end of parameter list.",e)},e.parameterMissingValue=function(e,t){var n=308;return new _Error(n,fsFormat("Required parameter `%s` is not given a value.")(function(e){return e})(e),t)},e.incorrectParameterType=function(e,t,n,i,r,o){var s=309;return new _Error(s,fsFormat("The value of parameter `%s` has wrong type. Expected %s but got %s. The type %s does not match the type %s.")(function(e){return e})(e)(formatTypeInfo(t))(formatTypeInfo(n))(formatTypeInfo(i))(formatTypeInfo(r)),o)},e.inferenceConflict=function(e,t,n,i){var r=310;return new _Error(r,fsFormat("The arguments of the call have conflicting types. The type %s assigned to a variable %s does not match the type %s.")(function(e){return e})(formatTypeInfo(t))(e)(formatTypeInfo(n)),i)},e.callMissingInstance=function(e,t){var n=311;return new _Error(n,fsFormat("The `%s` property access or call is missing an instance")(function(e){return e})(e),t)};return e}({}),$parseFloat$1=_global.parseFloat,$trim$1=_stringTrim.trim,_parseFloat$3=1/$parseFloat$1(_stringWs+"-0")!==-(1/0)?function(e){var t=$trim$1(String(e),3),n=$parseFloat$1(t);return 0===n&&"-"==t.charAt(0)?-0:n}:$parseFloat$1,$export$10=_export,$parseFloat=_parseFloat$3;$export$10($export$10.S+$export$10.F*(Number.parseFloat!=$parseFloat),"Number",{parseFloat:$parseFloat});var _parseFloat$1=parseFloat,_parseFloat=createCommonjsModule(function(e){e.exports={default:_parseFloat$1,__esModule:!0}}),_Number$parseFloat=unwrapExports(_parseFloat),Context$1=function(){function e(t,n,i){_classCallCheck(this,e),this.Tokens=t,this.Errors=n,this.Input=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Tokenizer.Context",interfaces:["FSharpRecord","System.IEquatable"],properties:{Tokens:FArray(Token),Errors:FArray(makeGeneric(_Error,{Range:_Range})),Input:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.Tokenizer.Context",Context$1);var Context$$1=function(){function e(t,n,i,r,o,s,a,l,u){_classCallCheck(this,e),this.Tokens=t,this.Whitespace=n,this.Errors=i,this.TopLevel=r,this.Silent=o,this.StrictlyNested=s,this.IndentCurrent=a,this.IndentStack=l,this.Position=u}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Parser.Context",interfaces:["FSharpRecord","System.IEquatable"],properties:{Tokens:FArray(Token),Whitespace:FArray(Token),Errors:FArray(makeGeneric(_Error,{Range:_Range})),TopLevel:"boolean",Silent:"boolean",StrictlyNested:"boolean",IndentCurrent:"number",IndentStack:makeGeneric(List$2,{T:Tuple(["number","boolean"])}),Position:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.Parser.Context",Context$$1);var DisposableHelper=function(){function e(t){_classCallCheck(this,e),this.f=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Parser.DisposableHelper",interfaces:["System.IDisposable"],properties:{}}}}]),_createClass(e,[{key:"Dispose",value:function(){this.f()}}]),e}();setType("TheGamma.Parser.DisposableHelper",DisposableHelper);var Associativity=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Parser.Associativity",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Left:[],Right:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Parser.Associativity",Associativity);var OpExpr=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Parser.OpExpr",interfaces:["FSharpUnion"],cases:{OpExpr:[makeGeneric(_Node,{T:Expr}),Option(Tuple([makeGeneric(_Node,{T:Operator}),e]))]}}}}]),e}();setType("TheGamma.Parser.OpExpr",OpExpr);var CheckingContext=function(){function e(t,n,i){_classCallCheck(this,e),this.Errors=t,this.Globals=n,this.Ranges=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeChecker.CheckingContext",interfaces:["FSharpRecord","System.IEquatable"],properties:{Errors:FArray(makeGeneric(_Error,{Range:_Range})),Globals:Interface("System.Collections.Generic.IDictionary"),Ranges:Interface("System.Collections.Generic.IDictionary")}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.TypeChecker.CheckingContext",CheckingContext);var LineColumnRange=function(){function e(t,n,i,r){_classCallCheck(this,e),this.StartLineNumber=t,this.StartColumn=n,this.EndLineNumber=i,this.EndColumn=r}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.LineColumnRange",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{StartLineNumber:"number",StartColumn:"number",EndLineNumber:"number",EndColumn:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.LineColumnRange",LineColumnRange);var LocationMapper=function(){function e(t){_classCallCheck(this,e),this.lengths=Int32Array.from(map$5(function(e){return e.length},t.split("\n")))}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.LocationMapper",properties:{}}}}]),_createClass(e,[{key:"AbsoluteToLineCol",value:function(e){for(var t=0,n=e;t<=this.lengths.length&&n>this.lengths[t];)n=n-this.lengths[t]-1,t+=1;return[t+1,n+1]}},{key:"LineColToAbsolute",value:function(e,t){for(var n=0,i=1;i<=e-1;i++)n=n+this.lengths[i-1]+1;return n+t-1}}]),e}();setType("TheGamma.LocationMapper",LocationMapper);var LiveEditorZone=function(){function e(t,n){_classCallCheck(this,e),this.Line=t,this.Preview=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Live.Common.LiveEditorZone",interfaces:["FSharpRecord"],properties:{Line:"number",Preview:DomNode}}}}]),e}();setType("TheGamma.Live.Common.LiveEditorZone",LiveEditorZone);var LivePreview=function(){function e(t,n,i){_classCallCheck(this,e),this.Update=t,this.Render=n,this.InitialState=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Live.Common.LivePreview",interfaces:["FSharpRecord"],properties:{Update:"function",Render:"function",InitialState:GenericParam("TState")}}}}]),e}();setType("TheGamma.Live.Common.LivePreview",LivePreview);var LiveState=function(){function e(t,n,i,r,o,s,a,l){_classCallCheck(this,e),this.Globals=t,this.Code=n,this.Program=i,this.Mapper=r,this.Location=o,this.Selection=s,this.State=a,this.CurrentPreview=l}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Live.Common.LiveState",interfaces:["FSharpRecord"],properties:{Globals:Interface("System.Collections.Generic.IEnumerable"),Code:"string",Program:Program$$1,Mapper:LocationMapper,Location:"number",Selection:Option(LineColumnRange),State:GenericParam("T"),CurrentPreview:Option(makeGeneric(LivePreview,{TState:Interface("TheGamma.Live.Common.CustomLiveState"),TEvent:Interface("TheGamma.Live.Common.CustomLiveEvent")}))}}}}]),e}();setType("TheGamma.Live.Common.LiveState",LiveState);var LiveEvent=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Live.Common.LiveEvent",interfaces:["FSharpUnion"],cases:{CustomEvent:[GenericParam("T")],InitializeGlobals:[Interface("System.Collections.Generic.IEnumerable")],UpdateLocation:["number"],UpdateSource:["string","number",Program$$1,LocationMapper]}}}}]),e}();setType("TheGamma.Live.Common.LiveEvent",LiveEvent);var EditorWorkerMessage=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Services.EditorWorkerMessage",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Refersh:["string"],Update:["string"],UpdateNow:["string"]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Services.EditorWorkerMessage",EditorWorkerMessage);var EditorService=function(){function e(t,n,i){var r=this;_classCallCheck(this,e),this.article=t,this.checker=n,this.renderEditors=new Event$2,this.agent=start$1(function(e){var t=function t(n){return function(o){return function(s){return s.Delay(function(){return s.Bind(e.receive(),function(a){return"UpdateNow"===a.Case?s.Combine(s.TryWith(s.Delay(function(){return Log.trace("editors","updating..."),a.Fields[0]!==n?s.Bind(r.update(a.Fields[0]),function(){return s.Return()}):s.Zero()}),function(e){return Log.exn("editors","update failed: %O",e),s.Zero()}),s.Delay(function(){return s.ReturnFrom(t(a.Fields[0])(o))})):"Refersh"===a.Case?s.Combine(1===o?s.TryWith(s.Delay(function(){return Log.trace("editors","updating..."),a.Fields[0]!==n?s.Bind(r.update(a.Fields[0]),function(){return s.Return()}):s.Zero()}),function(e){return Log.exn("editors","update failed: %O",e),s.Zero()}):s.Zero(),s.Delay(function(){return s.ReturnFrom(t(a.Fields[0])(o-1))})):function(){return function(e){startImmediate(e)}(function(t){return t.Delay(function(){return t.Bind(sleep(i),function(){return e.post(new EditorWorkerMessage("Refersh",[a.Fields[0]])),t.Zero()})})}(singleton$2)),s.ReturnFrom(t(n)(o+1))}()})})}(singleton$2)}};return t("")(0)})}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Services.EditorService",properties:{EditorsUpdated:Interface("Microsoft.FSharp.Control.IEvent")}}}}]),_createClass(e,[{key:"UpdateSource",value:function(e,t){equals(t,!0)?this.agent.post(new EditorWorkerMessage("UpdateNow",[e])):this.agent.post(new EditorWorkerMessage("Update",[e]))}},{key:"update",value:function(e){var t=this;return function(n){return n.Delay(function(){return Log.event("options","update",t.article,e),n.Bind(t.checker(e),function(e){return Log.trace("service","Collecting editors"),n.Bind(Async.collect(function(e){return collectCmdEditors(e)},e[2].Body.Node),function(e){var i=mapIndexed$$1(function(e,t){return[e,t]},e),r=map$4(function(e){return e[1]},filter$1(function(e){return!exists$1(function(t){return t[0]!==e[0]&&strictSubRange(e[1].Range,t[1].Range)},i)},i));return Log.trace("service","Rendering %s out of %s",r.length,i.length),t.renderEditors.Trigger(r),n.Zero()})})})}(singleton$2)}},{key:"EditorsUpdated",get:function(){return this.renderEditors.Publish}}]),e}();setType("TheGamma.Services.EditorService",EditorService);var CheckingMessage=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Services.CheckingMessage",interfaces:["FSharpUnion","System.IEquatable"],cases:{IsWellTyped:["string",Any],TypeCheck:["string",Any]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}}]),e}();setType("TheGamma.Services.CheckingMessage",CheckingMessage);var Position$1=function(){function e(t,n){_classCallCheck(this,e),this.Line=t,this.Column=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Services.Position",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{Line:"number",Column:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Services.Position",Position$1);var LineRange=function(){function e(t,n){_classCallCheck(this,e),this.Start=t,this.End=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Services.LineRange",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{Start:Position$1,End:Position$1}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Services.LineRange",LineRange);var CheckingService=function(){function e(t,n){var i=this;_classCallCheck(this,e),this.globals=n,this.errorsReported=new Event$2;var r=new Program$$1(node(new _Range(0,0),new List$2));this.bindingContext=Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.globals),function(n){return e.Return(createContext(n,t))})})}(singleton$2)),this.agent=start$1(function(e){var t=function t(n){return function(o){return function(s){return s.Delay(function(){return s.Bind(e.receive(),function(e){
return"TypeCheck"===e.Case?e.Fields[0]===n?function(){var i=(e.Fields[0],e.Fields[1]);return Log.trace("service","Returning previous result"),i.reply(o),s.ReturnFrom(t(n)(o))}():"TypeCheck"===e.Case?function(){return Log.trace("service","Type checking source code"),s.Bind(i.typeCheck(e.Fields[0]),function(a){return null==a?function(){return e.Fields[1].reply([!1,new BindingResult([]),r]),s.ReturnFrom(t(n)(o))}():function(){var n=a[0],r=a[2],o=a[1];i.errorsReported.Trigger([e.Fields[0],r]);var l=[0===r.length,o,n];return e.Fields[1].reply(l),s.ReturnFrom(t(e.Fields[0])(l))}()})}():function(){throw new Error("C:\\Tomas\\Public\\thegamma\\thegamma-script\\src\\thegamma\\services.fs",120,12)}():function(){var r=e.Fields[0],a=e.Fields[1];return s.Bind(i.typeCheck(r),function(e){return s.Combine(function(){var t=function(){return a.reply(!1),s.Zero()};if(null!=e){if(function(){var t=e[2];return 0===t.length}()){e[2];return a.reply(!0),s.Zero()}return t()}return t()}(),s.Delay(function(){return s.ReturnFrom(t(n)(o))}))})}()})})}(singleton$2)}};return t("")([!1,new BindingResult([]),r])})}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Services.CheckingService",properties:{ErrorsReported:Interface("Microsoft.FSharp.Control.IEvent")}}}}]),_createClass(e,[{key:"TypeCheck",value:function(e){return this.agent.postAndAsyncReply(function(t){return new CheckingMessage("TypeCheck",[e,t])})}},{key:"IsWellTyped",value:function(e){return this.agent.postAndAsyncReply(function(t){return new CheckingMessage("IsWellTyped",[e,t])})}},{key:"errorsToLineCol",value:function(e,t){var n=map$4(function(e){return e.length},toList(e.split("\n")));return t.map(function(e){return new _Error(e.Number,e.Message,rangeToLoc(n,e.Range))})}},{key:"typeCheck",value:function(e){var t=this;return function(n){return n.Delay(function(){return n.Bind(Async_AwaitFuture_Static(t.globals),function(i){return n.TryWith(n.Delay(function(){var r=parseProgram(e);return n.Bind(Async_AwaitFuture_Static(t.bindingContext),function(o){var s=bindProgram(o,r[0]);return n.Bind(typeCheckProgram(i,s[1],s[0]),function(){var i=collectTypeErrors(s[0]);Log.trace("service","Type checking completed");var o=function(){var n=r[1].concat(i);return t.errorsToLineCol(e,n)}();return n.Return([r[0],s[1],o])})})}),function(e){return Log.exn("service","Type checking failed: %O",e),n.Return()})})})}(singleton$2)}},{key:"ErrorsReported",get:function(){return this.errorsReported.Publish}}]),e}();setType("TheGamma.Services.CheckingService",CheckingService);var PreviewService=function(){function e(t,n,i,r){var o=this;_classCallCheck(this,e),this.checker=t,this.globals=n,this.ed=i,this.livePreviews=r,this.zoneSizeChanged=new Event$2,this.currentZone=null,this.zoneHeight=0,this.tree={},this.container=document.createElement("div"),this.lastCode="",this.lastMapper=new LocationMapper(""),this.changingEditor=!1;var s=function(e){return o.createLivePreview(e)}(this.ed);this.ed.onDidChangeCursorPosition(function(e){if(!o.changingEditor){var t=o.ed.getModel().getValue(1,!1);Log.trace("live","Cursor position changed: code <> lastCode = %s",t!==o.lastCode),function(e){startImmediate(e)}(function(e){return e.Delay(function(){return e.Bind(o.getUpdateEventAfterChange(),function(t){return s(t),e.Zero()})})}(singleton$2))}})}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Services.PreviewService",properties:{ZoneHeight:"number",ZoneSizeChanged:Interface("Microsoft.FSharp.Control.IEvent")}}}}]),_createClass(e,[{key:"removeZone",value:function(){var e=this,t=this.currentZone;null==t||!function(){var n=t[0];e.ed.changeViewZones(function(e){e.removeZone(n)})}(),this.currentZone=null,this.zoneSizeChanged.Trigger()}},{key:"createAndAddZone",value:function(e){var t=this,n=-1,i={},r=document.createElement("div");r.style.width="1000px",r.style.height="1000px",this.container=document.createElement("div"),this.tree={},r.appendChild(this.container),this.ed.changeViewZones(function(o){var s=t.currentZone;if(null!=s){var a=s[0];o.removeZone(a)}i.afterLineNumber=e,i.heightInPx=1,i.domNode=r,t.zoneHeight=1,n=o.addZone(i),t.currentZone=[n,i]})}},{key:"updateZones",value:function(e,t){var n=this,i=function(){var n=t.CurrentPreview;return null!=n?function(n){return n.Render(e)(t)}(n):n}();null!=i?!function(){if(function(){return null==n.currentZone}()){var e=i.Line;n.createAndAddZone(e)}var t=n.currentZone,r=renderVirtual(i.Preview),o=diff(n.tree,r);n.container=patch(n.container,o),n.tree=r;var s=function e(t){return function(i){return i.Delay(function(){var r=n.container.clientHeight;return 10===t||0!==r?i.Return(r):i.Bind(sleep(t*t),function(){return i.ReturnFrom(e(t+1))})})}(singleton$2)};!function(e){startImmediate(e)}(function(e){return e.Delay(function(){return e.Bind(s(1),function(r){return Log.trace("live","Old height: %s, New height: %s",n.zoneHeight,r),n.zoneHeight!==r||t[1].afterLineNumber!==i.Line?(t[1].afterLineNumber=i.Line,t[1].heightInPx=r,n.zoneHeight=r,n.ed.changeViewZones(function(e){e.layoutZone(t[0])}),n.zoneSizeChanged.Trigger(),e.Zero()):e.Zero()})})}(singleton$2))}():this.removeZone()}},{key:"getUpdateEventAfterChange",value:function(){var e=this;return function(t){return t.Delay(function(){var n=e.ed.getModel().getValue(1,!1),i=e.ed.getPosition();if(n===e.lastCode){var r=e.lastMapper.LineColToAbsolute(~~i.lineNumber,~~i.column);return t.Return(new LiveEvent("UpdateLocation",[r]))}var o=function(){e.lastCode=n,e.lastMapper=new LocationMapper(n);var r=e.lastMapper.LineColToAbsolute(~~i.lineNumber,~~i.column);return{v:t.Bind(e.checker.TypeCheck(n),function(i){return t.Return(new LiveEvent("UpdateSource",[n,r,i[2],e.lastMapper]))})}}();if("object"===("undefined"==typeof o?"undefined":_typeof$2(o)))return o.v})}(singleton$2)}},{key:"createLivePreview",value:function(e){var t=this,n=new Event$2,i=function(){return _defineProperty({},_Symbol.reflection,{interfaces:["TheGamma.Live.Common.CustomLiveState"]})}(),r=function(){var e=new LocationMapper(""),t=0,n=new Program$$1(node(new _Range(0,0),new List$2));return new LiveState(new List$2,"",n,e,t,null,i)}(),o=function(e){var o=updateLiveState(r,e),s=null==o.CurrentPreview?null:o.CurrentPreview.Update(function(e){n.Trigger(e)})(o)(e),a=[s,e],l=function(){Log.trace("live","Searching for available previews");var r=tryPick(function(t){var i=function(){var e=t;return new LiveState(o.Globals,o.Code,o.Program,o.Mapper,o.Location,o.Selection,t.InitialState,e)}();return t.Update(function(e){n.Trigger(e)})(i)(e)},t.livePreviews);if(null!=r)return r;var s=null;return new LiveState(o.Globals,o.Code,o.Program,o.Mapper,o.Location,o.Selection,i,s)};if(null!=a[0]){var u=a[0];return u}if("UpdateSource"===a[1].Case)return l();if("UpdateLocation"===a[1].Case)return l();var c=null;return new LiveState(o.Globals,o.Code,o.Program,o.Mapper,o.Location,o.Selection,i,c)};return add$6(function(i){try{Log.trace("live","Updating state %O with event %O",r,i);var s=r;r=o(i),"UpdateSource"!==i.Case&&s.Code!==r.Code&&(t.changingEditor=!0,e.getModel().setValue(r.Code));var a=r.Selection;if(null!=a){t.changingEditor=!0;var l={};l.startColumn=a.StartColumn,l.startLineNumber=a.StartLineNumber,l.endColumn=a.EndColumn,l.endLineNumber=a.EndLineNumber,e.setSelection(l);var u=null;r=new LiveState(r.Globals,r.Code,r.Program,r.Mapper,r.Location,u,r.State,r.CurrentPreview)}if(t.changingEditor===!0)t.changingEditor=!1,function(e){startImmediate(e)}(function(e){return e.Delay(function(){return Log.trace("live","Editor changed. Getting after change event..."),e.Bind(t.getUpdateEventAfterChange(),function(i){Log.trace("live","Editor changed. Updating state %O with event %O",r,i),r=o(i),Log.trace("live","Editor changed. New state %O",r);var s=function(e){n.Trigger(e)};return t.updateZones(s,r),e.Zero()})})}(singleton$2));else{var c=function(e){n.Trigger(e)};t.updateZones(c,r)}}catch(e){Log.exn("live","Error when updating state %O with event %O: %O",r,i,e)}},n.Publish),function(e){startImmediate(e)}(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(t.globals),function(t){return n.Trigger(new LiveEvent("InitializeGlobals",[t])),e.Zero()})})}(singleton$2)),function(e){n.Trigger(e)}}},{key:"ZoneSizeChanged",get:function(){return this.zoneSizeChanged.Publish}},{key:"ZoneHeight",get:function(){return equals(this.currentZone)?0:this.zoneHeight}}]),e}();setType("TheGamma.Services.PreviewService",PreviewService);var CompilationContext=function(){function e(t,n){_classCallCheck(this,e),this.LineLengths=t,this.Globals=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.CodeGenerator.CompilationContext",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{LineLengths:makeGeneric(List$2,{T:"number"}),Globals:makeGeneric(FMap,{Key:"string",Value:Expression})}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.CodeGenerator.CompilationContext",CompilationContext);var BabelOptions$1=function(){function e(t){_classCallCheck(this,e),this.presets=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.CodeGenerator.BabelOptions",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{presets:FArray("string")}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.CodeGenerator.BabelOptions",BabelOptions$1);var BabelResult$1=function(){function e(t){_classCallCheck(this,e),this.code=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.CodeGenerator.BabelResult",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{code:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.CodeGenerator.BabelResult",BabelResult$1);var Aggregation=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.Pivot.Aggregation",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{ConcatValues:["string"],CountAll:[],CountDistinct:["string"],GroupKey:[],Mean:["string"],ReturnUnique:["string"],Sum:["string"]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.TypeProviders.Pivot.Aggregation",Aggregation);var SortDirection=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.Pivot.SortDirection",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Ascending:[],Descending:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.TypeProviders.Pivot.SortDirection",SortDirection);var Paging=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.Pivot.Paging",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Skip:["string"],Take:["string"]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.TypeProviders.Pivot.Paging",Paging);var Transformation=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.Pivot.Transformation",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{DropColumns:[makeGeneric(List$2,{T:"string"})],Empty:[],FilterBy:[makeGeneric(List$2,{T:Tuple(["string","boolean","string"])})],GetRange:["string"],GetSeries:["string","string"],GetTheData:[],GroupBy:[makeGeneric(List$2,{T:"string"}),makeGeneric(List$2,{T:Aggregation})],Metadata:[],Paging:[makeGeneric(List$2,{T:Paging})],SortBy:[makeGeneric(List$2,{T:Tuple(["string",SortDirection])})]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.TypeProviders.Pivot.Transformation",Transformation);var Field=function(){function e(t,n){_classCallCheck(this,e),this.Name=t,this.Type=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.Pivot.Field",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{Name:"string",Type:PrimitiveType}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.Pivot.Field",Field);var Transform=function(e){var t=function(e){return"CountAll"===e.Case?"count-all":"CountDistinct"===e.Case?"count-dist "+escapeIdent(e.Fields[0]):"ReturnUnique"===e.Case?"unique "+escapeIdent(e.Fields[0]):"ConcatValues"===e.Case?"concat-vals "+escapeIdent(e.Fields[0]):"Sum"===e.Case?"sum "+escapeIdent(e.Fields[0]):"Mean"===e.Case?"mean "+escapeIdent(e.Fields[0]):"key"},n=(e.toUrl=function(e){return join("$",map$4(function(e){return null==e[1].tail?e[0]:e[0]+"("+join(",",e[1])+")"},concat$$1(toList(delay(function(){return map$5(function(e){return"Metadata"===e.Case?ofArray([["metadata",new List$2]]):"GetRange"===e.Case?ofArray([["range",ofArray([e.Fields[0]])]]):"FilterBy"===e.Case?ofArray([["filter",map$4(function(e){return e[0]+(e[1]?" eq ":" neq ")+e[2]},e.Fields[0])]]):"DropColumns"===e.Case?ofArray([["drop",e.Fields[0]]]):"SortBy"===e.Case?ofArray([["sort",map$4(function(e){return e[0]+(e[1].Equals(new SortDirection("Ascending",[]))?" asc":" desc")},e.Fields[0])]]):"GroupBy"===e.Case?ofArray([["groupby",append$$1(map$4(function(e){return"by "+escapeIdent(e)},e.Fields[0]),map$4(function(e){return t(e)},e.Fields[1]))]]):"Paging"===e.Case?map$4(function(e){return"Skip"===e.Case?["skip",ofArray([e.Fields[0]])]:["take",ofArray([e.Fields[0]])]},e.Fields[0]):"GetSeries"===e.Case?ofArray([["series",ofArray([e.Fields[0],e.Fields[1]])]]):("Empty"===e.Case,new List$2)},e)})))))},e.singleTransformFields=function(e,t){return"Metadata"===t.Case?function(){throw new Error("Metadata should not appear in normal queries")}():"GetRange"===t.Case?function(){throw new Error("GetRange should not appear in normal queries")}():"GetTheData"===t.Case?e:"SortBy"===t.Case?e:"Paging"===t.Case?e:"FilterBy"===t.Case?e:"GetSeries"===t.Case?ofArray([find(function(e){return e.Name===t.Fields[0]},e),find(function(e){return e.Name===t.Fields[1]},e)]):"DropColumns"===t.Case?function(){var n=create$3(t.Fields[0],new GenericComparer(function(e,t){return e<t?-1:e>t?1:0}));return filter$1(function(e){return!n.has(e.Name)},e)}():"GroupBy"===t.Case?function(){var n=new _Map(toList(delay(function(){return map$5(function(e){return[e.Name,e]},e)})));return collect$$1(function(e){var i=function(e){return ofArray([n.get(e)])};return"ReturnUnique"===e.Case?i(e.Fields[0]):"ConcatValues"===e.Case?i(e.Fields[0]):"Sum"===e.Case?i(e.Fields[0]):"Mean"===e.Case?ofArray([n.get(e.Fields[0])]):"CountAll"===e.Case?ofArray([new Field("count",new PrimitiveType("Number",[]))]):"CountDistinct"===e.Case?ofArray([new Field(n.get(e.Fields[0]).Name,new PrimitiveType("Number",[]))]):map$4(function(e){return n.get(e)},t.Fields[0])},t.Fields[1])}():e});e.transformFields=function(e,t){return toList(function(){var t=toList(e);return function(e){return fold$1(function(e,t){return n(e,t)},t,e)}}()(t))};return e}({}),propertyEmitter=new Emitter(function(e){return e[0]}),Context$2=function(){function e(t,n,i,r){_classCallCheck(this,e),this.Root=t,this.LookupNamed=n,this.InputFields=i,this.Fields=r}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.Pivot.Context",interfaces:["FSharpRecord"],properties:{Root:"string",LookupNamed:"function",InputFields:makeGeneric(List$2,{T:Field}),Fields:makeGeneric(List$2,{T:Field})}}}}]),e}();setType("TheGamma.TypeProviders.Pivot.Context",Context$2);var PivotSection=function(){function e(t,n){_classCallCheck(this,e),this.Transformation=t,this.Nodes=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Live.Pivot.PivotSection",interfaces:["FSharpRecord"],properties:{Transformation:Transformation,Nodes:makeGeneric(List$2,{T:makeGeneric(_Node,{T:Expr})})}}}}]),e}();setType("TheGamma.Live.Pivot.PivotSection",PivotSection);var PivotEditorMenus=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Live.Pivot.PivotEditorMenus",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{AddDropdownOpen:[],ContextualDropdownOpen:[],Hidden:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Live.Pivot.PivotEditorMenus",PivotEditorMenus);var PivotEditorAction=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Live.Pivot.PivotEditorAction",interfaces:["FSharpUnion"],cases:{AddElement:[Interface("TheGamma.Common.Symbol"),"string",Option(makeGeneric(List$2,{T:Expr}))],AddTransform:[Transformation],RemoveElement:[Interface("TheGamma.Common.Symbol")],RemoveSection:[Interface("TheGamma.Common.Symbol")],ReplaceElement:[Interface("TheGamma.Common.Symbol"),"string",Option(makeGeneric(List$2,{T:Expr}))],ReplaceRange:[_Range,"string"],SelectChainElement:["number"],SelectRange:[_Range],SwitchMenu:[PivotEditorMenus],UpdatePreview:[DomNode]}}}}]),e}();setType("TheGamma.Live.Pivot.PivotEditorAction",PivotEditorAction);var PivotEditorState=function(){function e(t,n,i,r,o,s,a){_classCallCheck(this,e),this.Body=t,this.FirstNode=n,this.Preview=i,this.Sections=r,this.SelectedEntity=o,this.Menus=s,this.Focus=a}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Live.Pivot.PivotEditorState",interfaces:["FSharpRecord"],properties:{Body:makeGeneric(_Node,{T:Expr}),FirstNode:makeGeneric(_Node,{T:Expr}),Preview:DomNode,Sections:makeGeneric(List$2,{T:PivotSection}),SelectedEntity:Entity,Menus:PivotEditorMenus,Focus:Option(Tuple(["string",Option("number")]))}}}}]),e}();setType("TheGamma.Live.Pivot.PivotEditorState",PivotEditorState);var marker="InsertPropertyHere",preview=new LivePreview(function(e){return function(t){return function(n){return updatePivotState(e,t,n)}}},function(e){return function(t){return renderPivot(e,t)}},function(){var e=node(new _Range(0,0),new Expr("Empty",[])),t=node(new _Range(0,0),new Expr("Empty",[])),n=null;return new PivotEditorState(e,t,text("not created"),new List$2,n,new PivotEditorMenus("Hidden",[]))}()),ShowableEditorState=function(){function e(t,n,i,r){_classCallCheck(this,e),this.EndLocation=t,this.Preview=n,this.PreviewSymbol=i,this.PreviewID=r}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Live.Showable.ShowableEditorState",interfaces:["FSharpRecord"],properties:{EndLocation:"number",Preview:DomNode,PreviewSymbol:Interface("TheGamma.Common.Symbol"),PreviewID:"number"}}}}]),e}();setType("TheGamma.Live.Showable.ShowableEditorState",ShowableEditorState);var preview$1=new LivePreview(function(e){return function(t){return function(n){return updateShowableState(e,t,n)}}},function(e){return function(t){return renderShowable(e,t)}},function(){var e=0,t=_Symbol2();return new ShowableEditorState(0,text("not created"),t,e)}()),defineEnumerableProperties=createCommonjsModule(function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=defineProperty$1,r=n(i);t.default=function(e,t){for(var n in t){var i=t[n];i.configurable=i.enumerable=!0,"value"in i&&(i.writable=!0),(0,r.default)(e,n,i)}return e}}),_defineEnumerableProperties=unwrapExports(defineEnumerableProperties),_noState,_tokensProvider,i$2=1;eval("monaco$"+i$2+" = monaco"),monaco=monaco;var noState=(_noState={},_defineProperty(_noState,_Symbol.reflection,{interfaces:["Fable.Import.monaco.languages.IState"]}),_defineProperty(_noState,"clone",function(){return this}),_defineProperty(_noState,"equals",function(e){return!0}),_noState),tokensProvider=(_tokensProvider={},_defineProperty(_tokensProvider,_Symbol.reflection,{interfaces:["Fable.Import.monaco.languages.TokensProvider"]}),_defineProperty(_tokensProvider,"tokenize",function(e,t){var n={};n.endState=noState,n.tokens=[];for(var i=tokenize(e),r=0;r<=i[0].length-1;r++){var o=i[0][r],s={};s.startIndex=o.Range.Start,s.scopes=getColorClass(o.Token),n.tokens.push(s)}return n}),_defineProperty(_tokensProvider,"getInitialState",function(){return noState}),_tokensProvider),createdEditors=new _Map,TheGammaProviders=function(){function e(t){_classCallCheck(this,e),this.globals=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"Main.TheGammaProviders",interfaces:["FSharpRecord","System.IEquatable"],properties:{globals:Interface("TheGamma.Common.Future")}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("Main.TheGammaProviders",TheGammaProviders);var TheGammaContext=function(){function e(t,n){_classCallCheck(this,e),this.checkingService=t,this.providers=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"Main.TheGammaContext",interfaces:["FSharpRecord","System.IEquatable"],properties:{checkingService:CheckingService,providers:TheGammaProviders}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("Main.TheGammaContext",TheGammaContext);var previews=ofArray([preview,preview$1]),editorOptions=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.width=t,this.height=n,this.maxHeight=i,this.autoHeight=r,this.monacoOptions=o}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"Main.editorOptions",interfaces:["FSharpRecord"],properties:{width:Option("number"),height:Option("number"),maxHeight:Option("number"),autoHeight:Option("boolean"),monacoOptions:Option("function")}}}}]),e}();setType("Main.editorOptions",editorOptions);var error=function(){function e(t,n,i,r,o,s){_classCallCheck(this,e),this.number=t,this.message=n,this.startLine=i,this.startColumn=r,this.endLine=o,this.endColumn=s}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"Main.error",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{number:"number",message:"string",startLine:"number",startColumn:"number",endLine:"number",endColumn:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("Main.error",error);var defaultEditorOptions=new editorOptions,editor$1=function(){function e(t){_classCallCheck(this,e),this.ed=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"Main.editor",properties:{}}}}]),_createClass(e,[{key:"getValue",value:function(){return this.ed.getModel().getValue(1,!1)}},{key:"setValue",value:function(e){this.ed.getModel().setValue(e)}}]),e}();setType("Main.editor",editor$1);var gamma=function(){function e(t){_classCallCheck(this,e),this.ctx=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"Main.gamma",properties:{}}}}]),_createClass(e,[{key:"evaluate",value:function(e,t){var n=this;!function(e){startImmediate(e)}(function(i){return i.Delay(function(){return i.TryWith(i.Delay(function(){return i.Bind(_evaluate(n.ctx,e,t),function(){return i.Return()})}),function(t){return Log.exn("api","Evaluating code '%O' failed with error '%O'.",e,t),i.Zero()})})}(singleton$2))}},{key:"errorsReported",value:function(e){add$6(function(t){e(_Array$from(sortWith(function(e,t){return compare(function(e){return e.Range.Start}(e),function(e){return e.Range.Start}(t))},t[1])).map(function(e){return new error(e.Number,e.Message,e.Range.Start.Line,e.Range.Start.Column,e.Range.End.Line,e.Range.End.Column)}))},this.ctx.checkingService.ErrorsReported)}},{key:"createEditor",value:function(e,t,n){var i=20,r=null!=n?n:defaultEditorOptions,o=document.getElementById(e),s=null!=r.width?r.width:o.clientWidth,a=null!=r.height?r.height:o.clientHeight,l=null!=r.maxHeight?r.maxHeight:2147483647,u=createMonacoEditor(e,t,this.ctx.checkingService,function(e){e.fontSize=15,e.lineHeight=20,(null!=r.monacoOptions?r.monacoOptions:function(e){})(e);var t=e.lineHeight;null!=t&&(i=t)}),c={};c.width=s,c.height=a,u.layout(c);var p=new PreviewService(this.ctx.checkingService,this.ctx.providers.globals,u,previews),h=-1,f=function(){var e=u.getModel().getValue(1,!1),t=1+e.split("\n").length,n=compare(l,200>20*t+p.ZoneHeight?200:20*t+p.ZoneHeight)<0?l:200>20*t+p.ZoneHeight?200:20*t+p.ZoneHeight;if(!equals(n,h)){h=n;var i={};i.width=s,i.height=n,u.layout(i),o.style.height=String(i.height)+"px",o.style.width=String(i.width)+"px"}};return equals(r.autoHeight,!0)&&(u.getModel().onDidChangeContent(function(e){f()}),add$6(function(){f()},p.ZoneSizeChanged),f()),new editor$1(u)}}],[{key:"createContext",value:function(t){var n=new CheckingService("",t.globals);return new e(new TheGammaContext(n,t))}}]),e}();setType("Main.gamma",gamma);var providers=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"Main.providers",properties:{}}}}],[{key:"createProviders",value:function(e){var t=buildGlobalsTable(function(t){return function(n){return n.Delay(function(){var i=function(e){return _Object$keys(e).map(function(t){return{key:t,value:e[t]}})}(e).map(function(e){return e.value(e.key)(t)});return n.Bind(parallel(i),function(e){return n.Return(concat$1(e))})})}(singleton$2)});return new TheGammaProviders(t)}},{key:"rest",value:function(e,t){return function(n){return function(i){return function(r){return r.Delay(function(){return r.Return(ofArray([RestProvider.provideRestType(i,n,e,null!=t?t:"")]))})}(singleton$2)}}}},{key:"library",value:function(e){return function(t){return function(t){return FSharpProvider.provideFSharpTypes(t,e)}}}},{key:"pivot",value:function(e){return function(t){return function(n){return function(i){return i.Delay(function(){return i.Bind(Http.Request("GET",e+"?metadata"),function(r){var o=function(e){return _Object$keys(e).map(function(t){return{key:t,value:e[t]}})}(JSON.parse(r)).map(function(e){var t=function(){var t=e.value,n=null;switch(t){case"string":n=new PrimitiveType("String",[]);break;case"bool":n=new PrimitiveType("Bool",[]);break;case"number":n=new PrimitiveType("Number",[]);break;default:throw new Error(fsFormat("The property '%s' has invalid type '%s'. Only 'string', 'number' and 'bool' are supported.")(function(e){return e})(e.key)(t))}return n}();return[e.key,t]});return i.Return(ofArray([providePivotType(e,t,n,o)]))})})}(singleton$2)}}}}]),e}();setType("Main.providers",providers),exports.evaluate=_evaluate,exports.buildGlobalsTable=buildGlobalsTable,exports.TheGammaProviders=TheGammaProviders,exports.TheGammaContext=TheGammaContext,exports.callShowMethod=callShowMethod,exports.previews=previews,exports.editorOptions=editorOptions,exports.error=error,exports.defaultEditorOptions=defaultEditorOptions,exports.editor=editor$1,exports.gamma=gamma,exports.providers=providers,Object.defineProperty(exports,"__esModule",{value:!0})});

//# sourceMappingURL=thegamma.min.js.map